/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

dojo.provide("misys.layer.report");if(!dojo._hasResource["dojo.behavior"]){dojo._hasResource["dojo.behavior"]=true;dojo.provide("dojo.behavior");dojo.behavior=new function(){function _1(_2,_3){if(!_2[_3]){_2[_3]=[];}return _2[_3];};var _4=0;function _5(_6,_7,_8){var _9={};for(var x in _6){if(typeof _9[x]=="undefined"){if(!_8){_7(_6[x],x);}else{_8.call(_7,_6[x],x);}}}};this._behaviors={};this.add=function(_a){var _b={};_5(_a,this,function(_c,_d){var _e=_1(this._behaviors,_d);if(typeof _e["id"]!="number"){_e.id=_4++;}var _f=[];_e.push(_f);if((dojo.isString(_c))||(dojo.isFunction(_c))){_c={found:_c};}_5(_c,function(_10,_11){_1(_f,_11).push(_10);});});};var _12=function(_13,_14,_15){if(dojo.isString(_14)){if(_15=="found"){dojo.publish(_14,[_13]);}else{dojo.connect(_13,_15,function(){dojo.publish(_14,arguments);});}}else{if(dojo.isFunction(_14)){if(_15=="found"){_14(_13);}else{dojo.connect(_13,_15,_14);}}}};this.apply=function(){_5(this._behaviors,function(_16,id){dojo.query(id).forEach(function(_17){var _18=0;var bid="_dj_behavior_"+_16.id;if(typeof _17[bid]=="number"){_18=_17[bid];if(_18==(_16.length)){return;}}for(var x=_18,_19;_19=_16[x];x++){_5(_19,function(_1a,_1b){if(dojo.isArray(_1a)){dojo.forEach(_1a,function(_1c){_12(_17,_1c,_1b);});}});}_17[bid]=_16.length;});});};};dojo.addOnLoad(dojo.behavior,"apply");}if(!dojo._hasResource["dijit.layout.BorderContainer"]){dojo._hasResource["dijit.layout.BorderContainer"]=true;dojo.provide("dijit.layout.BorderContainer");dojo.declare("dijit.layout.BorderContainer",dijit.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_1d){var _1e=_1d.region;if(_1e){this.inherited(arguments);dojo.addClass(_1d.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_1e=="leading"){_1e=ltr?"left":"right";}if(_1e=="trailing"){_1e=ltr?"right":"left";}if(_1e!="center"&&(_1d.splitter||this.gutters)&&!_1d._splitterWidget){var _1f=dojo.getObject(_1d.splitter?this._splitterClass:"dijit.layout._Gutter");var _20=new _1f({id:_1d.id+"_splitter",container:this,child:_1d,region:_1e,live:this.liveSplitters});_20.isSplitter=true;_1d._splitterWidget=_20;dojo.place(_20.domNode,_1d.domNode,"after");_20.startup();}_1d.region=_1e;}},layout:function(){this._layoutChildren();},addChild:function(_21,_22){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_23){var _24=_23.region;var _25=_23._splitterWidget;if(_25){_25.destroy();delete _23._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}dojo.removeClass(_23.domNode,this.baseClass+"Pane");dojo.style(_23.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});dojo.style(_23.domNode,_24=="top"||_24=="bottom"?"width":"height","auto");},getChildren:function(){return dojo.filter(this.inherited(arguments),function(_26){return !_26.isSplitter;});},getSplitter:function(_27){return dojo.filter(this.getChildren(),function(_28){return _28.region==_27;})[0]._splitterWidget;},resize:function(_29,_2a){if(!this.cs||!this.pe){var _2b=this.domNode;this.cs=dojo.getComputedStyle(_2b);this.pe=dojo._getPadExtents(_2b,this.cs);this.pe.r=dojo._toPixelValue(_2b,this.cs.paddingRight);this.pe.b=dojo._toPixelValue(_2b,this.cs.paddingBottom);dojo.style(_2b,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_2c,_2d){if(!this._borderBox||!this._borderBox.h){return;}var _2e=dojo.map(this.getChildren(),function(_2f,idx){return {pane:_2f,weight:[_2f.region=="center"?Infinity:0,_2f.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_2f.region)?1:-1),idx]};},this);_2e.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _30=[];dojo.forEach(_2e,function(_31){var _32=_31.pane;_30.push(_32);if(_32._splitterWidget){_30.push(_32._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};dijit.layout.layoutChildren(this.domNode,dim,_30,_2c,_2d);},destroyRecursive:function(){dojo.forEach(this.getChildren(),function(_33){var _34=_33._splitterWidget;if(_34){_34.destroy();}delete _33._splitterWidget;});this.inherited(arguments);}});dojo.extend(dijit._Widget,{region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity});dojo.declare("dijit.layout._Splitter",[dijit._Widget,dijit._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _35=dojo.cookie(this._cookieName);if(_35){this.child.domNode.style[this.horizontal?"height":"width"]=_35;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_36=dojo.marginBox(this.child.domNode)[dim],_37=dojo.filter(this.container.getChildren(),function(_38){return _38.region=="center";})[0],_39=dojo.marginBox(_37.domNode)[dim];return Math.min(this.child.maxSize,_36+_39);},_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");dojo.addClass(this.cover,"dijitSplitterCover");dojo.place(this.cover,this.child.domNode,"after");}dojo.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){dojo.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");dojo.addClass(this.domNode,"dijitSplitterShadow");dojo.place(this.fake,this.domNode,"after");}dojo.addClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){dojo.removeClass(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _3a=this._factor,_3b=this.horizontal,_3c=_3b?"pageY":"pageX",_3d=e[_3c],_3e=this.domNode.style,dim=_3b?"h":"w",_3f=dojo.marginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_40=this.region,_41=_40=="top"||_40=="bottom"?"top":"left",_42=parseInt(_3e[_41],10),_43=this._resize,_44=dojo.hitch(this.container,"_layoutChildren",this.child.id),de=dojo.doc;this._handlers=(this._handlers||[]).concat([dojo.connect(de,"onmousemove",this._drag=function(e,_45){var _46=e[_3c]-_3d,_47=_3a*_46+_3f,_48=Math.max(Math.min(_47,max),min);if(_43||_45){_44(_48);}_3e[_41]=_46+_42+_3a*(_48-_47)+"px";}),dojo.connect(de,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent),dojo.connect(de,"onmouseup",this,"_stopDrag")]);dojo.stopEvent(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");dojo.toggleClass(this.domNode,"dijitSplitterHover",o);dojo.toggleClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){dojo.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){dojo.destroy(this.fake);}dojo.removeClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){dojo.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){dojo.forEach(this._handlers,dojo.disconnect);delete this._handlers;},_onKeyPress:function(e){this._resize=true;var _49=this.horizontal;var _4a=1;var dk=dojo.keys;switch(e.charOrCode){case _49?dk.UP_ARROW:dk.LEFT_ARROW:_4a*=-1;case _49?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _4b=dojo._getMarginSize(this.child.domNode)[_49?"h":"w"]+this._factor*_4a;this.container._layoutChildren(this.child.id,Math.max(Math.min(_4b,this._computeMaxSize()),this.child.minSize));dojo.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});dojo.declare("dijit.layout._Gutter",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}if(!dojo._hasResource["misys.report.definitions.report_all_candidates"]){dojo._hasResource["misys.report.definitions.report_all_candidates"]=true;dojo.provide("misys.report.definitions.report_all_candidates");arrProductColumn["AllMaster"][0]="ref_id";arrProductColumn["AllMaster"][1]="template_id";arrProductColumn["AllMaster"][2]="bo_ref_id";arrProductColumn["AllMaster"][3]="cust_ref_id";arrProductColumn["AllMaster"][4]="prod_stat_code";arrProductColumn["AllMaster"][5]="appl_date";arrProductColumn["AllMaster"][6]="iss_date";arrProductColumn["AllMaster"][7]="cur_code";arrProductColumn["AllMaster"][8]="amt";arrProductColumn["AllMaster"][9]="liab_amt";arrProductColumn["AllMaster"][10]="entity";arrProductColumn["AllMaster"][11]="product_code";arrProductColumn["AllMaster"][12]="customer_name";arrProductColumn["AllMaster"][13]="customer_address_line_1";arrProductColumn["AllMaster"][14]="customer_address_line_2";arrProductColumn["AllMaster"][15]="customer_dom";arrProductColumn["AllMaster"][16]="customer_reference";arrProductColumn["AllMaster"][17]="counterparty_name";arrProductColumn["AllMaster"][18]="counterparty_address_line_1";arrProductColumn["AllMaster"][19]="counterparty_address_line_2";arrProductColumn["AllMaster"][20]="counterparty_dom";arrProductColumn["AllMaster"][21]="counterparty_reference";arrProductColumn["AllMaster"][22]="MainBank@name";arrProductColumn["AllMaster"][23]="MainBank@address_line_1";arrProductColumn["AllMaster"][24]="MainBank@address_line_2";arrProductColumn["AllMaster"][25]="MainBank@dom";arrProductColumn["AllMaster"][26]="Charge@chrg_code";arrProductColumn["AllMaster"][27]="Charge@amt";arrProductColumn["AllMaster"][28]="Charge@cur_code";arrProductColumn["AllMaster"][29]="Charge@status";arrProductColumn["AllMaster"][30]="Charge@additional_comment";arrProductColumn["AllMaster"][31]="Charge@settlement_date";arrProductColumn["AllMaster"][32]="Charge@chrg_type";arrProductColumn["AllMaster"][33]="sub_product_code";arrProductColumn["AllTnx"][0]="ref_id";arrProductColumn["AllTnx"][1]="template_id";arrProductColumn["AllTnx"][2]="bo_ref_id";arrProductColumn["AllTnx"][3]="cust_ref_id";arrProductColumn["AllTnx"][4]="tnx_type_code";arrProductColumn["AllTnx"][5]="sub_tnx_type_code";arrProductColumn["AllTnx"][6]="prod_stat_code";arrProductColumn["AllTnx"][7]="tnx_val_date";arrProductColumn["AllTnx"][8]="tnx_amt";arrProductColumn["AllTnx"][9]="tnx_cur_code";arrProductColumn["AllTnx"][10]="tnx_stat_code";arrProductColumn["AllTnx"][11]="appl_date";arrProductColumn["AllTnx"][12]="iss_date";arrProductColumn["AllTnx"][13]="cur_code";arrProductColumn["AllTnx"][14]="amt";arrProductColumn["AllTnx"][15]="liab_amt";arrProductColumn["AllTnx"][16]="entity";arrProductColumn["AllTnx"][17]="product_code";arrProductColumn["AllTnx"][18]="customer_name";arrProductColumn["AllTnx"][19]="customer_address_line_1";arrProductColumn["AllTnx"][20]="customer_address_line_2";arrProductColumn["AllTnx"][21]="customer_dom";arrProductColumn["AllTnx"][22]="customer_reference";arrProductColumn["AllTnx"][23]="counterparty_name";arrProductColumn["AllTnx"][24]="counterparty_address_line_1";arrProductColumn["AllTnx"][25]="counterparty_address_line_2";arrProductColumn["AllTnx"][26]="counterparty_dom";arrProductColumn["AllTnx"][27]="counterparty_reference";arrProductColumn["AllTnx"][28]="principal_act_no";arrProductColumn["AllTnx"][29]="fee_act_no";arrProductColumn["AllTnx"][30]="MainBank@name";arrProductColumn["AllTnx"][31]="MainBank@address_line_1";arrProductColumn["AllTnx"][32]="MainBank@address_line_2";arrProductColumn["AllTnx"][33]="MainBank@dom";arrProductColumn["AllTnx"][36]="Inputter@last_name";arrProductColumn["AllTnx"][37]="Inputter@first_name";arrProductColumn["AllTnx"][38]="inp_dttm";arrProductColumn["AllTnx"][41]="LastController@validation_dttm";arrProductColumn["AllTnx"][42]="Releaser@last_name";arrProductColumn["AllTnx"][43]="Releaser@first_name";arrProductColumn["AllTnx"][44]="release_dttm";arrProductColumn["AllTnx"][45]="Charge@chrg_code";arrProductColumn["AllTnx"][46]="Charge@amt";arrProductColumn["AllTnx"][47]="Charge@cur_code";arrProductColumn["AllTnx"][48]="Charge@status";arrProductColumn["AllTnx"][49]="Charge@additional_comment";arrProductColumn["AllTnx"][50]="Charge@settlement_date";arrProductColumn["AllTnx"][51]="bo_release_dttm";arrProductColumn["AllTnx"][52]="sub_product_code";arrProductColumn["AllTnx"][53]="bo_tnx_id";arrProductColumn["AllTnx"][54]="company_name";arrProductColumn["AllTnx"][57]="BOReleaser@last_name";arrProductColumn["AllTnx"][55]="BOInputter@last_name";arrProductColumn["AllTnx"][56]="BOInputter@first_name";arrProductColumn["AllTnx"][58]="BOReleaser@first_name";arrProductColumn["AllTnx"][59]="bo_inp_dttm";arrProductColumn["AllTnx"][61]="LastController@LastControllerUser@first_name";arrProductColumn["AllTnx"][62]="LastController@LastControllerUser@last_name";arrProductColumn["AllTemplate"][1]="template_id";arrProductColumn["AllTemplate"][2]="template_description";arrProductColumn["AllTemplate"][3]="iss_date";arrProductColumn["AllTemplate"][4]="customer_name";arrProductColumn["AllTemplate"][5]="customer_address_line_1";arrProductColumn["AllTemplate"][6]="customer_address_line_2";arrProductColumn["AllTemplate"][7]="customer_dom";arrProductColumn["AllTemplate"][8]="customer_reference";arrProductColumn["AllTemplate"][9]="counterparty_name";arrProductColumn["AllTemplate"][10]="counterparty_address_line_1";arrProductColumn["AllTemplate"][11]="counterparty_address_line_2";arrProductColumn["AllTemplate"][12]="counterparty_dom";arrProductColumn["AllTemplate"][13]="counterparty_reference";arrProductColumn["AllTemplate"][14]="MainBank@name";arrProductColumn["AllTemplate"][15]="MainBank@address_line_1";arrProductColumn["AllTemplate"][16]="MainBank@address_line_2";arrProductColumn["AllTemplate"][17]="MainBank@dom";arrComputation=[];arrComputation["+"]="sum";arrComputation["-"]="subtract";arrComputation["*"]="multiplication";arrComputation["/"]="division";}if(!dojo._hasResource["misys.client.report.common_client"]){dojo._hasResource["misys.client.report.common_client"]=true;dojo.provide("misys.client.report.common_client");(function(d,dj,m){})(dojo,dijit,misys);}if(!dojo._hasResource["misys.report.common"]){dojo._hasResource["misys.report.common"]=true;dojo.provide("misys.report.common");(function(d,dj,m){var _4c=" in arrColumn";var _4d="overall-aggregates";var _4e="group-aggregates";var _4f="chart-aggregates";var _50="columns-grid";var _51="chart-fields";m._config=m._config||{};d.mixin(m._config,{isValid:false});d.mixin(m,{arrComputedFieldIds:[],getProductDecode:function(_52){return arrCandidateName[_52];},getColumnDecode:function(_53){return arrColumn[_53][1];},getDisplayedColumn:function(_54,_55){if(_55){var _56=d.isArray(_55.computed_field_id)?_55.computed_field_id[0]:_55.computed_field_id;if(_56!==""){return m.getLocalization("computedLabel");}var _57=d.isArray(_55.column)?_55.column[0]:_55.column;return m.getColumnDecode(_57);}},getDisplayedColumnLabel:function(_58,_59){if(_59){if(_59.computed_field_id!=""){return _59.computed_field_id;}return _59["label_"+language];}},loadProductColumns:function(){var _5a=this.get("value").toLowerCase();if(misys.reportclient&&misys.reportclient.loadProductColumns){misys.reportclient.loadProductColumns(_5a);}else{try{if(_5a.indexOf("tnx")!=-1){_5a=_5a.substring(0,_5a.indexOf("tnx"));}if(_5a.indexOf("template")!=-1){_5a=_5a.substring(0,_5a.indexOf("template"))+"_template";}if(dj.byId("isSwift2019Enabled").get("value")&&(_5a==="bg"||_5a==="bg_template"||_5a==="br")){if(_5a==="bg"){dojo["require"]("misys.report.definitions.report_iu_candidate");}else{if(_5a==="bg_template"){dojo["require"]("misys.report.definitions.report_iu_template_candidate");}else{if(_5a==="br"){dojo["require"]("misys.report.definitions.report_ru_candidate");}}}}else{dojo["require"]("misys.report.definitions.report_"+_5a+"_candidate");}initialiseProductArrays(_5a);}catch(e){}}},validateBasicReportInputFields:function(){var _5b=this;if(_5b&&_5b.get("value")&&dj.byId("swiftregexValue")&&dj.byId("swiftregexValue").get("value")){var _5c=new RegExp(dj.byId("swiftregexValue").get("value"));if(_5b&&_5c.test(_5b.get("value"))==false){m.dialog.show("ERROR",m.getLocalization("invalidSWIFTTransactionError"));_5b.set("value","");_5b.set("state","Error");_5b.focus();return false;}return true;}},toggleProductSections:function(){var _5d;if(dj.byId("system_type")&&dj.byId("system_type").get("checked")){dj.byId("multi_product").set("checked",false);_5d=function(){m.toggleFields(true,null,["system_product"]);dj.byId("products").clear();m.toggleColumnSection(false);m.toggleReportDetailSections(false);};m.animate("fadeIn",d.byId("system_feture_section"),_5d);m.animate("fadeOut",d.byId("single_product_section"));m.animate("fadeOut",d.byId("multi_product_section"));m.animate("fadeOut",d.byId("multi_product_row"));m.resetCandidateColumns();}else{m.animate("fadeIn",d.byId("multi_product_row"));var _5e=dj.byId("multi_product").get("checked");_5d=function(){m.toggleFields(!_5e,null,["single_product"]);m.toggleFields(false,null,["system_product"]);if(!_5e){dj.byId("products").clear();}m.toggleColumnSection(false);m.toggleReportDetailSections(false);};if(_5e){m.animate("fadeIn",d.byId("multi_product_section"),_5d);m.animate("fadeOut",d.byId("single_product_section"));m.animate("fadeOut",d.byId("system_feture_section"));}else{m.animate("fadeIn",d.byId("single_product_section"),_5d);m.animate("fadeOut",d.byId("multi_product_section"));m.animate("fadeOut",d.byId("system_feture_section"));}m.resetCandidateColumns();}},toggleColumnSection:function(_5f){dj.byId("columns").clear();dj.byId("order_list_by_default").set("checked",false);dj.byId("use_absolute_width").set("checked",false);if(_5f){m.animate("fadeIn",d.byId("columns-section"));}else{m.animate("fadeOut",d.byId("columns-section"));}m.resetCandidateColumns();},toggleReportDetailSections:function(_60){var _61=[];_61.push(d.byId("parameters-section"));_61.push(d.byId("filters-section"));_61.push(d.byId("overall-aggregates-section"));_61.push(d.byId("grouping-section"));_61.push(d.byId("chart-section"));if(_60){d.forEach(_61,function(_62){m.animate("fadeIn",_62);});}else{dj.byId("parameters").clear();dj.byId("filters").clear();dj.byId(_4d).clear();dj.byId(_4e).clear();dj.byId(_4f).clear();dj.byId("grouping_enable").set("checked",false);dj.byId("chart_flag").set("checked",false);dj.byId("order_list_by_default").set("checked",false);d.forEach(_61,function(_63){m.animate("fadeOut",_63);});}},toggleCriteriumFields:function(){var _64=[];_64.push(d.byId("criterium_parameter_section"));_64.push(d.byId("criterium_pre_defined_value_section"));_64.push(d.byId("criterium_values_set_section"));_64.push(d.byId("criterium_string_section"));_64.push(d.byId("criterium_number_section"));_64.push(d.byId("criterium_amount_section"));_64.push(d.byId("criterium_date_section"));_64.push(d.byId("criterium_values_set_section"));_64.push(d.byId("criterium_parameter_default_string_section"));_64.push(d.byId("criterium_parameter_default_number_section"));_64.push(d.byId("criterium_parameter_default_amount_section"));_64.push(d.byId("criterium_parameter_default_date_section"));_64.push(d.byId("criterium_parameter_default_values_set_section"));var _65=[];var _66=dj.byId("criterium_column").get("value");if(_66!==""){var _67=dj.byId("criterium_value_type_1").get("checked");var _68=dj.byId("criterium_value_type_2").get("checked");var _69=dj.byId("criterium_value_type_3").get("checked");var _6a=arrColumn[_66][0];var _6b=function(){m.toggleFields(_67,["criterium_parameter_default_string_value","criterium_parameter_default_number_value","criterium_parameter_default_date_value","criterium_parameter_default_values_set"],["criterium_parameter"],true);m.toggleFields(_68,["criterium_string_value","criterium_number_value","criterium_values_set","criterium_date_value","criterium_amount_value"],null,true);m.toggleFields(_69,["criterium_parameter_default_date_type_1","criterium_parameter_default_date_type_2","criterium_parameter_default_date_type_3","criterium_parameter_default_date_type_4","criterium_parameter_default_date_type_5","criterium_parameter_default_date_type_6"],null,true);};if(_67){_65.push(d.byId("criterium_parameter_section"));if(_6a==="String"){_65.push(d.byId("criterium_parameter_default_string_section"));}else{if(_6a==="Number"){_65.push(d.byId("criterium_parameter_default_number_section"));}}if(_6a==="Amount"){_65.push(d.byId("criterium_parameter_default_amount_section"));}else{if(_6a==="Date"){_65.push(d.byId("criterium_parameter_default_date_section"));}else{if(arrConstrainedParameterType.indexOf(_6a)!==-1){_65.push(d.byId("criterium_parameter_default_values_set_section"));m._fncSetCriteriumValuesList();}}}m._fncToggleParameterDefaultValuesSection(_6a);}else{if(_68){dj.byId("criterium_string_value").set("required",false);dj.byId("criterium_number_value").set("required",false);dj.byId("criterium_amount_value").set("required",false);dj.byId("criterium_date_value").set("required",false);dj.byId("criterium_values_set").set("required",false);dj.byId("criterium_parameter_default_values_set").set("required",false);if(_6a==="String"){_65.push(d.byId("criterium_string_section"));dj.byId("criterium_string_value").set("required",true);}else{if(_6a==="Number"){_65.push(d.byId("criterium_number_section"));dj.byId("criterium_number_value").set("required",true);}}if(_6a==="Amount"){_65.push(d.byId("criterium_amount_section"));dj.byId("criterium_amount_value").set("required",true);}else{if(_6a==="Date"){_65.push(d.byId("criterium_date_section"));dj.byId("criterium_date_value").set("required",true);}else{if(arrConstrainedParameterType.indexOf(_6a)!==-1){_65.push(d.byId("criterium_values_set_section"));dj.byId("criterium_values_set").set("required",true);m._fncSetCriteriumValuesList(_66);}}}}else{if(_69){_65.push(d.byId("criterium_pre_defined_value_section"));}}}}d.forEach(_64,function(_6c){if(d.indexOf(_65,_6c)===-1){m.animate("fadeOut",_6c);}});d.forEach(_65,function(_6d){m.animate("fadeIn",_6d,_6b);});},toggleAggregateFields:function(){if(m.dialog.isActive){var _6e=m._fncGetParentWidget(this);if(_6e!==null&&_6e.open){dj.byId("aggregate_type").set("value","");dj.byId("aggregate_eqv_cur_code").set("value","");dj.byId("aggregate_use_product_currency").set("checked",false);d.forEach(languages,function(_6f){var _70=dj.byId("aggregate_label_"+_6f);if(_70){_70.set("value","");}});m.toggleCurrencySection();m.setAggregatesList();m._fncDefaultAggregateColumnLabel(true);}}},toggleCurrencySection:function(){if(m.reportclient&&m.reportclient.toggleCurrencySection){m.reportclient.toggleCurrencySection();}else{var _71=dj.byId("aggregate_column").get("value");var _72=dj.byId("aggregate_type").get("value");var _73=dj.byId("aggregate_eqv_cur_code").get("value");var _74=(_71!==""&&arrColumn[_71][0]==="Amount")&&(_72!==""&&_72!=="count");var _75=function(){};var _76=[d.byId("aggregate_eqv_currency_section"),d.byId("auto_determine_currency_section")];if(_74){d.forEach(_76,function(_77){m.animate("fadeIn",_77);m.toggleFields(_74,null,["aggregate_eqv_cur_code"],false);});}else{d.forEach(_76,function(_78){m.animate("fadeOut",_78);m.toggleFields(_74,null,["aggregate_eqv_cur_code"],false);});}}},toggleAutoComputationOfEquivalentCurrency:function(){var _79=dj.byId("aggregate_eqv_cur_code").get("value");dj.byId("aggregate_use_product_currency").set("checked",(_79===""));dj.byId("aggregate_use_product_currency").set("disabled",(_79!==""));},toggleEquivalentCurrency:function(){var _7a=dj.byId("aggregate_use_product_currency").get("checked");dj.byId("aggregate_eqv_cur_code").set("required",!_7a);dj.byId("aggregate_eqv_cur_code").set("disabled",_7a);if(_7a){dj.byId("aggregate_eqv_cur_code").set("value","");}},toggleComputedFields:function(){var _7b=dj.byId("computed_field").get("checked");var _7c=function(){m.toggleFields(_7b,null,["computed_field_id","operation","operand"]);};if(_7b){m.animate("fadeIn",d.byId("computation_section"),_7c);}else{m.animate("fadeOut",d.byId("computation_section"),_7c);}},toggleOrderDetails:function(){var _7d=this.get("checked");var _7e=function(){dj.hideTooltip(dijit.byId("addColumnButton").domNode);};if(dijit.byId(_50)){var _7f=function(){m.toggleFields(_7d&&misys._getStoreSize(dijit.byId(_50).store)>0,null,["order_column","order_type"]);};if(_7d&&misys._getStoreSize(dijit.byId(_50).store)>0){m.animate("fadeIn",d.byId("order_details_section"),_7f);}else{m.animate("fadeOut",d.byId("order_details_section"),_7f);}if(misys._getStoreSize(dijit.byId(_50).store)===0){this.set("checked",false);m.showTooltip(m.getLocalization("addAColumnFirst"),dijit.byId("addColumnButton").domNode,["after"]);setTimeout(_7e,1000);}}else{if(_7d){m.showTooltip(m.getLocalization("addAColumnFirst"),dijit.byId("addColumnButton").domNode,["after"]);setTimeout(_7e,1000);}this.set("checked",false);}},toggleGroupingFields:function(_80){var _81=this;var _82=function(){m.toggleFields(_81.get("checked"),null,["grouping_column"],_80,true);};if(this.get("checked")){m.animate("fadeIn",dojo.byId("grouping_details_section"),_82);m._fncClearChartSection();}else{m.animate("fadeOut",dojo.byId("grouping_details_section"),_82);m._fncClearGroupingSection();}},toggleChartFields:function(){var _83=dj.byId("chart_flag").get("checked");var _84=function(){dj.hideTooltip(dijit.byId("addColumnButton").domNode);};if(dijit.byId(_50)){var _85=function(){m.toggleFields(_83&&misys._getStoreSize(dijit.byId(_50).store)>0,null,["chart_axis_x","chart_axis_x_scale","chart_rendering",_4f]);dj.byId("chart_axis_x_scale").set("required",false);};if(_83&&misys._getStoreSize(dijit.byId(_50).store)>0){m.animate("fadeIn",d.byId(_51),_85);m._fncClearGroupingSection();}else{m.animate("fadeOut",d.byId(_51),_85);dj.byId(_4f).clear();}if(dj.byId(_4f).store){dj.byId(_4f).addButtonNode.set("disabled",(m._getStoreSize(dj.byId(_4f).store)>0));}if(misys._getStoreSize(dijit.byId(_50).store)===0){this.set("checked",false);m.showTooltip(m.getLocalization("addAColumnFirst"),dijit.byId("addColumnButton").domNode,["after"]);setTimeout(_84,1000);}}else{if(_83){m.showTooltip(m.getLocalization("addAColumnFirst"),dijit.byId("addColumnButton").domNode,["after"]);setTimeout(_84,1000);}this.set("checked",false);m.animate("fadeOut",d.byId(_51),_85);dj.byId(_4f).clear();}},toggleColumnFields:function(_86){var _87=dj.byId("columns").dialog.open;if(_87){var _88=dj.byId("column").get("value");d.forEach(languages,function(_89){var _8a=dj.byId("label_"+_89);});if(!dj.byId("alignment")){dj.byId("alignment").set("value","");}if(!dj.byId("width")){dj.byId("width").set("value","");}if(!dj.byId("eqv_cur_code")){dj.byId("eqv_cur_code").set("value","");}if(!dj.byId("computed_field_id")){dj.byId("computed_field_id").set("value","");}if(!dj.byId("operation")){dj.byId("operation").set("value","");}if(!dj.byId("operand")){dj.byId("operand").set("value","");}if(arrColumn[_88]){d.attr("eqv_currency_section","style","display:"+(arrColumn[_88][0]==="Amount"?"block":"none"));}if(!dj.byId("computed_field")){dj.byId("computed_field").set("checked",false);m.toggleComputedFields();}if(m.dialog.isActive||dj.byId("label_"+language).get("value")==""){m.defaultColumnLabel(true);}m.setOperatorsList();m.setOperands();}},toggleCriteriumColumnFields:function(){if(m.dialog.isActive){var _8b=m._fncGetParentWidget(this);if(_8b!==null&&_8b.open){dj.byId("criterium_operator").set("value","");dj.byId("criterium_parameter").set("value","");dj.byId("criterium_string_value").set("value","");dj.byId("criterium_number_value").set("value","");dj.byId("criterium_amount_value").set("value","");dj.byId("criterium_date_value").set("value",null);dj.byId("criterium_value_type_1").set("checked",false);dj.byId("criterium_value_type_2").set("checked",false);dj.byId("criterium_value_type_3").set("checked",false);var _8c=[d.byId("criterium_parameter_section"),d.byId("criterium_string_section"),d.byId("criterium_number_section"),d.byId("criterium_amount_section"),d.byId("criterium_date_section"),d.byId("criterium_values_set_section")];d.forEach(_8c,function(_8d){m.animate("fadeOut",_8d);});m.setCriteriumOperatorsList(dj.byId("criterium_column").get("value"));m._fncSetCriteriumValuesList(dj.byId("criterium_column").get("value"));if(this.get("value")!==""&&this.get("value")!==null){var _8e=arrColumn[this.get("value")][0];dj.byId("criterium_column_type").set("value",_8e);m._fncToggleParameterDefaultValuesSection(_8e);dj.byId("criterium_value_type_3").set("disabled",_8e!="Date");dj.byId("criterium_value_type_2").set("hidden",_8e!="String"||_8e!="Date");}}}},toggleCriteriumOperatorFields:function(){if(dj.byId("criterium_operator").get("value")==="isNull"){dj.byId("criterium_parameter").set("value","");dj.byId("criterium_string_value").set("value","");dj.byId("criterium_number_value").set("value","");dj.byId("criterium_amount_value").set("value","");dj.byId("criterium_date_value").set("value",null);dj.byId("criterium_value_type_1").set("checked",false);dj.byId("criterium_value_type_2").set("checked",false);dj.byId("criterium_value_type_3").set("checked",false);}},toggleCriteriumParameterDefaultDate:function(){var _8f="";var _90=d.query("[name='criterium_parameter_default_date_type']",d.byId("criterium_pre_defined_value_section"));d.some(_90,function(_91){var _92=dj.byNode(_91.parentNode);var _93=_92.get("checked");if(_93){_8f=_92.params.value;return true;}});switch(_8f){case "01":m._fncEnableReportExecutionDate(true);m._fncEnableFirstDayOfCurrentMonth(false);m._fncEnableLastDayOfCurrentMonth(false);m._fncEnableToday(false);m._fncEnableTomorrow(false);m._fncEnableYesterday(false);break;case "02":m._fncEnableReportExecutionDate(false);m._fncEnableFirstDayOfCurrentMonth(true);m._fncEnableLastDayOfCurrentMonth(false);m._fncEnableToday(false);m._fncEnableTomorrow(false);m._fncEnableYesterday(false);break;case "03":m._fncEnableReportExecutionDate(false);m._fncEnableFirstDayOfCurrentMonth(false);m._fncEnableLastDayOfCurrentMonth(true);m._fncEnableToday(false);m._fncEnableTomorrow(false);m._fncEnableYesterday(false);break;case "04":m._fncEnableReportExecutionDate(false);m._fncEnableFirstDayOfCurrentMonth(false);m._fncEnableLastDayOfCurrentMonth(false);m._fncEnableToday(true);m._fncEnableTomorrow(false);m._fncEnableYesterday(false);break;case "05":m._fncEnableReportExecutionDate(false);m._fncEnableFirstDayOfCurrentMonth(false);m._fncEnableLastDayOfCurrentMonth(false);m._fncEnableToday(false);m._fncEnableTomorrow(true);m._fncEnableYesterday(false);break;case "06":m._fncEnableReportExecutionDate(false);m._fncEnableFirstDayOfCurrentMonth(false);m._fncEnableLastDayOfCurrentMonth(false);m._fncEnableToday(false);m._fncEnableTomorrow(false);m._fncEnableYesterday(true);break;default:m._fncEnableReportExecutionDate(false);m._fncEnableFirstDayOfCurrentMonth(false);m._fncEnableLastDayOfCurrentMonth(false);m._fncEnableToday(false);m._fncEnableTomorrow(false);m._fncEnableYesterday(false);break;}},resetCandidateColumns:function(){var _94=m.retrieveCandidate();m.setColumns("column",_94);m.setColumns("order_column",_94);m.setColumns("criterium_column",_94);m.setColumns("grouping_column",_94);m.setColumns("chart_axis_x",_94);m.setAggregateColumns(_94);},criteriumOpenDialogFromExistingItemInitFunction:function(_95){if(misys.reportclient&&misys.reportclient.criteriumOpenDialogFromExistingItemInitFunction){misys.reportclient.criteriumOpenDialogFromExistingItemInitFunction();}else{var _96=dj.byId("criterium_value_type_1").get("checked");var _97=dj.byId("criterium_value_type_2").get("checked");var _98=dj.byId("criterium_value_type_3").get("checked");var _99=dj.byId("criterium_column").get("value");var _9a=arrColumn[_99][0];if(_96){d.byId("criterium_string_section").style.display="none";d.byId("criterium_number_section").style.display="none";d.byId("criterium_amount_section").style.display="none";d.byId("criterium_date_section").style.display="none";d.byId("criterium_values_set_section").style.display="none";d.byId("criterium_parameter_section").style.display="block";d.style("criterium_pre_defined_value_section","display","none");m._fncToggleParameterDefaultValuesSection(_9a);}else{if(_97){if(arrColumn[_99]){d.byId("criterium_parameter_section").style.display="none";d.byId("criterium_string_section").style.display=(_9a==="String"?"block":"none");d.byId("criterium_number_section").style.display=(_9a==="Number"?"block":"none");d.byId("criterium_amount_section").style.display=(_9a==="Amount"?"block":"none");d.byId("criterium_date_section").style.display=(_9a==="Date"?"block":"none");if(arrConstrainedParameterType.indexOf(_9a)!==-1){d.byId("criterium_values_set_section").style.display="block";}else{d.byId("criterium_values_set_section").style.display="none";}d.style("criterium_pre_defined_value_section","display","none");}}else{if(_98){if(arrColumn[_99]){d.style("criterium_parameter_section","display","none");d.style("criterium_string_section","display","none");d.style("criterium_number_section","display","none");d.style("criterium_amount_section","display","none");d.style("criterium_date_section","display","none");d.style("criterium_values_set_section","display","none");d.style("criterium_pre_defined_value_section","display","block");}}}}if(_9a!="Date"){dj.byId("criterium_value_type_3").set("disabled",true);d.style("criterium_pre_defined_value_section","display","none");}}},displayColumnLabelsInOtherLanguages:function(){d.style("display_displayed_column_labels","display","none");d.style("hide_displayed_column_labels","display","inline");m.animate("fadeIn",d.byId("displayed_column_labels_other_languages"));},hideColumnLabelsInOtherLanguages:function(){d.style("display_displayed_column_labels","display","inline");d.style("hide_displayed_column_labels","display","none");m.animate("fadeOut",d.byId("displayed_column_labels_other_languages"));},defaultDataInPage:function(){var _9b=m.retrieveCandidate();m.setColumns("column",_9b);m.setColumns("order_column",_9b);m.setColumns("criterium_column",_9b);m.setColumns("grouping_column",_9b);m.setColumns("chart_axis_x",_9b);m.setAggregateColumns(_9b);var _9c=dj.byId("hidden_grouping_column").get("value");dj.byId("grouping_column").set("value",_9c);var _9d=dj.byId("hidden_chart_axis_x").get("value");dj.byId("chart_axis_x").set("value",_9d);},defaultColumnLabel:function(_9e){var _9f=dj.byId("column").get("value");if(_9f&&_9f!==""){var _a0=dj.byId("label_"+language);var _a1=arrColumn[_9f][1];if((_a0.get("value")===""||_9e)&&_a0.get("value")!=_a1){dj.byId("label_"+language).set("value",_a1);}}},displayParameterLabelsInOtherLanguages:function(){d.byId("display_parameter_labels").style.display="none";d.byId("hide_parameter_labels").style.display="inline";d.byId("parameter_labels_other_languages").style.display="block";},hideParameterLabelsInOtherLanguages:function(){d.byId("hide_parameter_labels").style.display="none";d.byId("parameter_labels_other_languages").style.display="none";misys.animate("fadeIn",d.byId("display_parameter_labels"),null,false,{display:"inline"});},displayAggregateLabelsInOtherLanguages:function(){d.byId("display_aggregate_labels").style.display="none";d.byId("hide_aggregate_labels").style.display="inline";d.byId("aggregate_labels_other_languages").style.display="block";},hideAggregateLabelsInOtherLanguages:function(){d.byId("hide_aggregate_labels").style.display="none";d.byId("aggregate_labels_other_languages").style.display="none";misys.animate("fadeIn",d.byId("display_aggregate_labels"),null,false,{display:"inline"});},getAggregateOperatorDecode:function(_a2){return aggregateOperators[_a2];},getCriteriaOperatorDecode:function(_a3){return criteriaOperators[_a3];},setColumns:function(_a4,_a5){if(_a5!=""){var _a6=m._fncBuildColumnsData(_a4,_a5);var _a7=new d.data.ItemFileReadStore({data:_a6});dj.byId(_a4).store=_a7;dj.byId(_a4).set("searchAttr","name");}},setAggregateColumns:function(_a8){if(_a8!==""){var _a9=m._fncBuildColumnsData("aggregate_column",_a8);var _aa=dj.byId("columns");if(_aa.grid){_aa.grid.store.fetch({query:{column:"*"},onComplete:function(_ab,_ac){d.forEach(_ab,function(_ad){if(_ad.computed_field_id!=""){var _ae=_ad["label_"+language];_a9.items.push({column:_ad.computed_field_id,name:_ae});}});}});}var _af=new d.data.ItemFileReadStore({data:_a9});dj.byId("aggregate_column").store=_af;dj.byId("aggregate_column").set("searchAttr","name");}},retrieveCandidate:function(){if(dj.byId("system_type")&&dj.byId("system_type").get("checked")){return dj.byId("system_product").get("value");}if(dj.byId("multi_product").get("checked")){var _b0="";var _b1=dj.byId("products-grid");if(_b1){_b1.store.fetch({query:{store_id:"*"},onComplete:function(_b2,_b3){if(_b2.length>0){var _b4=_b2[0].product[0];if(_b4.match("Tnx$")=="Tnx"){_b0="AllTnx";}else{if(_b4.match("Template$")=="Template"){_b0="Alltemplate";}else{_b0="AllMaster";}}}}});}return _b0;}return dj.byId("single_product").get("value");},setOperands:function(_b5){if(m.dialog.isActive){var _b6=dj.byId("column").get("value");if(arrColumn[_b6]){var _b7=arrColumn[_b6][0];var _b8=m.retrieveCandidate();var _b9={identifier:"column",label:"name",items:[]};d.forEach(arrProductColumn[_b8],function(_ba){if(_ba){if(arrColumn[_ba]&&arrColumn[_ba][0]==_b7){_b9.items.push({column:_ba,name:arrColumn[_ba][1]});}else{}}});var _bb=new d.data.ItemFileReadStore({data:_b9});dj.byId("operand").store=_bb;dj.byId("operand").set("searchAttr","name");if(_b5){if(_b5.operand[0].toString()!=""){dj.byId("operand").set("value",_b5.operand[0].toString());}}}}},setOperatorsList:function(_bc){if(m.dialog.isActive){var _bd=[];var _be=dj.byId("column").get("value");if(arrColumn[_be]){if(arrColumn[_be][0]=="Amount"){_bd=["+","-","/"];}else{if(arrColumn[_be][0]=="Date"){_bd=["-"];}else{if(arrColumn[_be][0]=="String"){_bd=["+"];}else{if(arrColumn[_be][0]=="Number"){_bd=["+","-","*","/"];}}}}}else{}var _bf={identifier:"operator",label:"name",items:[]};d.forEach(_bd,function(_c0){if(_c0){_bf.items.push({operator:_c0,name:arrComputation[_c0]});}});var _c1=new d.data.ItemFileReadStore({data:_bf});dj.byId("operation").store=_c1;dj.byId("operation").set("searchAttr","name");if(_bc){if(_bc.operation[0].toString()!=""){dj.byId("operation").set("value",_bc.operation[0].toString());}}}},setCriteriumValuesSetList:function(_c2){m._fncSetCriteriumValuesList(_c2);},setCriteriumParametersList:function(_c3){var _c4=dj.byId("parameters");if(_c4.grid){var _c5=[];var _c6={identifier:"parameter",label:"name",items:[]};_c4.grid.store.fetch({query:{parameter_name:"*"},onComplete:function(_c7,_c8){d.forEach(_c7,function(_c9){_c6.items.push({parameter:_c9.parameter_name,name:_c9["label_"+language]});});}});var _ca=new d.data.ItemFileReadStore({data:_c6});dj.byId("criterium_parameter").store=_ca;dj.byId("criterium_parameter").set("searchAttr","name");}},setCriteriumOperatorsList:function(_cb){var _cc=[];if(arrColumn[_cb]){if(arrColumn[_cb][0]=="Amount"){_cc=["different","equal","infOrEqual","supOrEqual","inferior","superior"];}else{if(arrColumn[_cb][0]=="Date"){_cc=["different","equal","infOrEqual","supOrEqual","inferior","superior"];}else{if(arrColumn[_cb][0]=="String"){_cc=["different","equal","like","notLike","isNull","isNotNull"];}else{if(arrColumn[_cb][0]=="Number"){_cc=["different","equal","infOrEqual","supOrEqual","inferior","superior"];}else{if(arrConstrainedParameterType.indexOf(arrColumn[_cb][0])!==-1){_cc=["different","equal","isNull","isNotNull"];}}}}}}else{}var _cd={identifier:"operator",label:"name",items:[]};d.forEach(_cc,function(_ce){if(_ce){_cd.items.push({operator:_ce,name:criteriaOperators[_ce]});}});var _cf=new d.data.ItemFileReadStore({data:_cd});dj.byId("criterium_operator").store=_cf;dj.byId("criterium_operator").set("searchAttr","name");},getCriteriumOperand:function(_d0,_d1){var _d2="";if(_d1&&arrColumn[_d1.column]){var _d3=d.isArray(_d1.value_type)?_d1.value_type[0]:_d1.value_type;var _d4=arrColumn[_d1.column][0];if(_d3=="01"){_d2=m.getLocalization("parameterLabel")+" "+_d1.parameter;}else{if(_d3=="02"){if(_d4==="String"){_d2=_d1.string_value;}else{if(_d4==="Number"){_d2=_d1.number_value;}}if(_d4==="Amount"){_d2=_d1.amount_value;}else{if(_d4==="Date"){_d2=_d1.date_value;}else{if(arrConstrainedParameterType.indexOf(_d4)!==-1){var _d5=_d1.values_set;var _d6=[];var _d7=m.retrieveCandidate();if(arrValuesSetProduct[_d1.column]){if(_d7.indexOf("All")===0){_d6=arrValuesSetProduct[_d1.column]["All"];}else{_d6=arrValuesSetProduct[_d1.column][_d7.substring(0,2)];}}if(_d6.length===0&&arrValuesSet[_d1.column]){_d6=arrValuesSet[_d1.column];}var _d8=d.filter(_d6,function(_d9){return _d9[0]==_d5;});_d2=(_d8.length>0?_d8[0][1]:"");}}}}else{if(_d3=="03"){var _da=d.isArray(_d1.default_date_type)?_d1.default_date_type[0]:_d1.default_date_type;var _db="";var _dc="";switch(_da){case "01":_db=d.isArray(_d1.default_date_report_exec_date_offset)?_d1.default_date_report_exec_date_offset[0]:_d1.default_date_report_exec_date_offset;_dc=d.isArray(_d1.default_date_report_exec_date_offset_days)?_d1.default_date_report_exec_date_offset_days[0]:_d1.default_date_report_exec_date_offset_days;_d2=m.getLocalization("reportExecutionDate")+(_db=="01"?" + ":" - ")+_dc+" "+m.getLocalization("days");break;case "02":_db=d.isArray(_d1.default_date_first_day_of_month_offset)?_d1.default_date_first_day_of_month_offset[0]:_d1.default_date_first_day_of_month_offset;_dc=d.isArray(_d1.default_date_first_day_of_month_offset_days)?_d1.default_date_first_day_of_month_offset_days[0]:_d1.default_date_first_day_of_month_offset_days;_d2=m.getLocalization("firstDayOfCurrentMonth")+(_db=="01"?" + ":" - ")+_dc+" "+m.getLocalization("days");break;case "03":_db=d.isArray(_d1.default_date_last_day_of_month_offset)?_d1.default_date_last_day_of_month_offset[0]:_d1.default_date_last_day_of_month_offset;_dc=d.isArray(_d1.default_date_last_day_of_month_offset_days)?_d1.default_date_last_day_of_month_offset_days[0]:_d1.default_date_last_day_of_month_offset_days;_d2=m.getLocalization("lastDayOfCurrentMonth")+(_db=="01"?" + ":" - ")+_dc+" "+m.getLocalization("days");break;case "04":_d2=m.getLocalization("today");break;case "05":_d2=m.getLocalization("tomorrow");break;case "06":_d2=m.getLocalization("yesterday");break;default:break;}}}}}return _d2;},aggregateTypeOnChange:function(_dd){if(m.dialog.isActive){var _de=(dj.byId(_4d).dialog&&dj.byId(_4d).dialog.open)||(dj.byId(_4e).dialog&&dj.byId(_4e).dialog.open);if(_de){dj.byId("aggregate_use_product_currency").set("checked",false);dj.byId("aggregate_eqv_cur_code").set("value","");dj.byId("aggregate_eqv_cur_code").set("required",false);m._fncDefaultAggregateColumnLabel(true);m.toggleCurrencySection();}}},setAggregatesList:function(_df){if(misys.reportclient&&misys.reportclient.setAggregatesList){misys.reportclient.setAggregatesList(_df);}else{var _e0=[];_df=_df?_df:dj.byId("aggregate_column").get("value");if(arrColumn[_df]){if(arrColumn[_df][0]=="Amount"){_e0=["sum","count","average","minimum","maximum"];}else{if(arrColumn[_df][0]=="String"||arrColumn[_df][0]=="Date"){_e0=["count"];}else{if(arrColumn[_df][0]=="Number"){_e0=["sum","count","average","minimum","maximum"];}else{if(arrConstrainedParameterType.indexOf(arrColumn[_df][0])!==-1){_e0=["count"];}}}}}else{}var _e1={identifier:"operator",label:"name",items:[]};d.forEach(_e0,function(_e2){if(_e2){_e1.items.push({operator:_e2,name:aggregateOperators[_e2]});}});var _e3=new d.data.ItemFileReadStore({data:_e1});dj.byId("aggregate_type").store=_e3;dj.byId("aggregate_type").set("searchAttr","name");}},chartAxisXOnChange:function(){var _e4=this.get("value");if(_e4!==""&&arrColumn[_e4][0]==="Date"){d.byId("chart-x-scale-section").style.display="block";}else{d.byId("chart-x-scale-section").style.display="none";dj.byId("chart_axis_x_scale").set("value","");}dj.byId("chart_axis_x_scale").set("required",false);},groupingColumnOnChange:function(){var _e5=this.get("value");var _e6=(_e5!=""&&arrColumn[_e5][0]=="Date");d.byId("group-scale-section").style.display=_e6?"block":"none";dj.byId("grouping_column_scale").set("required",false);if(!_e6){dj.byId("grouping_column_scale").set("value","");}},_getStoreSize:function(_e7){if(_e7&&_e7._getItemsArray){return _e7._getItemsArray().length;}},_fncClearGroupingSection:function(){dj.byId("grouping_enable").set("checked",false);dj.byId(_4e).clear();dj.byId("grouping_column").set("value","");dj.byId("grouping_column_scale").set("value","");},_fncClearChartSection:function(){dj.byId("chart_flag").set("checked",false);dj.byId("chart_rendering").set("value","");dj.byId("hidden_chart_axis_x").set("value","");dj.byId("chart_axis_x").set("value","");dj.byId("chart_axis_x_scale").set("value","");dj.byId(_4f).clear();},_fncBuildColumnsData:function(_e8,_e9){var _ea={identifier:"column",label:"name",items:[]};var _eb=[];switch(_e8){case "order_column":_eb=arrProductOrderColumn[_e9];break;case "criterium_column":_eb=arrProductCriteriaColumn[_e9];break;case "grouping_column":_eb=arrProductGroupColumn[_e9];break;case "chart_axis_x":_eb=arrProductChartXAxisColumn[_e9];break;case "aggregate_column":_eb=arrProductAggregateColumn[_e9];break;default:_eb=arrProductColumn[_e9];break;}if(!_eb||_eb.length===0){_eb=arrProductColumn[_e9];}d.forEach(_eb,function(_ec){if(_ec){if(arrColumn[_ec]){_ea.items.push({column:_ec,name:arrColumn[_ec][1]});}else{}}});return _ea;},_fncToggleParameterDefaultValuesSection:function(_ed){d.byId("criterium_parameter_default_string_section").style.display=(_ed=="String"?"block":"none");d.byId("criterium_parameter_default_number_section").style.display=(_ed=="Number"?"block":"none");d.byId("criterium_parameter_default_amount_section").style.display=(_ed=="Amount"?"block":"none");d.byId("criterium_parameter_default_date_section").style.display=(_ed=="Date"?"block":"none");if(arrConstrainedParameterType.indexOf(_ed)!==-1){d.byId("criterium_parameter_default_values_set_section").style.display="block";}else{d.byId("criterium_parameter_default_values_set_section").style.display="none";}},_fncSetCriteriumValuesList:function(_ee){var _ef=_ee;if(arrColumn[_ef]&&arrConstrainedParameterType.indexOf(arrColumn[_ef][0])!==-1){var _f0={identifier:"value",label:"name",items:[]};var _f1=[];var _f2=m.retrieveCandidate();if(arrValuesSetProduct[_ef]){if(_f2.indexOf("All")===0){_f1=arrValuesSetProduct[_ef]["All"];}else{_f1=arrValuesSetProduct[_ef][_f2.substring(0,2)];}}if(_f1.length===0&&arrValuesSet[_ef]){_f1=arrValuesSet[_ef];}d.forEach(_f1,function(_f3){_f0.items.push({value:_f3[0],name:_f3[1]});});var _f4=new d.data.ItemFileReadStore({data:_f0});dj.byId("criterium_values_set").store=_f4;dj.byId("criterium_values_set").set("searchAttr","name");dj.byId("criterium_parameter_default_values_set").store=_f4;dj.byId("criterium_parameter_default_values_set").set("searchAttr","name");}},_fncGetParentWidget:function(_f5){for(var p=_f5.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _f6=dj.byId(id);return _f6;}}return null;},_fncDefaultAggregateColumnLabel:function(_f7){var _f8=dj.byId("aggregate_column").get("value");var _f9=dj.byId("aggregate_type").get("value");if(_f8!=""&&_f9!=""){var _fa=dj.byId("aggregate_label_"+language);if(_fa.get("value")==""||_f7){var _fb=arrColumn[_f8][1]+" ("+aggregateOperators[_f9]+")";dj.byId("aggregate_label_"+language).set("value",_fb);}}},_fncEnableReportExecutionDate:function(_fc){dj.byId("criterium_parameter_default_date_type_1").set("checked",_fc);dj.byId("criterium_parameter_default_date_report_exec_date_offset_1").set("disabled",!_fc);dj.byId("criterium_parameter_default_date_report_exec_date_offset_2").set("disabled",!_fc);dj.byId("criterium_parameter_default_date_report_exec_date_offset_days").set("disabled",!_fc);if(dj.byId("criterium_parameter_default_date_report_exec_date_offset_1").get("checked")==false&&dj.byId("criterium_parameter_default_date_report_exec_date_offset_2").get("checked")==false){dj.byId("criterium_parameter_default_date_report_exec_date_offset_1").set("checked",true);}if(!_fc){dj.byId("criterium_parameter_default_date_report_exec_date_offset_1").set("checked",false);dj.byId("criterium_parameter_default_date_report_exec_date_offset_2").set("checked",false);dj.byId("criterium_parameter_default_date_report_exec_date_offset_days").set("value",0);}},_fncEnableFirstDayOfCurrentMonth:function(_fd){dj.byId("criterium_parameter_default_date_type_2").set("checked",_fd);dj.byId("criterium_parameter_default_date_first_day_of_month_offset_1").set("disabled",!_fd);dj.byId("criterium_parameter_default_date_first_day_of_month_offset_2").set("disabled",!_fd);dj.byId("criterium_parameter_default_date_first_day_of_month_offset_days").set("disabled",!_fd);if(dj.byId("criterium_parameter_default_date_first_day_of_month_offset_1").get("checked")==false&&dj.byId("criterium_parameter_default_date_first_day_of_month_offset_2").get("checked")==false){dj.byId("criterium_parameter_default_date_first_day_of_month_offset_1").set("checked",true);}if(!_fd){dj.byId("criterium_parameter_default_date_first_day_of_month_offset_1").set("checked",false);dj.byId("criterium_parameter_default_date_first_day_of_month_offset_2").set("checked",false);dj.byId("criterium_parameter_default_date_first_day_of_month_offset_days").set("value",0);}},_fncEnableLastDayOfCurrentMonth:function(_fe){dj.byId("criterium_parameter_default_date_type_3").set("checked",_fe);dj.byId("criterium_parameter_default_date_last_day_of_month_offset_1").set("disabled",!_fe);dj.byId("criterium_parameter_default_date_last_day_of_month_offset_2").set("disabled",!_fe);dj.byId("criterium_parameter_default_date_last_day_of_month_offset_days").set("disabled",!_fe);if(dj.byId("criterium_parameter_default_date_last_day_of_month_offset_1").get("checked")==false&&dj.byId("criterium_parameter_default_date_last_day_of_month_offset_2").get("checked")==false){dj.byId("criterium_parameter_default_date_last_day_of_month_offset_1").set("checked",true);}if(!_fe){dj.byId("criterium_parameter_default_date_last_day_of_month_offset_1").set("checked",false);dj.byId("criterium_parameter_default_date_last_day_of_month_offset_2").set("checked",false);dj.byId("criterium_parameter_default_date_last_day_of_month_offset_days").set("value",0);}},_fncEnableToday:function(_ff){dj.byId("criterium_parameter_default_date_type_4").set("checked",_ff);},_fncEnableTomorrow:function(_100){dj.byId("criterium_parameter_default_date_type_5").set("checked",_100);},_fncEnableYesterday:function(_101){dj.byId("criterium_parameter_default_date_type_6").set("checked",_101);}});})(dojo,dijit,misys);}
