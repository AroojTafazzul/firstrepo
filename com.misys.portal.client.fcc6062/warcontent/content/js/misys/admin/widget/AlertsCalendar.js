/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.admin.widget.AlertsCalendar"]){dojo._hasResource["misys.admin.widget.AlertsCalendar"]=true;dojo.provide("misys.admin.widget.AlertsCalendar");dojo.experimental("misys.admin.widget.AlertsCalendar");dojo.require("misys.grid.GridMultipleItems");dojo.declare("misys.admin.widget.AlertsCalendar",[misys.grid.GridMultipleItems],{data:{identifier:"store_id",label:"store_id",items:[]},templatePath:null,templateString:dojo.byId("alerts01-template").innerHTML,gridColumns:["prod_code","address","alertlanguage","alert_type","date_code","offset","offsetsign","issuer_abbv_name"],AlertType:"",HasEntity:"",isBank:"",propertiesMap:{},layout:[],startup:function(){this.layout=[];if(this.HasEntity=="Y"){this.gridColumns.push("entity");this.layout=[{name:"Entity",field:"entity",width:"15%",noresize:true}];}this.layout.push({name:"ProductCode",field:"prod_code",get:misys.getProductLabel,width:"10%",noresize:true});this.layout.push({name:"Date",field:"date_code",get:misys.getDateLabel,width:"10%",noresize:true});if(this.isBank=="Y"){this.gridColumns.push("customer_abbv_name");this.layout.push({name:"Customer",field:"customer_abbv_name",width:"15%",noresize:true});}this.layout.push({name:"Address",field:"address",get:misys.getAddressLabel,width:"10%",noresize:true});this.layout.push({name:" ",field:"actions",formatter:misys.grid.formatReportActions,width:"5%",noresize:true});this.templateString=dojo.byId("alerts"+this.AlertType+"-template").innerHTML;this.propertiesMap={prod_code:{_fieldName:"prod_code"+this.AlertType},customer_abbv_name:{_fieldName:"customer_abbv_name"+this.AlertType},address:{_fieldName:"address"+this.AlertType},alertlanguage:{_fieldName:"alertlanguage"+this.AlertType},alert_type:{_fieldName:"alert_type"+this.AlertType},date_code:{_fieldName:"date_code"+this.AlertType},offset:{_fieldName:"offset"+this.AlertType},offsetsign:{_fieldName:"offsetsign"+this.AlertType},issuer_abbv_name:{_fieldName:"issuer_abbv_name"+this.AlertType}};this.dataList=[];if(this.hasChildren()){dojo.forEach(this.getChildren(),function(_1){var _2;if(this.HasEntity=="Y"){_2={entity:_1.get("entity"),prod_code:_1.get("prod_code"),address:_1.get("address"),alertlanguage:_1.get("alertlanguage"),alert_type:_1.get("alert_type"),date_code:_1.get("date_code"),offset:_1.get("offset"),offsetsign:_1.get("offsetsign"),issuer_abbv_name:_1.get("issuer_abbv_name")};}else{_2={prod_code:_1.get("prod_code"),customer_abbv_name:_1.get("customer_abbv_name"),address:_1.get("address"),alertlanguage:_1.get("alertlanguage"),alert_type:_1.get("alert_type"),date_code:_1.get("date_code"),offset:_1.get("offset"),offsetsign:_1.get("offsetsign"),issuer_abbv_name:_1.get("issuer_abbv_name")};}this.dataList.push(_2);},this);}this.inherited(arguments);if(dojo.isIE){if(dijit.byId("prod_code01")){dojo.connect(dijit.byId("prod_code01"),"onClick",function(){this.focus();});}if(dijit.byId("date_code01")){dojo.connect(dijit.byId("date_code01"),"onClick",function(){this.focus();});}if(dijit.byId("prod_code02")){dojo.connect(dijit.byId("prod_code02"),"onClick",function(){this.focus();});}if(dijit.byId("date_code02")){dojo.connect(dijit.byId("date_code02"),"onClick",function(){this.focus();});}}},openDialogFromExistingItem:function(_3,_4){var _5=_3[0];misys._config.currentSelectedCalendarAlertItem=_5;this.inherited(arguments);}});}