/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.admin.widget.AlertsBalance"]){dojo._hasResource["misys.admin.widget.AlertsBalance"]=true;dojo.provide("misys.admin.widget.AlertsBalance");dojo.experimental("misys.admin.widget.AlertsBalance");dojo.require("misys.grid.GridMultipleItems");dojo.declare("misys.admin.widget.AlertsBalance",[misys.grid.GridMultipleItems],{data:{identifier:"store_id",label:"store_id",items:[]},templatePath:null,templateString:dojo.byId("alerts01-template").innerHTML,gridColumns:[],AlertType:"",HasEntity:"",propertiesMap:{},isBank:"",layout:[],startup:function(){this.layout=[];this.gridColumns=["address","alertlanguage","alert_type","bank_abbv_name","account_num","threshold_cur","threshold_amt","threshold_sign"];this.propertiesMap={entity:{_fieldName:"entity"},address:{_fieldName:"address"+this.AlertType},alertlanguage:{_fieldName:"alertlanguage"+this.AlertType},alert_type:{_fieldName:"alert_type"+this.AlertType},bank_abbv_name:{_fieldName:"bank_abbv_name"+this.AlertType},customer_abbv_name:{_fieldName:"customer_abbv_name"+this.AlertType},account_num:{_fieldName:"account_num"+this.AlertType},threshold_cur:{_fieldName:"threshold"+this.AlertType+"_cur_code"},threshold_amt:{_fieldName:"threshold"+this.AlertType+"_amt"},threshold_sign:{_fieldName:"threshold_sign"+this.AlertType}};if(this.HasEntity==="Y"){this.gridColumns.push("entity");this.layout=[{name:"Entity",field:"entity",width:"25%",noresize:true}];}this.layout.push({name:"AccountNum",get:misys.getAccountLabel,width:"20%",noresize:true});this.layout.push({name:"Threshold",get:misys.getThresholdCode,width:"15%",noresize:true});if(this.isBank==="Y"){this.gridColumns.push("customer_abbv_name");this.layout.push({name:"Customer",field:"customer_abbv_name",width:"15%",noresize:true});}if(this.AlertType!=="03"){this.layout.push({name:"Address",get:misys.getAddressLabel,width:"15%",noresize:true});}this.layout.push({name:" ",field:"actions",formatter:misys.grid.formatReportActions,width:"5%",noresize:true});this.templateString=dojo.byId("alerts"+this.AlertType+"-template").innerHTML;this.dataList=[];if(this.hasChildren()){dojo.forEach(this.getChildren(),function(_1){var _2;if(this.HasEntity=="Y"){_2={entity:_1.get("entity"),address:_1.get("address"),alertlanguage:_1.get("alertlanguage"),alert_type:_1.get("alert_type"),bank_abbv_name:_1.get("bank_abbv_name"),account_num:_1.get("account_num"),threshold_cur:_1.get("threshold_cur"),threshold_amt:_1.get("threshold_amt"),threshold_sign:_1.get("threshold_sign")};}else{_2={address:_1.get("address"),alertlanguage:_1.get("alertlanguage"),alert_type:_1.get("alert_type"),issuer_abbv_name:_1.get("issuer_abbv_name"),account_num:_1.get("account_num"),threshold_cur:_1.get("threshold_cur"),threshold_amt:_1.get("threshold_amt"),threshold_sign:_1.get("threshold_sign")};}this.dataList.push(_2);},this);}if(dojo.isIE){if(dijit.byId("alertlanguage01")){dojo.connect(dijit.byId("alertlanguage01"),"onClick",function(){this.focus();});}}this.inherited(arguments);}});}