/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.grid.Pagination"]){dojo._hasResource["misys.grid.Pagination"]=true;dojo.provide("misys.grid.Pagination");dojo.experimental("misys.grid.Pagination");dojo.require("dojox.grid.enhanced.plugins.Pagination");dojo.declare("misys.grid.Pagination",[dojox.grid.enhanced.plugins.Pagination],{name:"paginationEnhanced",defaultRows:100,queryOptions:{},gotoPage:function(_1){window.preventTableHeaderFocus=true;this.setQueryOptions();var _2=Math.ceil(this._maxSize/this.pageSize);_1--;if(_1<_2&&_1>=0&&this._currentPage!==_1){this._currentPage=_1;if(this.grid.store&&this.grid.store.declaredClass==="dojox.data.QueryReadStore"){if(this.grid.params.domIdArray){var _3=this.grid,_4={},_5,_6=this.grid.params.jsonArray,_7=this.grid.params.domIdArray;if(_3&&(_6.length===_7.length)){dojo.forEach(_6,function(_8,i){_5=dijit.byId(_7[i]);if(_5){var _9=_5.get("value");_9=_9.replace("'","'");if(_9!=""){_4[_8]=_9;}}});}this.queryOptions=_4;}this.grid.setQuery(this.queryOptions);}else{this.grid.setQuery(this.grid.query);}this.grid.resize();}if(this.grid.rowSelectCell){this.grid.rowSelectCell.toggleAllSelection(false);}window.preventTableHeaderFocus=false;},setQueryOptions:function(){var _a=dijit.byId("TransactionSearchForm"),_b=dojo.query(".dojoxGrid"),_c={},_d=dojo.query(".gridContainer")[0],_e=/Date/,_f=/Time/;if(_a){_a.getDescendants().forEach(function(_10,i){if(_10.name){var _11;if(_10.declaredClass=="dijit.form.RadioButton"){var _12=dojo.query("[name='"+_10.name+"']",_a.domNode);dojo.some(_12,function(_13){var _14=dijit.byNode(_13.parentNode);if(_14.checked){_11=_14.params.value;}});}else{_11=_10.get("value");}if(_e.test(_10.declaredClass)||(_f.test(_10.declaredClass))){_11=_10.get("displayedValue");}if(_11===" "){_11="";}_c[_10.get("name")]=_11;}});_c["searchFlag"]=true;this.queryOptions=_c;}}});dojox.grid.EnhancedGrid.registerPlugin(misys.grid.Pagination);}