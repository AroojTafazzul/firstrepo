/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.loan.facility_ongoing_fee"]){dojo._hasResource["misys.binding.loan.facility_ongoing_fee"]=true;dojo.provide("misys.binding.loan.facility_ongoing_fee");dojo.require("dojo.parser");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.form.DateTextBox");dojo.require("misys.form.CurrencyTextBox");dojo.require("dijit.form.NumberTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("misys.widget.Dialog");dojo.require("dijit.ProgressBar");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("dojo.data.ItemFileReadStore");dojo.require("misys.form.file");dojo.require("misys.form.SimpleTextarea");dojo.require("misys.form.common");dojo.require("misys.validation.common");dojo.require("misys.widget.Collaboration");dojo.require("misys.binding.SessionTimer");dojo.require("dojox.xml.DomParser");dojo.require("dijit.layout.ContentPane");dojo.require("misys.common");(function(d,dj,m){d.mixin(m,{getFacilityOngoingFee:function(_1,_2){if(!_2){return this.defaultValue;}return {fee_Identifier:this.grid.store.getValue(_2,"fee_Identifier"),fee_type:this.grid.store.getValue(_2,"fee_type"),fee_rid:encodeURIComponent(this.grid.store.getValue(_2,"fee_rid")),currency:encodeURIComponent(this.grid.store.getValue(_2,"currency"))};},formatFacilityOngoingFeeActions:function(_3){var _4=dojo.create("a");var id=""+_3.fee_Identifier+"_details_link";var _5="javascript:";var _6=""+_3.fee_type;var _7=encodeURIComponent(dj.byId("facilityId").get("value"));var _8=encodeURIComponent(dijit.byId("borrowerId").value);var _9=encodeURIComponent(dj.byId("facilityName").get("value"));var _a=dj.byId("effectiveDate").get("value");var _b=dj.byId("dueDate").get("value");var _c=decodeURIComponent(_3.fee_rid);var _d=""+_3.currency;_5="javascript:misys.popup.showPopup('feeType="+_3.fee_type+"&facilityid="+_7+"&borrowerId="+_8+"&facilityName="+_9+"&fee_rid="+_c+"&effectiveDate="+_a+"&dueDate="+_b+"&fac_ccy="+_d+"','FEE_ONGOING')";var _e=dojo.create("a",{"id":id,"href":_5,"innerHTML":_6},_4);var _f=dj.byId("gridRepricingLoanTransactions");if(_f){var _10=_f.store;_10.comparatorMap={};_10.comparatorMap["fee_amount"]=misys.grid.sortAmountColumn;}return _4.innerHTML;}});})(dojo,dijit,misys);}