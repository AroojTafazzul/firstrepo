/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.treasury.create_ft_trint"]){dojo._hasResource["misys.binding.treasury.create_ft_trint"]=true;dojo.provide("misys.binding.treasury.create_ft_trint");dojo.require("misys.form.common");dojo.require("misys.validation.common");dojo.require("misys.form.DateTermField");dojo.require("misys.form.DateOrTermField");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("dijit.Dialog");dojo.require("dijit.ProgressBar");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("dijit.layout.ContentPane");dojo.require("dojo.data.ItemFileReadStore");dojo.require("dijit.form.DateTextBox");dojo.require("dijit.form.CurrencyTextBox");dojo.require("dijit.form.NumberTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("misys.form.SimpleTextarea");dojo.require("dojo.parser");dojo.require("dojo.date");dojo.require("misys.widget.Collaboration");dojo.require("misys.binding.cash.common.request_action");dojo.require("misys.binding.treasury.FtPopupManagement");(function(d,dj,m){var _1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_2a,_2b,_2c,_2d,_2e,_2f,_30,_31,_32,_33,_34,_35,_36,_37,_38,_39,_3a,_3b,_3c,_3d,_3e,_3f,_40,_41,_42,_43,_44,_45,_46,_47,_48,_49,_4a,_4b,_4c,_4d,_4e,_4f,_50,_51,_52,_53,_54;function _55(_56,_57){var _58="";switch(_56){case 3:_58=m.getLocalization("errorFXRateRejected");if(_57.trader_remarks!==undefined&&_57.trader_remarks.length!==0){_58+="<br><br>"+m.getLocalization("traderRemarks")+_57.trader_remarks;}break;case 20:if(_57.opics_error.substring(0,4)==="5473"){_58=m.getLocalization("errorFXOverDraftAccountRecordNotFound");}else{if(_57.opics_error.substring(0,3)==="486"){_58=m.getLocalization("errorDAccountnotfound");}else{if(_57.opics_error.substring(0,4)==="1471"){_58=m.getLocalization("errorDeadLineOfPayment");}else{if(_57.opics_error.substring(0,4)==="7205"){_58=_58=_57.opics_error;}else{_58=m.getCommonMessageError(_56,_57);}}}}break;case 28:_58=m.getLocalization("errorFXRateNoLongerValid");break;case 29:_58=m.getLocalization("errorFXUnknownCurrency");break;case 30:_58=m.getLocalization("errorFXUnknownCounterCurrency");break;case 31:_58=m.getLocalization("errorFXServiceClosed");break;case 32:_58=m.getLocalization("errorFXServiceNotAuthorized");break;case 33:_58=m.getLocalization("errorFXDateNotValid");break;case 34:_58=m.getLocalization("errorFXCurrencyDateNotValid");break;case 35:_58=m.getLocalization("errorFXCounterCurrencyDateNotValid",[_57.errorParam]);break;case 993:_58=m.getLocalization("errorQuoteExpired");break;default:_58=m.getCommonMessageError(_56,_57);break;}m.dialog.show("ERROR",_58);};function _59(){if(dj.byId("creditAccountNumber")){dj.byId("beneficiary_act_no").set("value",dj.byId("creditAccountNumber").get("value"));}if(dj.byId("creditAccountName")){dj.byId("beneficiary_act_name").set("value",dj.byId("creditAccountName").get("value"));}if(dj.byId("counterparty_cur_code")){dj.byId("beneficiary_act_cur_code").set("value",dj.byId("counterparty_cur_code").get("value"));}};function _5a(){var _5b=dj.byId("ft_cur_code").get("value"),_5c=dj.byId("applicant_act_name").get("value"),_5d=dj.byId("beneficiary_act_name").get("value"),_5e="",_5f=_5c.substring(0,3),_60=_5d.substring(0,3);if(_5f&&_5f.length>0&&_60&&_60.length>0&&_5b&&_5b.length>0){if(_5b!==_5f&&_5b!==_60){_5e=m.getLocalization("transferCurrencyDifferentThanAccountsCurrencies",[_5b,_5f,_60]);dj.byId("ft_cur_code").set("state","Error");dj.hideTooltip(dj.byId("ft_cur_code").domNode);dj.showTooltip(_5e,dj.byId("ft_cur_code").domNode,0);}}};function _61(){if(dj.byId("applicant_act_cur_code")&&dj.byId("applicant_act_cur_code").get("value")!==""){var _62=dj.byId("applicant_act_cur_code").get("value");dj.byId("ft_cur_code").set("value",_62);}};function _63(){if(dj.byId("applicant_act_name")&&dj.byId("beneficiary_act_name")&&dj.byId("entity")){var _64=dj.byId("applicant_act_name").get("value");var _65=dj.byId("beneficiary_act_name").get("value");var _66=dj.byId("entity").get("value");if(_66!==""&&_64===""&&_65===""){m.showTooltip(m.getLocalization("debitAccountNotSelected"),document.activeElement,["after"]);}}};function _67(){dj.byId("loadingDialog").show();m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/TreasuryRequestForQuoteSearchAction"),handleAs:"json",content:{operation:"REQUEST",ft_type:"01",applicant_reference:_5,ordering_account:_1a,ordering_currency:_1b,transfer_account:_20,transfer_amount:_21,transfer_currency:_22,beneficiary_account:_23,beneficiary_name:_25,beneficiary_address:_26,beneficiary_address_2:_27,beneficiary_city:_28,beneficiary_country:_29,beneficiary_bank:_2a,beneficiary_bank_routing_number:_2b,beneficiary_bank_branch:_2c,beneficiary_bank_address:_2d,beneficiary_bank_city:_2e,beneficiary_bank_country:_2f,beneficiary_bank_bic:_30,ordering_cust_name:_32,ordering_cust_address:_33,ordering_cust_address_2:_34,ordering_cust_citystate:_35,ordering_cust_country:_36,ordering_cust_account:_37,ft_amount:_1e,ft_cur_code:_1f,execution_date:_1c,execution_tenor:_1d,payment_currency:_38,payment_amount:_39,remarks:_9,fee_account:_3a,feeCurCode:_3b,feeAmt:_3c,swift_charges_type:_3e,intermediary_bank:_3f,intermediary_bank_aba:_40,intermediary_bank_bic:_41,intermediary_bank_street:_42,intermediary_bank_street_2:_43,intermediary_bank_city:_44,intermediary_bank_country:_45,intermediary_bank_instruction_1:_46,intermediary_bank_instruction_2:_47,intermediary_bank_instruction_3:_48,intermediary_bank_instruction_4:_49,intermediary_bank_instruction_5:_4a,intermediary_bank_instruction_6:_4b,additional_detail_1:_4c,additional_detail_2:_4d,additional_detail_3:_4e,additional_detail_4:_4f,receipt_instructions_id:_50,mode:_31,bo_ref_id:_53,payment_deal_no:_51,fx_deal_no:_52,xfer_deal_no:_54,bank:_19,productcode:"FT",subproductcode:_1},load:function(_68,_69){dj.byId("loadingDialog").hide();var _6a=_68.status;switch(_6a){case 5:m.showDealSummaryDialog(_68);var _6b=_68.validity;m.countDown(_6b);m.showDetailField();break;case 1:m.showDealSummaryDialog(_68);break;case 6:dj.byId("bo_tnx_id").set("value",_68.boTnxId);dj.byId("bo_ref_id").set("value",_68.bo_ref_id);dj.byId("rec_id").set("value",_68.rec_id);m.frequencyStore=_68.delay_frequency;m.opicsFrequencyResponse=_68.delay_frequency;m.delayStore=_68.delay_timeout;m.openDelayDialog(m.frequencyStore,m.delayStore);_4=_68.rec_id;break;default:_55(_6a,_68);break;}},customError:function(_6c,_6d){dj.byId("loadingDialog").hide();console.error("[requestFTAjaxCall] Error on Ajax Call for Request Fund Transfer");_55(status,_6c);}});};function _6e(){dj.byId("loadingDialog").show();m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/TreasuryRequestForQuoteSearchAction"),handleAs:"json",content:{operation:"REJECT",ref_id:m.ref_id,ft_type:dj.byId("ft_type").get("value"),applicant_reference:_5,ordering_account:_1a,ordering_currency:_1b,rec_id:dj.byId("rec_id").get("value"),beneficiary_account:_23,beneficiary_name:_25,beneficiary_address:_26,beneficiary_address_2:_27,beneficiary_city:_28,beneficiary_country:_29,beneficiary_bank:_2a,beneficiary_bank_routing_number:_2b,beneficiary_bank_branch:_2c,beneficiary_bank_address:_2d,beneficiary_bank_city:_2e,beneficiary_bank_country:_2f,beneficiary_bank_bic:_30,ordering_cust_name:_32,ordering_cust_address:_33,ordering_cust_address_2:_34,ordering_cust_citystate:_35,ordering_cust_country:_36,ordering_cust_account:_37,swift_charges_type:_3e,intermediary_bank:_3f,intermediary_bank_aba:_40,intermediary_bank_bic:_41,intermediary_bank_street:_42,intermediary_bank_street_2:_43,intermediary_bank_city:_44,intermediary_bank_country:_45,intermediary_bank_instruction_1:_46,intermediary_bank_instruction_2:_47,intermediary_bank_instruction_3:_48,intermediary_bank_instruction_4:_49,intermediary_bank_instruction_5:_4a,intermediary_bank_instruction_6:_4b,additional_detail_1:_4c,additional_detail_2:_4d,additional_detail_3:_4e,additional_detail_4:_4f,ft_amount:_1e,ft_cur_code:_1f,execution_date:_1c,execution_tenor:_1d,remarks:_9,bo_ref_id:dj.byId("bo_ref_id").get("value"),bo_tnx_id:dj.byId("bo_tnx_id").get("value"),credit_account_name:dj.byId("creditAccountName").get("value"),bank:dj.byId("issuing_bank_abbv_name").get("value"),productcode:"FT",subproductcode:_1},load:function(_6f,_70){dj.byId("loadingDialog").hide();var _71=_6f.status;switch(_71){case 3:m.performClearFieldsOnFieldChange();m.closeDealSummaryDialog();m.dialog.show("CUSTOM-NO-CANCEL",m.getLocalization("confirmationRejectRequest"),m.getLocalization("confirmationRejectTitle"));break;default:m.closeDealSummaryDialog();_55(_71,_6f);break;}},customError:function(_72,_73){console.error("[CancelFTAjaxCall] error canceling FT quote");dj.byId("loadingDialog").hide();m.performClearFieldsOnFieldChange();m.closeDealSummaryDialog();_55("",_72);}});};d.mixin(m._config,{initReAuthParams:function(){var _74={productCode:"FT",subProductCode:dj.byId("sub_product_code").get("value"),transactionTypeCode:"01",entity:dj.byId("entity")?dj.byId("entity").get("value"):"",currency:dj.byId("ft_cur_code")?dj.byId("ft_cur_code").get("value"):"",amount:dj.byId("ft_amt")?m.trimAmount(dj.byId("ft_amt").get("value")):"",bankAbbvName:dj.byId("issuing_bank_abbv_name")?dj.byId("issuing_bank_abbv_name").get("value"):"",es_field1:dj.byId("ft_amt")?m.trimAmount(dj.byId("ft_amt").get("value")):"",es_field2:(dj.byId("applicant_act_no"))?dj.byId("applicant_act_no").get("value"):""};return _74;}});d.mixin(m,{bind:function(){if(dj.byId("sub_product_code")){_1=dj.byId("sub_product_code").get("value");}m.connect("issuing_bank_abbv_name","onChange",m.populateReferences);if(dj.byId("issuing_bank_abbv_name")){m.connect("entity","onChange",function(){dj.byId("issuing_bank_abbv_name").onChange();});}m.connect("issuing_bank_customer_reference","onChange",m.setApplicantReference);m.connect("ft_amt","onBlur",function(){m.setTnxAmt(this.get("value"));m.amountValidationForZero(dj.byId("ft_amt"));});m.connect("buttonAcceptRequest","onClick",m.acceptRate);m.connect("buttonCancelRequest","onClick",m.fncPerformCancelRequest);m.setValidation("request_value_date",function(){return m.validateDate("request_value","","requestDateLessThanDateOfDayError",false);});m.connect("applicant_act_name","onChange",_5a);m.connect("beneficiary_act_name","onChange",_5a);m.connect("ft_cur_code","onBlur",_5a);m.connect("applicant_act_name","onChange",_61);m.connect("beneficiary_img","onClick",_63);m.setValidation("ft_cur_code",m.validateCurrency);m.setValidation("request_value_number",function(){if(_1==="TRINT"){return m.validateTermNumber("request_value","","TermCodeError",false);}});m.connect("entity","onChange",m.performClearFieldsOnFieldChange);m.connect("ft_cur_code","onChange",function(){m.setCurrency(this,["ft_amt"]);});},onFormLoad:function(){var _75=dj.byId("issuing_bank_abbv_name");if(_75){_75.onChange();}var _76=dj.byId("issuing_bank_customer_reference");if(_76){_76.onChange();_76.set("value",_76._resetValue);}m.fncDisableLoadingDialogClosing();_59();m.setCurrency(dj.byId("ft_cur_code"),["ft_amt"]);},initVar:function(){_2=dj.byId("ref_id").get("value");if(dj.byId("applicant_reference")){_5=dj.byId("applicant_reference").get("value");}else{_5="";}if(dj.byId("contract_type_1")&&dj.byId("contract_type_1").get("checked")===true){_6="01";}else{if(dj.byId("contract_type_2")&&dj.byId("contract_type_2").get("checked")===true){_6="02";}else{_6=dj.byId("contract_type").get("value");}}_7=(dj.byId("cust_payment_account_act_no"))?dj.byId("cust_payment_account_act_no").get("value"):"";_8=(dj.byId("cust_payment_account_act_description"))?dj.byId("cust_payment_account_act_description").get("value"):"";_9=dj.byId("remarks").get("value");_19=dj.byId("issuing_bank_abbv_name").get("value");},beforeSaveValidations:function(){var _77=dj.byId("entity");if(_77&&_77.get("value")===""){return false;}else{return true;}},beforeSubmitValidations:function(){if(dj.byId("applicant_act_no")){var _78=dj.byId("applicant_act_no").get("value")!=="";}if(dj.byId("beneficiary_act_no")){var _79=dj.byId("beneficiary_act_no").get("value")!=="";}if(dj.byId("ft_amt")){var _7a=document.getElementById("ft_amt").value.length>0;}if(dj.byId("issuing_bank_customer_reference")){var _7b=dj.byId("issuing_bank_customer_reference").get("value")!=="";}if(dj.byId("applicant_act_no")&&dj.byId("beneficiary_act_no")){if(dj.byId("applicant_act_no").get("value")===dj.byId("beneficiary_act_no").get("value")&&dj.byId("beneficiary_act_no").get("value")!==""&&dj.byId("applicant_act_no").get("value")!==""){m._config.onSubmitErrorMsg=m.getLocalization("debitAccountDifferentFromCreditAccount");return false;}if(dj.byId("beneficiary_act_no").get("value")===""&&dj.byId("applicant_act_no").get("value")===""){m._config.onSubmitErrorMsg=m.getLocalization("mandatoryFieldsToSubmitError");return false;}}if(dj.byId("request_value_date")){var _7c=dj.byId("request_value_date").get("value")!==null;if(!_7c){var _7d=dj.byId("request_value_code").get("value");if(_7d=="5"||_7d=="6"||_7d=="7"){_7c=true;}else{if(_7d=="1"||_7d=="2"||_7d=="3"||_7d=="4"){if(isNaN(dj.byId("request_value_number").get("value"))){_7c=false;}else{_7c=true;}}else{var _7e=document.getElementById("request_value_number").value.length>0;if(_7e){_7c=true;}else{_7c=false;}}}}}if(dj.byId("mode")&&dj.byId("mode").get("value")==="UNSIGNED"){return true;}else{if(_78&&_79&&_7a&&_7c&&_7b){return true;}else{m._config.onSubmitErrorMsg=m.getLocalization("mandatoryFieldsToSubmitError");return false;}}},requestFT:function(){if(m.checkFields()&&m.beforeSubmitValidations()){if(dj.byId("mode")&&dj.byId("mode").get("value")==="UNSIGNED"){m.acceptFT();}else{if(dj.byId("ft_type").get("value")==="01"){m.fillVar();_67();}}}else{if(dj.byId("beneficiary_act_name")&&dj.byId("applicant_act_name")&&dj.byId("beneficiary_act_name").get("value")!==""&&dj.byId("applicant_act_name").get("value")!==""&&(dj.byId("beneficiary_act_name").get("value")===dj.byId("applicant_act_name").get("value"))){m._config.onSubmitErrorMsg=m.getLocalization("debitAccountDifferentFromCreditAccount");m.dialog.show("ERROR",m._config.onSubmitErrorMsg);}else{m._config.onSubmitErrorMsg=m.getLocalization("highlightedFieldsRequired");m.dialog.show("ERROR",m._config.onSubmitErrorMsg);}}},performDelayRequest:function(){if(m.frequencyStore>0){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/TreasuryRequestForQuoteSearchAction"),handleAs:"json",content:{operation:"DELAY",ft_type:"01",ref_id:m.ref_id,applicant_reference:_5,bo_ref_id:dj.byId("bo_ref_id").get("value"),bo_tnx_id:dj.byId("bo_tnx_id").get("value"),rec_id:dj.byId("rec_id").get("value"),ordering_account:_1a,ordering_currency:_1b,transfer_account:_20,transfer_amount:_21,transfer_currency:_22,beneficiary_account:_23,beneficiary_name:_25,beneficiary_address:_26,beneficiary_address_2:_27,beneficiary_city:_28,beneficiary_country:_29,beneficiary_bank:_2a,beneficiary_bank_routing_number:_2b,beneficiary_bank_branch:_2c,beneficiary_bank_address:_2d,beneficiary_bank_city:_2e,beneficiary_bank_country:_2f,beneficiary_bank_bic:_30,ordering_cust_name:_32,ordering_cust_address:_33,ordering_cust_citystate:_35,ordering_cust_country:_36,ordering_cust_account:_37,swift_charges_type:_3e,intermediary_bank:_3f,intermediary_bank_aba:_40,intermediary_bank_bic:_41,intermediary_bank_street:_42,intermediary_bank_city:_44,intermediary_bank_country:_45,intermediary_bank_instruction_1:_46,intermediary_bank_instruction_2:_47,intermediary_bank_instruction_3:_48,intermediary_bank_instruction_4:_49,intermediary_bank_instruction_5:_4a,intermediary_bank_instruction_6:_4b,additional_detail_1:_4c,additional_detail_2:_4d,additional_detail_3:_4e,additional_detail_4:_4f,ft_amount:_1e,ft_cur_code:_1f,execution_date:_1c,execution_tenor:_1d,payment_currency:_38,payment_amount:_39,remarks:_9,fee_account:_3a,receipt_instructions_id:_50,bank:_19,productcode:"FT",subproductcode:_1},load:function(_7f,_80){var _81=_7f.status;switch(_81){case 5:m.closeDelayDialog();m.showDealSummaryDialog(_7f);var _82=_7f.validity;m.countDown(_82);m.showDetailField();break;case 6:m.frequencyStore--;m.timer=setTimeout("misys.performDelayRequest()",(m.delayStore*1000));break;default:m.closeDelayDialog();_55(_81,_7f);break;}},customError:function(_83,_84){console.error("[Create_FT] error retrieving quote");m.closeDelayDialog();_55("",_83);}});}else{m.stopCountDown(m.timer);m.showContinuationElement();}},performCancelDelayRequest:function(){dj.byId("loadingDialog").show();m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/TreasuryRequestForQuoteSearchAction"),handleAs:"json",content:{operation:"CANCEL",ref_id:m.ref_id,ft_type:"01",applicant_reference:_5,ordering_account:_1a,ordering_currency:_1b,beneficiary_account:_23,beneficiary_name:_25,beneficiary_address:_26,beneficiary_address_2:_27,beneficiary_city:_28,beneficiary_country:_29,beneficiary_bank:_2a,beneficiary_bank_routing_number:_2b,beneficiary_bank_branch:_2c,beneficiary_bank_address:_2d,beneficiary_bank_city:_2e,beneficiary_bank_country:_2f,beneficiary_bank_bic:_30,ordering_cust_name:_32,ordering_cust_address:_33,ordering_cust_citystate:_35,ordering_cust_country:_36,ordering_cust_account:_37,swift_charges_type:_3e,intermediary_bank:_3f,intermediary_bank_aba:_40,intermediary_bank_bic:_41,intermediary_bank_street:_42,intermediary_bank_city:_44,intermediary_bank_country:_45,intermediary_bank_instruction_1:_46,intermediary_bank_instruction_2:_47,intermediary_bank_instruction_3:_48,intermediary_bank_instruction_4:_49,intermediary_bank_instruction_5:_4a,intermediary_bank_instruction_6:_4b,additional_detail_1:_4c,additional_detail_2:_4d,additional_detail_3:_4e,additional_detail_4:_4f,ft_amount:_1e,ft_cur_code:_1f,execution_date:_1c,execution_tenor:_1d,remarks:_9,receipt_instructions_id:_50,bank:_19,bo_ref_id:dj.byId("bo_ref_id").get("value"),bo_tnx_id:dj.byId("bo_tnx_id").get("value"),credit_account_name:dj.byId("creditAccountName").get("value"),productcode:"FT",subproductcode:_1},load:function(_85,_86){dj.byId("loadingDialog").hide();var _87=_85.status;switch(_87){case 3:m.closeDealSummaryDialog();m.dialog.show("CUSTOM-NO-CANCEL",m.getLocalization("confirmationCancelRequest"),m.getLocalization("confirmationCancelTitle"));break;default:_55(_87,_85);break;}},customError:function(_88,_89){console.error("[CancelFTAjaxCall] error canceling FT quote");dj.byId("loadingDialog").hide();m.closeDealSummaryDialog();_55("",_88);}});},requestStandingInstructions:function(){m.fillVar();_fncGetStandingInstructions();},acceptFT:function(){dj.byId("option").set("value","ACCEPT");m.submit("SUBMIT");},rejectFT:function(){if(m.countdown){m.stopCountDown(m.countdown);}_6e();},fillVar:function(){var _8a="";_2=dj.byId("ref_id").get("value");if(dj.byId("applicant_reference")){_5=dj.byId("applicant_reference").get("value");}else{_5="";}_1a=dj.byId("applicant_act_no").get("value");if(dj.byId("ft_type").get("value")==="01"){_1b=dj.byId("applicant_act_cur_code").get("value");_1c=dj.byId("request_value").getDate();if(dj.byId("request_value").getNumber()){_8a=dj.byId("request_value").getNumber();}_1d=_8a+dj.byId("request_value").getCode();}if(dj.byId("ft_type").get("value")==="01"){_1e=dj.byId("ft_amt").get("value");_1f=dj.byId("ft_cur_code").get("value");_20=dj.byId("beneficiary_act_no").get("value");_22=dj.byId("beneficiary_act_cur_code").get("value");}if((dj.byId("ft_type").get("value")==="01"||dj.byId("ft_type").get("value")==="02")&&(document.getElementById("mode").value==="NEW"||document.getElementById("mode").value==="UNSIGNED")){_3a=dj.byId("feeAccount").get("value");_3b=dj.byId("feeCurCode").get("value");_3c=dj.byId("feeAmt").get("value");}else{if(dj.byId("FTCharge").get("value")=="true"){if(dj.byId("open_chrg_brn_by_code_1").get("value")==="01"){_3a=dj.byId("applicant_act_no").get("value");}else{if(dj.byId("open_chrg_brn_by_code_2").get("value")==="02"){if(dj.byId("ft_type").get("value")==="01"||dj.byId("ft_type").get("value")==="05"){_3a=dj.byId("beneficiary_act_no").get("value");}else{if(dj.byId("ft_type").get("value")==="02"){_3a=dj.byId("beneficiary_account").get("value");}}}else{if(dj.byId("open_chrg_brn_by_code_3").get("value")==="03"){_3a=dj.byId("beneficiary_account").get("value");}}}}}_31=document.getElementById("mode").value;_19=dj.byId("issuing_bank_abbv_name").get("value");},checkEqualsCurrencies:function(_8b){var _8c=this.get("value");var _8d=dj.byId(_8b).get("value");if(_8c.length===3&&_8d.length===3&&(this.state!=="Error"||_8b.state!=="Error")){if(_8c===_8d){this.set("value","");this.focus();this.state="Error";this.displayMessage(m.getLocalization("errorFXEqualsCurrencies",[_8c]));}}},amountValidationForZero:function(_8e){var _8f;var _90=_8e.get("value");if(_90===0){_8f=m.getLocalization("amountcannotzero");_8e.set("state","Error");dj.hideTooltip(_8e.domNode);dj.showTooltip(_8f,_8e.domNode,0);return false;}},fillAccountField:function(_91,_92){if(_91==="debitDDAccount"){dj.byId("cust_payment_account_act_no").set("value",_92.account_no);dj.byId("cust_payment_account_act_description").set("value",_92.description);}}});})(dojo,dijit,misys);dojo.require("misys.client.binding.treasury.create_ft_trint_client");}