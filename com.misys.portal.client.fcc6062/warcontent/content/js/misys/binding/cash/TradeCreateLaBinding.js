/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.cash.TradeCreateLaBinding"]){dojo._hasResource["misys.binding.cash.TradeCreateLaBinding"]=true;dojo.provide("misys.binding.cash.TradeCreateLaBinding");dojo.require("misys.form.common");dojo.require("misys.validation.common");dojo.require("misys.form.DateTermField");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("misys.widget.Dialog");dojo.require("dijit.ProgressBar");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("dijit.layout.ContentPane");dojo.require("dojo.data.ItemFileReadStore");dojo.require("dijit.form.DateTextBox");dojo.require("misys.form.CurrencyTextBox");dojo.require("dijit.form.NumberTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("misys.form.SimpleTextarea");dojo.require("dojo.parser");dojo.require("dojo.date");dojo.require("misys.widget.Collaboration");dojo.require("misys.binding.cash.request.RequestAction");dojo.require("misys.binding.cash.TradeCreateLaAjaxCall");fncDoBinding=function(){misys.connect("issuing_bank_customer_reference","onChange",misys.setApplicantReference);misys.connect("cancelDelayDialogButton","onClick",fncPerformClear("delayDialog"));misys.connect("buttonAcceptRequest","onClick",fncAcceptRate);misys.connect("buttonCancelRequest","onClick",fncPerformCancelRequest);misys.setValidation("value_date_date",function(){if(dijit.byId("value_date").isBlankSelected()){misys.validateDateGreaterThanHitched=dojo.hitch(this,misys.validateDateGreaterThan);if(!dijit.byId("maturity_date").get("disabled")&&dijit.byId("maturity_date").isBlankSelected()){misys.validateDateSmallerThanHitched=dojo.hitch(this,misys.validateDateSmallerThan);return misys.validateDateSmallerThanHitched(false,"maturity_date_date","valueDateGreaterThanMaturityDate");}else{return true;}}else{return true;}});misys.setValidation("maturity_date_date",function(){if(dijit.byId("maturity_date").isBlankSelected()&&dijit.byId("value_date").isBlankSelected()){misys.validateDateGreaterThanHitched=dojo.hitch(this,misys.validateDateGreaterThan);return misys.validateDateGreaterThanHitched(false,"value_date_date","maturityDateLessThanValueDate");}else{return true;}});};fncDoFormOnLoadEvents=function(){fncDisableLoadingDialogClosing();};fncPerformRequest=function(){if(fncCheckFields()){fncDoPerformRequest();}};fncPerformClearWithDialog=function(){return;};fncInitVar=function(){if(dijit.byId("applicant_reference")){fncSetGlobalVariable("applicant_reference",dijit.byId("applicant_reference").get("value"));}else{fncSetGlobalVariable("applicant_reference","");}fncSetGlobalVariable("remarks",dijit.byId("remarks").get("value"));fncSetGlobalVariable("la_cur_code",dijit.byId("la_cur_code").get("value"));fncSetGlobalVariable("la_amt",dijit.byId("la_amt").get("value"));fncSetGlobalVariable("value_date",dijit.byId("value_date").getDate());fncSetGlobalVariable("value_days",dijit.byId("value_date").getNumber());fncSetGlobalVariable("value_period",dijit.byId("value_date").getCode());fncSetGlobalVariable("maturity_date",dijit.byId("maturity_date").getDate());fncSetGlobalVariable("maturity_days",dijit.byId("maturity_date").getNumber());fncSetGlobalVariable("maturity_period",dijit.byId("maturity_date").getCode());return;};_fncGetDisabledFields=function(){return ["issuing_bank_customer_reference","trade_id","issuing_bank_abbv_name","la_cur_code","la_amt","request_button","request_clear_button","value_date","maturity_date","remarks"];};_fncGetFieldsToClear=function(){return ["issuing_bank_customer_reference","trade_id","issuing_bank_abbv_name","la_cur_code","la_amt","value_date","maturity_date","remarks"];};_fncGetEnabledFields=function(){return _fncGetDisabledFields();};_fncGetHiddenFieldsToClear=function(){var _1=[];return _1;};_fncGetDateTermFieldsToClear=function(){var _2=["value_date","maturity_date"];return _2;};dojo.require("misys.client.binding.cash.TradeCreateLaBinding_client");}