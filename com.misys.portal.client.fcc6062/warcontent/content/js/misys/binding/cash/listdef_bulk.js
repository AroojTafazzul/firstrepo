/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.cash.listdef_bulk"]){dojo._hasResource["misys.binding.cash.listdef_bulk"]=true;dojo.provide("misys.binding.cash.listdef_bulk");dojo.require("dojo.data.ItemFileReadStore");dojo.require("dojo.data.ItemFileWriteStore");dojo.require("dijit.form.FilteringSelect");dojo.require("misys.form.MultiSelect");dojo.require("dijit.layout.TabContainer");dojo.require("misys.form.common");dojo.require("misys.validation.common");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("dijit.layout.ContentPane");dojo.require("misys.form.CurrencyTextBox");dojo.require("dijit.form.RadioButton");(function(d,dj,m){function _1(){if(dj.byId("account_no")){dj.byId("account_no").set("disabled",true);}};function _2(){if(dj.byId("account_no")){dj.byId("account_no").set("disabled",false);}};function _3(){if(d.byId("account_search_id")){d.style(d.byId("account_search_id"),"display","none");dj.byId("account_no").set("value","");}};function _4(){if(d.byId("account_search_id")){d.style(d.byId("account_search_id"),"display","");}};function _5(){if(dj.byId("cur_code").value!=""){dj.byId("AmountRangevisible").set("disabled",false);dj.byId("AmountRange2visible").set("disabled",false);}else{if(dj.byId("cur_code").value==""){dj.byId("AmountRangevisible").set("disabled",true);dj.byId("AmountRange2visible").set("disabled",true);dj.byId("AmountRangevisible").reset();dj.byId("AmountRange2visible").reset();}}};function _6(){var _7=this.get("value"),_8=this;m._config=m._config||{};m._config.effFromAmountValidationInprocess=false;var _9=dj.byId("AmountRange2visible").get("value");if(!m._config.effToAmountValidationInprocess){if(_7<0||_7>_9){m._config.effFromAmountValidationInprocess=true;var _a=dj.byId("AmountRangevisible");if(_7>_9){displayMessage=misys.getLocalization("invalidMinAmountValueError");}if(_7<0){displayMessage=misys.getLocalization("invalidAmountValueError");}_a.focus();_a.set("state","Error");dj.hideTooltip(_a.domNode);dj.showTooltip(displayMessage,_a.domNode,0);dj.showTooltip(displayMessage,domNode,0);return false;}}m._config.effFromAmountValidationInprocess=false;return true;};function _b(){var _c=this.get("value"),_d=this;m._config=m._config||{};m._config.effToAmountValidationInprocess=false;var _e=dj.byId("AmountRangevisible").get("value");if(!m._config.effFromAmountValidationInprocess){if(_c<0||_c<_e){m._config.effToAmountValidationInprocess=true;var _f=dj.byId("AmountRange2visible");if(_c<_e){displayMessage=misys.getLocalization("invalidMaxAmountValueError");}if(_c<0){displayMessage=misys.getLocalization("invalidAmountValueError");}_f.focus();_f.set("state","Error");dj.hideTooltip(_f.domNode);dj.showTooltip(displayMessage,_f.domNode,0);dj.showTooltip(displayMessage,domNode,0);return false;}}m._config.effToAmountValidationInprocess=false;return true;};function _10(){if(dj.byId("AmountRangevisible")){var _11=dj.byId("AmountRangevisible").value;var _12=isNaN(_11)?0:_11;dj.byId("AmountRange").set("value",_11);var _13=dj.byId("AmountRange2visible").value;dj.byId("AmountRange2").set("value",_13);}};function _14(_15,_16,_17,_18){if(_15.get("value")==null){return true;}m._config=m._config||{};m._config.effFromDateValidationInprocess=false;var _19;var _1a=dj.byId(_16);if(!m._config.effToDateValidationInprocess){if(!m.compareDateFields(_15,_1a)){m._config.effFromDateValidationInprocess=true;_19=misys.getLocalization(_17,[_18,_1b(_15),_1b(_1a)]);_15.focus();_15.set("displayedValue","");_15.set("state","Error");dj.hideTooltip(_15.domNode);dj.showTooltip(_19,_15.domNode,0);return false;}}m._config.effFromDateValidationInprocess=false;return true;};function _1c(_1d,_1e,_1f,_20){var _21;m._config=m._config||{};m._config.effToDateValidationInprocess=false;var _22=dj.byId(_1e);if(!m._config.effFromDateValidationInprocess){if(!m.compareDateFields(_22,_1d)){m._config.effToDateValidationInprocess=true;_21=misys.getLocalization(_1f,[_20,_1b(_1d),_1b(_22)]);_1d.focus();_1d.set("displayedValue","");_1d.set("state","Error");dj.hideTooltip(_1d.domNode);dj.showTooltip(_21,_1d.domNode,0);return false;}}m._config.effToDateValidationInprocess=false;return true;};function _23(_24,_25){var _26=_24;var _27;var _28=new Date();_28.setHours(0,0,0,0);isValid=d.date.compare(m.localizeDate(_26),_28)>0?false:true;if(!isValid){_27=misys.getLocalization("thisDateGreaterThanCurrentDate",[_25,_1b(_26)]);_26.focus();_26.set("state","Error");dj.hideTooltip(_26.domNode);dj.showTooltip(_27,_26.domNode,0);return false;}return true;};function _1b(_29){if(_29.get("type")==="hidden"){return d.date.locale.format(m.localizeDate(_29),{selector:"date"});}return _29.get("displayedValue");};d.mixin(m,{bind:function(){m.setValidation("cur_code",m.validateCurrency);m.connect("cur_code","onChange",function(){_5();misys.setCurrency(this,["AmountRange","AmountRange2"]);});m.connect("AmountRangevisible","onBlur",_6);m.connect("AmountRange2visible","onBlur",_b);m.connect("create_date","onBlur",function(){var _2a=this;_14(_2a,"create_date2","generalFromDateGreaterThanToDate",misys.getLocalization("lastModified"));});m.connect("create_date2","onBlur",function(){var _2b=this;_1c(_2b,"create_date","generalToDateGreaterThanFromDate",misys.getLocalization("lastModified"));});m.connect("upload_date","onBlur",function(){var _2c=this;_14(_2c,"upload_date2","generalFromDateGreaterThanToDate",misys.getLocalization("upload"));});m.connect("upload_date2","onBlur",function(){var _2d=this;_1c(_2d,"upload_date","generalToDateGreaterThanFromDate",misys.getLocalization("upload"));});m.connect("submitButton","onClick",function(){_10();});}});})(dojo,dijit,misys);dojo.require("misys.client.binding.cash.listdef_bulk_client");}