/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.cash.ft_common"]){dojo._hasResource["misys.binding.cash.ft_common"]=true;dojo.provide("misys.binding.cash.ft_common");dojo.require("dojo.parser");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.form.DateTextBox");dojo.require("misys.form.CurrencyTextBox");dojo.require("dijit.form.NumberTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("misys.widget.Dialog");dojo.require("dijit.ProgressBar");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("misys.form.PercentNumberTextBox");dojo.require("misys.form.SimpleTextarea");dojo.require("misys.widget.Collaboration");dojo.require("misys.form.common");dojo.require("misys.form.file");dojo.require("misys.validation.common");dojo.require("misys.binding.cash.recurring_common");(function(d,dj,m){function _1(){m.animate("wipeIn",d.byId("content2"),m.initForm);};d.mixin(m,{toggleSections:function(){m.animate("wipeOut",d.byId("content1"),_1);},resetFields:function(_2){d.forEach(_2,function(_3){dj.byId(_3).reset();});},setApplicantReference:function(){if(dj.byId("applicant_reference")&&dj.byId("issuing_bank_abbv_name")&&dj.byId("entity")&&dj.byId("entity").get("value")!==""){var _4=dj.byId("entity").get("value");_4=(_4===undefined||_4==="*")?"":_4;var _5=dj.byId("issuing_bank_abbv_name").get("value")+"_"+_4;if(m._config.customerReferences&&m._config.customerReferences[_5]){dj.byId("applicant_reference").set("value",m._config.customerReferences[_5][1]);}}},populateCustomerBanks:function(_6){var _7=_6?true:false;var _8=dj.byId("entity");var _9=dj.byId("entity")?dj.byId("entity").get("value"):"";var _a=dj.byId("customer_bank");if(_9&&_a){var _b=null;if(_9!==""){_b=m._config.entityBanksCollection[_9];}_a.set("disabled",false);_a.set("required",true);if(!_7){_a.set("value","");}if(_b){_a.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_b}});_a.fetchProperties={sort:[{attribute:"name"}]};}else{_a.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:[{value:"*",name:"*"}]}});_a.set("value","*");}}else{if(_a&&_a.get("value")===""){var _c=null;_c=m._config.wildcardLinkedBanksCollection["customerBanksForWithoutEntity"];if(_c){_a.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_c}});_a.fetchProperties={sort:[{attribute:"name"}]};}}else{if(_a){_a.set("disabled",true);_a.set("required",false);_a.set("value","");}}}},checkNickName:function(){var _d=dj.byId("applicant_act_nickname");if(_d&&_d.value!==""&&_d.value!==undefined&&_d.value!=="null"){dj.byId("applicant_act_name").set("value",_d.value);}},checkNickNameDiv:function(){if(misys._config.nickname==="true"){if(dj.byId("applicant_act_nickname")&&dj.byId("applicant_act_nickname").get("value")!==""&&d.byId("nickname")&&d.byId("applicant_act_nickname_row")){d.style("nickname","display","inline");d.style("label","display","inline-block");d.byId("nickname").innerHTML=dj.byId("applicant_act_nickname").get("value");m.animate("fadeIn",d.byId("applicant_act_nickname_row"));}else{if(d.byId("nickname")){d.style("nickname","display","none");d.style("applicant_act_nickname_row","display","none");}}}if(misys._config.beneficiarynickname==="true"){if(d.byId("beneficiarynickname")){d.style("beneficiarynickname","display","none");m.animate("fadeOut",d.byId("beneficiary_nickname_row"));}}if(misys._config.beneficiarynickname==="true"&&dijit.byId("subproductcode").get("value")==="INT"){if(d.byId("beneficiary_name_nickname_row")){d.style("ben_nickname","display","none");dijit.byId("beneficiary_act_nickname").set("value","");m.animate("fadeOut",d.byId("beneficiary_name_nickname_row"));}}},populateReportingStatus:function(){var _e=dj.byId("prod_stat_code");if(_e&&_e.get("value")==="02"){dj.byId("bo_ref_id").set("value","");dj.byId("bo_comment").set("value","");m.toggleRequired("bo_ref_id",false);dj.byId("bo_ref_id").set("disabled",false);dj.byId("bo_ref_id").set("readOnly",false);m.animate("wipeOut",d.byId("bo_comment_row"));m.animate("wipeOut",d.byId("bo_ref_id_row"));dj.byId("bo_ref_id").set("readOnly",false);dj.byId("bo_ref_id").set("disabled",false);}else{if(_e&&_e.get("value")==="01"){m.animate("wipeIn",d.byId("bo_comment_row"));m.animate("wipeIn",d.byId("bo_ref_id_row"));dj.byId("bo_ref_id").set("value","");dj.byId("bo_comment").set("value","");m.toggleRequired("bo_ref_id",false);dj.byId("bo_ref_id").set("readOnly",true);dj.byId("bo_ref_id").set("disabled",true);}else{m.animate("wipeIn",d.byId("bo_comment_row"));m.animate("wipeIn",d.byId("bo_ref_id_row"));m.toggleRequired("bo_ref_id",true);dj.byId("bo_ref_id").set("readOnly",false);dj.byId("bo_ref_id").set("disabled",false);}}}});})(dojo,dijit,misys);dojo.require("misys.client.binding.cash.ft_common_client");}