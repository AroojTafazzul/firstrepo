/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.cash.TradeMessageSiLaBinding"]){dojo._hasResource["misys.binding.cash.TradeMessageSiLaBinding"]=true;dojo.provide("misys.binding.cash.TradeMessageSiLaBinding");dojo.require("misys.form.SimpleTextarea");dojo.require("misys.form.file");dojo.require("misys.form.common");dojo.require("misys.validation.common");dojo.require("misys.grid._base");dojo.require("dojo.data.ItemFileReadStore");dojo.require("dojo.parser");dojo.require("dojo.data.ItemFileReadStore");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("misys.widget.Dialog");dojo.require("dijit.ProgressBar");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.form.DateTextBox");dojo.require("misys.form.CurrencyTextBox");dojo.require("dijit.form.NumberTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("dojox.grid.EnhancedGrid");dojo.require("dojox.grid.enhanced.plugins.Menu");dojo.require("dojox.grid.enhanced.plugins.NestedSorting");dojo.require("dojox.grid.enhanced.plugins.IndirectSelection");dojo.require("dojox.grid.cells.dijit");dojo.require("misys.binding.cash.request.StandingInstructionAction");fncDoBinding=function(){misys.connect("instructions_type_1","onClick",function(){_fncSwitchBankPaymentInstructionsFields("bank_instruction_field","free_format_field","instructions_type_2");});misys.connect("instructions_type_2","onClick",function(){_fncSwitchBankPaymentInstructionsFields("free_format_field","bank_instruction_field","instructions_type_1");});misys.connect("payment_type","onChange",function(){_fncChangeRequiredFieldsOnPaymentTypeChange("");});misys.connect("beneficiary_account","onChange",function(){_fncChangeRequiredFieldsOnChange("beneficiary_account","");});misys.connect("beneficiary_address","onChange",function(){_fncChangeRequiredFieldsOnChange("beneficiary_address","");});misys.connect("intermediary_bank","onChange",function(){_fncChangeRequiredFieldsOnChange("intermediary_bank","");});};fncDoFormOnLoadEvents=function(){var _1=misys._config.la_si;dijit.byId("rec_id").set("value",_1.rec_id);var _2=dijit.byId("sub_tnx_type_code").get("value");dojo.style("bank_instruction_field",{"display":"block"});dojo.style("free_format_field",{"display":"none"});dijit.byId("payment_type").set("required",false);var _3={items:_1.receipts};_fncConstructCustomerPaymentGrid(_3,"customerPaymentGrid","receipt_instructions_id","");var _4={items:_1.payments};_fncConstructBankPaymentGrid(_4,"bankPaymentGrid","payment_instructions_id","");_fncChangeDisabledAdditionalDetailsFiels("additional_details",true);};_fncSelectIndex=function(_5,_6,_7){var _8=dijit.byId(_6).selection.selectedIndex;var _9=dijit.byId(_6).get("store")._arrayOfAllItems[_8].id;dijit.byId(_7).set("value",_9);};fncDoPreSubmitValidations=function(){var _a=dijit.byId("customerPaymentGrid").store._arrayOfAllItems.length==0||(dijit.byId("customerPaymentGrid").store._arrayOfAllItems.length!=0&&dijit.byId("customerPaymentGrid").selection.selectedIndex!=-1);var _b=dijit.byId("bankPaymentGrid").store._arrayOfAllItems.length==0||(dijit.byId("bankPaymentGrid").store._arrayOfAllItems.length!=0&&dijit.byId("instructions_type_1").checked&&dijit.byId("bankPaymentGrid").selection.selectedIndex!=-1);return _a&&_b;};dojo.require("misys.client.binding.cash.TradeMessageSiLaBinding_client");}