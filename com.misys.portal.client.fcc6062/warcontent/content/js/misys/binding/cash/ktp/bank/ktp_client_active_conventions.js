/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.cash.ktp.bank.ktp_client_active_conventions"]){dojo._hasResource["misys.binding.cash.ktp.bank.ktp_client_active_conventions"]=true;dojo.provide("misys.binding.cash.ktp.bank.ktp_client_active_conventions");dojo.require("misys.binding.cash.ktp.common.ktp_common");dojo.require("misys.binding.cash.ktp.bank.add_entity_search_by_siren");(function(d,dj,m){var _1="TransactionSearchForm";d.mixin(m,{exportListToFormat:function(_2){if(d.byId(_1)){if(_2==="pdf"){_2="com.misys.portal.report.viewer.ViewerLandScapePDF";}dj.byId("export_list").set("value",_2);dj.byId("TransactionSearchForm").submit();dj.byId("export_list").set("value","screen");}}});d.mixin(m,{setMultiRowHeader:function(){if(window){for(var _3 in window){if(_3.indexOf("gridLayout")===0){m.ktpGridId=_3.substr(10);var _4=window[_3];var _5=_4.cells;var _6=d.clone(_5[0]);d.forEach(_6,function(_7){delete _7.field;delete _7.name;delete _7.formatter;});_5.unshift([{name:m.getLocalization("comptesCentralisateurs"),colSpan:1},{name:m.getLocalization("comptesCentralises"),colSpan:7}]);_5.unshift(_6);break;}}}},hideFirstHeaderRow:function(){d.forEach(d.query(".dojoxGridHeader tr:first-child .dojoxGridCell",d.byId("grid"+m.ktpGridId)),function(_8){d.attr(_8,"style","background-color: white");});},onFormLoad:function(_9,_a){var _b="grid"+m.ktpGridId;var _c=dj.byId(_b);m._config.gridFirstRowAlreadyHidden=false;_c.onStyleRow=function(_d){d.style(_d.node.children[0].children[0].rows[0],"display","none");d.style(_d.node.children[0].children[0].rows[1],"display","none");};d.connect(_c.store,"fetch",function(){if(!m._config.gridFirstRowAlreadyHidden){d.place("<div id='firstRowHider' style='width=:100%;height:12px;position:relative;top:37px;z-index:255;background-color:white'></div>",d.query("#hugeDiv > .widgetContainer")[0],"first");m._config.gridFirstRowAlreadyHidden=true;}});}});d.ready(function(){m.hideReportDescription();m.setGridCellFormatter();m.setMultiRowHeader();});})(dojo,dijit,misys);}