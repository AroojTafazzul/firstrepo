/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.bank.report_pi"]){dojo._hasResource["misys.binding.bank.report_pi"]=true;dojo.provide("misys.binding.bank.report_pi");dojo.require("dojo.parser");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.form.DateTextBox");dojo.require("misys.form.CurrencyTextBox");dojo.require("dijit.form.NumberTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("misys.widget.Dialog");dojo.require("dijit.ProgressBar");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("misys.form.PercentNumberTextBox");dojo.require("misys.form.SimpleTextarea");dojo.require("misys.widget.Collaboration");dojo.require("misys.form.common");dojo.require("misys.form.file");dojo.require("misys.form.addons");dojo.require("misys.validation.common");dojo.require("misys.binding.cash.ft_common");dojo.require("misys.form.BusinessDateTextBox");dojo.require("misys.binding.core.beneficiary_advice_common");dojo.require("misys.binding.common.bank_create_fx");(function(d,dj,m){var _1={};_1.fields=["beneficiary_name","beneficiary_name_2","beneficiary_name_3","beneficiary_address","beneficiary_city","beneficiary_dom","beneficiary_address_line_4"];_1.toggleEditable=function(){d.forEach(this.fields,function(_2,i){if(dj.byId(_2)){dj.byId(_2).set("readOnly",false);}});};_1.toggleReadonly=function(){d.forEach(this.fields,function(_3,i){if(dj.byId(_3)){dj.byId(_3).set("readOnly",true);}});};_1.clear=function(){d.forEach(this.fields,function(_4,i){if(dj.byId(_4)){dj.byId(_4).set("value","");}});d.style("pre_approved_benificiary","display","none");dj.byId("pre_approved_status").set("value","");};function _5(){if(dj.byId("adv_send_mode").get("value")==="08"){d.style("delivery_mode_08_div","display","block");d.style("delivery_mode_09_div","display","none");m.toggleFields(false,null,["mailing_other_name_address","mailing_other_postal_code","mailing_other_country"]);m.toggleFields(true,null,["collecting_bank_code","collecting_branch_code","collectors_name","collectors_id"]);dj.byId("collecting_bank_code").set("readOnly",true);dj.byId("collecting_branch_code").set("readOnly",true);}else{if(dj.byId("adv_send_mode").get("value")==="09"){d.style("delivery_mode_09_div","display","block");d.style("delivery_mode_08_div","display","none");m.toggleFields(false,null,["collecting_bank_code","collecting_branch_code","collectors_name","collectors_id"]);m.toggleFields(true,null,["mailing_other_name_address","mailing_other_postal_code","mailing_other_country"]);dj.byId("mailing_other_country").set("readOnly",true);}else{d.style("delivery_mode_08_div","display","none");d.style("delivery_mode_09_div","display","none");m.toggleFields(false,null,["collecting_bank_code","collecting_branch_code","collectors_name","collectors_id","mailing_other_name_address","mailing_other_postal_code","mailing_other_country"]);}}};d.mixin(m,{bind:function(){m.setValidation("fx_tolerance_rate",m.validateToleranceAndExchangeRate);m.setValidation("fx_exchange_rate",m.validateToleranceAndExchangeRate);m.setValidation("iss_date",m.validateTransferDate);m.setValidation("ft_cur_code",m.validateCurrency);m.connect("adv_send_mode","onChange",_5);m.connect("prod_stat_code","onChange",function(){var _6=this.get("value");m.toggleFields(_6&&_6!=="01",null,["bo_ref_id"]);});if(dj.byId("fx_rates_type_temp")&&dj.byId("fx_rates_type_temp").get("value")!==""){var _7=0;if(dj.byId("fx_nbr_contracts")&&dj.byId("fx_nbr_contracts").get("value")>0){_7=dj.byId("fx_nbr_contracts").get("value");}m.bindTheFXTypes(_7,"Y");}m.bindRecurringFields();},onFormLoad:function(){m.setCurrency(dj.byId("ft_cur_code"),["ft_amt"]);_5();m.setApplicantReference();if(dj.byId("bank_img")){d.style("bank_img","display","none");}if(dj.byId("bank_iso_img")){d.style("bank_iso_img","display","none");}if(dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")==="01"){dj.byId("bo_ref_id").set("disabled",true);}if(dj.byId("fx_rates_type_temp")&&dj.byId("fx_rates_type_temp").get("value")!==""){m.onloadFXActions();}if(dj.byId("prod_stat_code")){dj.byId("prod_stat_code").onChange();}m.showSavedRecurringDetails(false);}});d.ready(function(){m._config.clearOnSecondCall=false;});})(dojo,dijit,misys);dojo.require("misys.client.binding.bank.report_pi_client");}