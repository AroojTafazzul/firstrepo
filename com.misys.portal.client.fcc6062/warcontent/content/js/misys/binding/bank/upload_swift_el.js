/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.bank.upload_swift_el"]){dojo._hasResource["misys.binding.bank.upload_swift_el"]=true;dojo.provide("misys.binding.bank.upload_swift_el");dojo.require("dijit.form.DateTextBox");dojo.require("misys.form.CurrencyTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("dijit.form.NumberTextBox");dojo.require("misys.form.file");dojo.require("misys.form.addons");dojo.require("misys.form.SimpleTextarea");dojo.require("dijit.layout.TabContainer");dojo.require("dojo.data.ItemFileReadStore");dojo.require("misys.form.common");dojo.require("misys.validation.common");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("misys.widget.Dialog");dojo.require("dijit.ProgressBar");dojo.require("dijit.form.ValidationTextBox");dojo.require("dijit.form.CheckBox");dojo.require("dijit.layout.ContentPane");dojo.require("misys.widget.Collaboration");(function(d,dj,m){var _1="attachment-fileOTHER";function _2(){var _3=dj.byId(_1),nb=0,_4;if(!_3){m.showTooltip(m.getLocalization("noMT700Uploaded"),d.byId(_1),["below"]);return false;}else{_4=_3.grid.store._arrayOfAllItems;for(var i=0,_5=_4.length;i<_5;i++){if(_4[i]){nb++;}}if(nb<=0){m.showTooltip(m.getLocalization("noMT700Uploaded"),d.byId(_1),["below"]);m._config.onSubmitErrorMsg=m.getLocalization("attachmentsMissingError",["MT700"]);return false;}return true;}};d.mixin(m,{bind:function(){m.connect("beneficiary_name","onFocus",m.enableBeneficiaryFields);m.connect("beneficiary_dom","onFocus",m.enableBeneficiaryFields);m.connect("eucp_flag","onClick",function(){m.toggleFields(this.get("checked"),null,["eucp_details"]);});m.connect("applicable_rules","onChange",function(){if(dj.byId("applicable_rules")&&dj.byId("applicable_rules").get("value")==="99"){m.toggleFields(true,null,["applicable_rules_text"],true,true);}else{m.toggleFields(false,null,["applicable_rules_text"],false,false);}});},onFormLoad:function(){var _6=dj.byId("eucp_flag");if(_6){m.toggleFields(_6.get("checked"),null,["eucp_details"]);}if(dj.byId("applicable_rules_text")){m.toggleFields(false,null,["applicable_rules_text"],false,false);}},beforeSubmitValidations:function(){return _2();}});})(dojo,dijit,misys);dojo.require("misys.client.binding.bank.upload_swift_el_client");}