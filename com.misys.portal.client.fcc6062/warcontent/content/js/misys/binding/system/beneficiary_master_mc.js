/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.binding.system.beneficiary_master_mc"]){dojo._hasResource["misys.binding.system.beneficiary_master_mc"]=true;dojo.provide("misys.binding.system.beneficiary_master_mc");dojo.require("misys.binding.common");dojo.require("dojo.data.ItemFileReadStore");dojo.require("dijit.form.FilteringSelect");dojo.require("misys.validation.login");dojo.require("misys.validation.password");dojo.require("misys.form.MultiSelect");dojo.require("dijit.form.Form");dojo.require("dijit.form.Button");dojo.require("dijit.form.TextBox");dojo.require("dijit.form.ValidationTextBox");dojo.require("misys.form.common");dojo.require("misys.validation.common");dojo.require("misys.form.CurrencyTextBox");dojo.require("dojox.xml.DomParser");(function(d,dj,m){var _1="free-format-settlement-additional";var _2="free-format-settlement-payment";var _3=d.byId("beneficiary-details-div");var _4=d.byId("account_no_div");var _5=d.byId("account_no_mt202_div");var _6=d.byId("additional-advice-div");var _7=d.byId("delivery-mode-div");var _8=d.byId("intermediary-bank-details-div");var _9=d.byId("intermediary-bank-details-meps-div");var _a=d.byId("bank_iso_code_meps_div");var _b=d.byId("intermediary-bank-details-rtgs-div");var _c=d.byId("bank_bic_code_rtgs_div");var _d=d.byId("bank_iso_code_div");var _e=d.byId("bank_country_code_div");var _f=d.byId("bank_country_div");var _10="no-customer-bank-message-div";var _11="label[for=counterparty_name]";var _12="label[for=bank_name]";var _13=["bank_routing_no","ordering_customer_name","ordering_customer_address_1","ordering_customer_dom","ordering_customer_country","ordering_customer_act_no","inter_bank_swift","inter_bank_name","inter_bank_address_1","inter_bank_dom","inter_bank_country","inter_bank_routing_no","special_routing_1","special_routing_2","special_routing_3","special_routing_4","special_routing_5","special_routing_6","payment_detail_1","payment_detail_2","payment_detail_3","payment_detail_4"];var _14={};_14.fields=["intermediary_bank_swift_bic_code","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country"];var _15="<span class='required-field-symbol'>*</span>";var _16="pre-approved-beneficiary_beneficiary";var _17="width:710px;height:350px;";_14.clear=function(){d.forEach(this.fields,function(_18,i){if(dj.byId(_18)){dj.byId(_18).set("value","");}});};var _19={};_19.fields=["bank_ifsc_code","bank_ifsc_name","bank_ifsc_address_line_1","bank_ifsc_address_line_2","bank_ifsc_city"];_19.clear=function(){d.forEach(this.fields,function(_1a,i){if(dj.byId(_1a)){dj.byId(_1a).set("value","");}});};function _1b(_1c){var _1d=_1c?true:false;var _1e=dj.byId("entity")&&dj.byId("entity").get("value")?dj.byId("entity").get("value"):"*";var _1f=dj.byId("customer_bank");var _20=dj.byId("product_type");if(_1e&&_1f){var _21=null;if(_1e==="*"){_21=m._config.wildcardLinkedBanksCollection[_1e];}else{_21=m._config.entityBanksCollection[_1e];}_1f.set("disabled",false);_1f.set("required",true);if(!_1d){_1f.set("value","");if(_20){_20.set("value","");}}if(_21&&_21.length>0){_1f.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_21}});_1f.fetchProperties={sort:[{attribute:"name"}]};_1f.set("disabled",false);misys.animate("fadeOut",dojo.byId(_10));}else{_1f.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:[{value:"*",name:"*"}]}});_1f.set("disabled",true);if(_1e!==""){misys.animate("fadeIn",dojo.byId(_10));}_22(true);}}else{if(_1f){_1f.set("disabled",true);_1f.set("value","");if(_1e!==""){misys.animate("fadeIn",dojo.byId(_10));}}}};function _22(_23){var _24=_23?true:false;var _25=dj.byId("entity")&&dj.byId("entity").get("value")?dj.byId("entity").get("value"):"*";var _26=dj.byId("customer_bank");var _27=_26?_26.get("value"):"";var _28=dj.byId("product_type");var _29=_28?_28.get("value"):"";misys._config.callCountForTheProductType++;if(_28&&!_24&&_29!==""&&misys._config.callCountForTheProductType>2){_28.set("value","");_28.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:{}}});}if(_25&&_27&&_28){var _2a=null;if(_25==="*"&&_27==="*"){_2a=m._config.entityAndWildcardForBanksProdTypesCollection[_25+"_"+_27];}else{if(_25==="*"&&_27!=="*"){_2a=m._config.wildcardForEntitiesAndBankProdTypesCollection[_25+"_"+_27];}else{if(_25!=="*"&&_27==="*"){_2a=m._config.entityAndWildcardForBanksProdTypesCollection[_25+"_"+_27];}else{_2a=m._config.entityBankProdTypesCollection[_25+"_"+_27];}}}if(_2a&&_2a.length>0){_28.set("disabled",false);misys.animate("fadeOut",dojo.byId(_10));_28.set("required",true);_28.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_2a}});_28.fetchProperties={sort:[{attribute:"name"}]};}else{if(_25!==""&&_27!==""){_28.set("disabled",true);misys.animate("fadeIn",dojo.byId(_10));_28.set("required",false);}else{_28.set("value","");}_28.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:{}}});}}else{if(_28){_28.set("disabled",true);_28.set("required",false);if(_25!==""&&_27!==""){misys.animate("fadeIn",dojo.byId(_10));}}}};function _2b(){m.setSwiftBankDetailsForOnBlurEvent(false,"bank_iso_code","brch_code",null,null,"bank_",true,false,true,"");};function _2c(){m.setIFSCCodeDetailsForOnBlurEvent("bank_ifsc_code",null,null,"bank_",true,false,true);};function _2d(){m.setSwiftBankDetailsForOnBlurEvent(false,"iso_code",["counterparty_name","address_line_1","address_line_2","dom","contact_name","country"],["counterparty_name","address_line_1","country"],"",true,false,true,"");_2e();};function _2f(){var _30=dj.byId("email_1");var _31=dj.byId("email_2");var _32=2000;var _33=function(){dj.hideTooltip(_31.domNode);};if(_31.get("value")===""&&_30.get("value")===""){}else{if(_34(_30.get("value"),_31.get("value"))){var _35=m.getLocalization("duplicateEmail");_31.set("value","");_31.set("state","Error");dj.hideTooltip(_31.domNode);dj.showTooltip(_35,_31.domNode,0);setTimeout(_33,_32);}}};function _34(_36,_37){var _38=_36.split(";");var _39=_37.split(";");if(_38.length>0&&_39.length>0){for(var i=0;i<_38.length;i++){for(var j=0;j<_39.length;j++){if(_38[i]!==""&&_39[j]!==""&&_38[i].toUpperCase()===_39[j].toUpperCase()){return true;}}}return false;}return false;};function _3a(_3b){var _3c=dijit.byId("counterparty_name");var _3d="";var _3e=5000;var _3f=function(){dj.hideTooltip(_3c.domNode);};if(_3b.items.valid===true&&(dijit.byId("counterparty_name").get("_lastValueReported")!==dijit.byId("counterparty_name").get("_resetValue"))){_3d=m.getLocalization("BeneficiaryNameExists",[_3c.get("value")]);_3c.set("value","");_3c.set("state","Error");dijit.hideTooltip(_3c.domNode);dijit.showTooltip(_3d,_3c.domNode,0);setTimeout(_3f,_3e);}else{}};function _40(){var _41=dijit.byId("beneficiary_id");var _42="";_42=m.getLocalization("BeneficiaryIdExists");_41.set("state","Error");dijit.hideTooltip(_41.domNode);dijit.showTooltip(_42,_41.domNode,0);};function _43(){m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],false,true);};function _44(){m.toggleFieldsReadOnly(["intermediary_bank_meps_name","intermediary_bank_meps_address_line_1","intermediary_bank_meps_address_line_2","intermediary_bank_meps_dom","intermediary_bank_meps_country"],false,true);};function _45(){m.toggleFieldsReadOnly(["intermediary_bank_rtgs_name","intermediary_bank_rtgs_address_line_1","intermediary_bank_rtgs_address_line_2","intermediary_bank_rtgs_dom","intermediary_bank_rtgs_country"],false,true);};function _46(){if(dj.byId("branch_address")){if(dj.byId("bank_iso_code").get("value").length===0){dj.byId("branch_address").set("checked",false);dj.byId("branch_address").set("readOnly",true);}else{dj.byId("branch_address").set("readOnly",false);}if(dj.byId("branch_address_line_1").get("value").length===0){dj.byId("branch_address").set("checked",false);dj.byId("branch_address").set("readOnly",false);}else{dj.byId("branch_address").set("checked",true);}if(dj.byId("branch_address").get("checked")){m.toggleFieldsReadOnly(["branch_address_line_1","branch_address_line_2","branch_dom"],false);m.toggleRequired("branch_address_line_1",true);}else{m.toggleFieldsReadOnly(["branch_address_line_1","branch_address_line_2","branch_dom"],true,true);m.toggleRequired("branch_address_line_1",false);}}};function _47(_48){var _49=dj.byId("product_type");if(_49&&(_49.get("value")==="MT101"||_49.get("value")==="MT103"||_49.get("value")==="RTGS"||_49.get("value")==="FI103"||_49.get("value")==="FI202")||_49.get("value")==="MEPS"||_49.get("value")==="TRSRY"||_49.get("value")==="TRSRYFXFT"){var _4a=["branch_address_line_1","branch_address_line_2","branch_dom"];if(_48){m.toggleFieldsReadOnly(_4a,false);m.toggleRequired("branch_address_line_1",true);}else{m.toggleFieldsReadOnly(_4a,true,true);m.toggleRequired("branch_address_line_1",false);}}};function _4b(_4c){var _4d=dj.byId("product_type").value;if(_4d==="MEPS"){var _4e="^[a-zA-Z0-9 \\,''().?\\/+-:]*$";var _4f=new RegExp(_4e);var _50=true;var _51=_4c?_4c.get("value"):"";var _52=null;if(_51!==""&&_51!==null){_50=_4f.test(_51);if(!_50){_52=m.getLocalization("invalidCharBranchAddress");_4c.set("state","Error");dj.hideTooltip(_4c.domNode);dj.showTooltip(_52,_4c.domNode,0);}}return _50;}if(_4d==="RTGS"){var _53="^[a-zA-Z0-9 \\,''().\\/][a-zA-Z0-9 \\,''().\\/+-]*$";var _54=new RegExp(_53);var _55=dj.byId("addressStartCharsRegex")?dj.byId("addressStartCharsRegex").get("value"):"";var _56=new RegExp(_55);var _57=true;var _58=_4c?_4c.get("value"):"";var _59=null;if(_58!==""){if(_56.test(_58)){_59=m.getLocalization("invalidFirstCharBeneficiaryAddressFieldRtgs");_4c.set("state","Error");dj.hideTooltip(_4c.domNode);dj.showTooltip(_59,_4c.domNode,0);_57=false;}else{_57=_54.test(_58);if(!_57){_59=m.getLocalization("invalidCharBranchAddress");_4c.set("state","Error");dj.hideTooltip(_4c.domNode);dj.showTooltip(_59,_4c.domNode,0);}}return _57;}}};function _5a(_5b){var _5c=_5b?true:false;var _5d=dj.byId("product_type").value;var _5e=d.byId("description_div");var _5f=d.byId("email2_div");var _60=d.byId("bene_country_div");if(_5d===""){_5d="NONE";}_61();if(_5d){d.forEach(m._config.screenFields,function(_62){var _63=d.byId(_62+"_div");var _64=dj.byId(_62);if(d.indexOf(m._config.productTypes[_5d],_62)!==-1){if(_63){m.animate("fadeIn",_63);if(d.indexOf(m._config.productTypes[_5d].mandatory,_62)!==-1){m.toggleRequired(_62,true);}else{m.toggleRequired(_62,false);}if(d.indexOf(m._config.productTypes[_5d].swift,_62)!==-1){_65(_64,true);}else{_65(_64,false);}}}else{if(!(_62==="bank_iso_code"&&dj.byId("product_type").get("value")==="MUPS")){if(_63){m.animate("fadeOut",_63);}m.toggleRequired(_62,false);}}if(_64&&m._config.clearScreenFields){if(/CheckBox/.test(_64.declaredClass)&&m._config.clearOnSecondCall&&!_5c){_64.set("checked",false);}else{if(_62!=="pre_approved"&&m._config.clearOnSecondCall&&!_5c){_64.set("value","");_64.set("readOnly",false);}}}});var _66=dj.byId("counterparty_name");if(_66&&m._config.clearScreenFields&&m._config.clearOnSecondCall&&!_5c){_66.set("value","");}var _67=dj.byId("pre_approved");if(_67&&!m._config.non_pab_allowed){_67.set("checked",true);d.style(d.byId("pre_approved_div"),"display","none");}else{if(_67&&m._config.clearScreenFields&&m._config.clearOnSecondCall&&!_5c){_67.set("checked",false);}}var _68=dj.byId("beneficiary_id");if(_68&&m._config.clearScreenFields&&m._config.clearOnSecondCall&&!_5c){_68.set("value","");}var _69=dj.byId("email_1");if(_69&&m._config.clearScreenFields&&m._config.clearOnSecondCall&&!_5c){_69.set("value","");}var _6a=dj.byId("email_2");if(_6a&&m._config.clearScreenFields&&m._config.clearOnSecondCall&&!_5c){_6a.set("value","");}if(_5d!=="TRSRY"&&_5d!=="TRSRYFXFT"){_6b();}_6c(_5d);m._config.clearScreenFields=true;m._config.clearOnSecondCall=true;if(_5d==="NONE"){m.animate("fadeOut",_3);m.animate("fadeOut",_8);m.animate("fadeOut",_e);}else{if(_5d==="FI202"){m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeIn",_5);m.animate("fadeOut",_4);m.animate("fadeOut",_e);}else{if(_5d==="DD"){m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeOut",_5);m.animate("fadeOut",_4);m.animate("fadeOut",_e);}else{if(_5d==="TTPT"){m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeOut",_6);m.animate("fadeOut",_5);m.animate("fadeOut",_5e);m.animate("fadeOut",_5f);m.animate("fadeOut",_e);}else{if(_5d==="RTGS"){m.animate("fadeIn",_4);m.animate("fadeIn",_3);m.animate("fadeOut",_d);m.animate("fadeIn",_c);m.animate("fadeOut",_8);m.animate("fadeOut",_5);m.animate("fadeIn",_b);m.animate("fadeIn",_7);m.animate("fadeIn",_e);m.animate("fadeOut",_f);}else{if(_5d==="TRSRY"||_5d==="TRSRYFXFT"){m.animate("fadeIn",_3);m.animate("fadeOut",_7);m.animate("fadeOut",_5);m.animate("fadeIn",_4);m.animate("fadeOut",_e);}else{if(_5d==="MEPS"){m.animate("fadeIn",_4);m.animate("fadeIn",_3);m.animate("fadeOut",_d);m.animate("fadeIn",_a);m.animate("fadeOut",_8);m.animate("fadeOut",_5);m.animate("fadeIn",_9);m.animate("fadeIn",_7);m.animate("fadeOut",_5f);m.animate("fadeIn",_e);m.animate("fadeOut",_f);}else{m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeOut",_5);m.animate("fadeIn",_4);m.animate("fadeOut",_c);m.animate("fadeOut",_a);m.animate("fadeOut",_e);m.animate("fadeOut",_9);m.animate("fadeOut",_b);}}}}}}}if(_5d==="TRSRY"){if(dj.byId("dom")){dj.byId("dom").set("maxLength","32");}if(dj.byId("bank_address_line_2")){dj.byId("bank_address_line_2").set("maxLength","32");}if(dj.byId("bank_dom")){dj.byId("bank_dom").set("maxLength","32");}}else{if(_5d!="MEPS"&&_5d!="RTGS"){if(dj.byId("dom")){dj.byId("dom").set("maxLength","35");}}if(dj.byId("bank_address_line_2")){dj.byId("bank_address_line_2").set("maxLength","35");}}if(_5d==="TRSRYFXFT"){if(dj.byId("bank_name")){dj.byId("bank_name").set("maxLength","34");}if(dj.byId("branch_name")){dj.byId("branch_name").set("maxLength","34");}if(dj.byId("bank_address_line_1")){dj.byId("bank_address_line_1").set("maxLength","34");}if(dj.byId("bank_dom")){dj.byId("bank_dom").set("maxLength","31");}if(dj.byId("inter_bank_name")){dj.byId("inter_bank_name").set("maxLength","34");}if(dj.byId("inter_bank_address_1")){dj.byId("inter_bank_address_1").set("maxLength","34");}if(dj.byId("inter_bank_address_2")){dj.byId("inter_bank_address_2").set("maxLength","34");}if(dj.byId("inter_bank_dom")){dj.byId("inter_bank_dom").set("maxLength","31");}if(dj.byId("ordering_customer_name")){dj.byId("ordering_customer_name").set("maxLength","34");}if(dj.byId("ordering_customer_address_1")){dj.byId("ordering_customer_address_1").set("maxLength","34");}if(dj.byId("ordering_customer_address_2")){dj.byId("ordering_customer_address_2").set("maxLength","34");}if(dj.byId("ordering_customer_dom")){dj.byId("ordering_customer_dom").set("maxLength","31");}}m.toggleRequired("account_no_mt202",_5d==="FI202");if((_5d==="TPT")||(_5d==="DOM")||(_5d==="MEPS")||(_5d==="RTGS")||(_5d==="MT101")||(_5d==="MT103")||(_5d==="FI103")||(_5d==="TTPT")||(_5d==="TRSRY")||(_5d==="TRSRYFXFT")){dj.byId("account_cur_code").set("readOnly",false);m.toggleRequired("account_cur_code",true);}else{dj.byId("account_cur_code").set("readOnly",true);m.toggleRequired("account_cur_code",false);}if(_5d==="MEPS"){m.animate("fadeIn",_9);}else{m.animate("fadeOut",_9);}if(_5d==="RTGS"){m.animate("fadeIn",_b);}else{m.animate("fadeOut",_b);}if((_5d==="MEPS")||(_5d==="RTGS")){m.animate("fadeIn",_60);m.toggleRequired("beneficiary_cntry_country",true);}else{m.animate("fadeOut",_60);m.toggleRequired("beneficiary_cntry_country",false);}}if(m.client&&m.client.toggleProductScreenFieldsClient){m.client.toggleProductScreenFieldsClient();}};function _6d(){var _6e=dj.byId("product_type").value;var _6f=d.byId("description_div");var _70=d.byId("email2_div");var _71=d.byId("bene_country_div");if(_6e===""){_6e="NONE";}_61();if(_6e){d.forEach(m._config.screenFields,function(_72){var _73=d.byId(_72+"_div");var _74=dj.byId(_72);if(d.indexOf(m._config.productTypes[_6e],_72)!==-1){if(_73){m.animate("fadeIn",_73);if(d.indexOf(m._config.productTypes[_6e].mandatory,_72)!==-1){m.toggleRequired(_72,true);}else{m.toggleRequired(_72,false);}if(d.indexOf(m._config.productTypes[_6e].swift,_72)!==-1){_65(_74,true);}else{_65(_74,false);}}}else{if(!(_72==="bank_iso_code"&&dj.byId("product_type").get("value")==="MUPS")){if(_73){m.animate("fadeOut",_73);}m.toggleRequired(_72,false);}}if(_74&&m._config.clearScreenFields){if(/CheckBox/.test(_74.declaredClass)&&m._config.clearOnSecondCall){_74.set("checked",false);}else{if(_72!=="pre_approved"&&m._config.clearOnSecondCall){_74.set("value","");_74.set("readOnly",false);}}}});var _75=dj.byId("counterparty_name");if(_75&&m._config.clearScreenFields&&m._config.clearOnSecondCall){_75.set("value","");}var _76=dj.byId("pre_approved");if(_76&&!m._config.non_pab_allowed){_76.set("checked",true);d.style(d.byId("pre_approved_div"),"display","none");}else{if(_76&&m._config.clearScreenFields&&m._config.clearOnSecondCall){_76.set("checked",false);}}var _77=dj.byId("beneficiary_id");if(_77&&m._config.clearScreenFields&&m._config.clearOnSecondCall){_77.set("value","");}var _78=dj.byId("email_1");if(_78&&m._config.clearScreenFields&&m._config.clearOnSecondCall){_78.set("value","");}var _79=dj.byId("email_2");if(_79&&m._config.clearScreenFields&&m._config.clearOnSecondCall){_79.set("value","");}_7a();if(_6e!=="TRSRY"&&_6e!=="TRSRYFXFT"){_6b();}_6c(_6e);m._config.clearScreenFields=true;m._config.clearOnSecondCall=true;if(_6e==="NONE"){m.animate("fadeOut",_3);m.animate("fadeOut",_8);m.animate("fadeOut",_e);}else{if(_6e==="FI202"){m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeIn",_5);m.animate("fadeOut",_4);m.animate("fadeOut",_e);}else{if(_6e==="DD"){m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeOut",_5);m.animate("fadeOut",_4);m.animate("fadeOut",_e);}else{if(_6e==="TTPT"){m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeOut",_6);m.animate("fadeOut",_5);m.animate("fadeOut",_6f);m.animate("fadeOut",_70);m.animate("fadeOut",_e);}else{if(_6e==="RTGS"){m.animate("fadeIn",_4);m.animate("fadeIn",_3);m.animate("fadeOut",_d);m.animate("fadeOut",_a);m.animate("fadeIn",_c);m.animate("fadeOut",_5);m.animate("fadeOut",_8);m.animate("fadeIn",_b);m.animate("fadeIn",_7);m.animate("fadeIn",_e);m.animate("fadeOut",_f);}else{if((_6e==="TRSRY")||(_6e==="TRSRYFXFT")){m.animate("fadeIn",_3);m.animate("fadeOut",_7);m.animate("fadeOut",_5);m.animate("fadeIn",_4);m.animate("fadeOut",_e);}else{if(_6e==="MEPS"){m.animate("fadeIn",_4);m.animate("fadeIn",_3);m.animate("fadeOut",_d);m.animate("fadeOut",_c);m.animate("fadeIn",_a);m.animate("fadeOut",_5);m.animate("fadeOut",_8);m.animate("fadeIn",_9);m.animate("fadeIn",_7);m.animate("fadeIn",_70);m.animate("fadeIn",_e);m.animate("fadeOut",_f);}else{m.animate("fadeIn",_3);m.animate("fadeIn",_7);m.animate("fadeOut",_5);m.animate("fadeIn",_4);m.animate("fadeOut",_c);m.animate("fadeOut",_a);m.animate("fadeOut",_e);}}}}}}}if(_6e==="TRSRY"){if(dj.byId("dom")){dj.byId("dom").set("maxLength","32");}if(dj.byId("bank_address_line_2")){dj.byId("bank_address_line_2").set("maxLength","32");}if(dj.byId("bank_dom")){dj.byId("bank_dom").set("maxLength","32");}}else{if(_6e==="TRSRYFXFT"){if(dj.byId("dom")){dj.byId("dom").set("maxLength","31");}}else{if(_6e!="MEPS"&&_6e!="RTGS"){if(dj.byId("dom")){dj.byId("dom").set("maxLength","35");}if(dj.byId("bank_address_line_2")){dj.byId("bank_address_line_2").set("maxLength","35");}}}}if((_6e==="MUPS")||(_6e==="HVPS")||(_6e==="HVXB")){m.animate("fadeIn",dojo.byId("mailing_address_div"));m.animate("fadeOut",dojo.byId("account_amt_img"));if(_6e!=="MUPS"){m.animate("fadeIn",dojo.byId("cnaps_bank_name_div"));}else{m.animate("fadeOut",dojo.byId("cnaps_bank_name_div"));}}else{m.animate("fadeOut",dojo.byId("mailing_address_div"));m.animate("fadeIn",dojo.byId("account_amt_img"));m.animate("fadeOut",dojo.byId("cnaps_bank_name_div"));}if(_6e==="MEPS"){m.animate("fadeOut",dojo.byId("account_amt_img"));}m.toggleRequired("account_no_mt202",_6e==="FI202");if((_6e==="TPT")||(_6e==="DOM")||(_6e==="MT101")||(_6e==="RTGS")||(_6e==="MT103")||(_6e==="FI103")||(_6e==="TTPT")||(_6e==="TRSRY")){dj.byId("account_cur_code").set("readOnly",false);m.toggleRequired("account_cur_code",true);}else{dj.byId("account_cur_code").set("readOnly",true);m.toggleRequired("account_cur_code",false);}if((_6e==="MT101")||(_6e==="MT103")||(_6e==="FI103")||(_6e==="FI202")){m.animate("fadeIn",_8);}else{m.animate("fadeOut",_8);}if(_6e==="MEPS"){m.animate("fadeIn",_9);}else{m.animate("fadeOut",_9);}if(_6e==="RTGS"){m.animate("fadeIn",_b);}else{m.animate("fadeOut",_b);}if((_6e==="MEPS")||(_6e==="RTGS")){m.animate("fadeIn",_71);m.toggleRequired("beneficiary_cntry_country",true);m.disableFields(["bank_name","bank_address_line_1","bank_address_line_2"],true);m.disableFields(["bank_dom","bank_code_country","bank_code_country_btn_img","intermediary_bank_meps_country_btn_img"],true);}else{m.animate("fadeOut",_71);m.toggleRequired("beneficiary_cntry_country",false);}if(_6e==="MT103"||_6e==="MT101"||_6e==="FI103"){_47(dj.byId("branch_address").get("checked"));m.animate("fadeIn",_d);m.animate("fadeOut",_a);m.animate("fadeOut",_c);}if(_6e==="RTGS"||_6e==="MEPS"){_47(dj.byId("branch_address").get("checked"));}}if(m.client&&m.client.toggleProductScreenFieldsClient){m.client.toggleProductScreenFieldsClient();}};function _6c(_7b){var _7c=dj.byId("counterparty_name"),_7d=dj.byId("account_no"),_7e=dj.byId("account_cur_code"),_7f=dj.byId("account_amt_img"),_80=dj.byId("bank_name"),_81=dj.byId("branch_name"),_82=dj.byId("address_line_1"),_83=dj.byId("dom"),_84=dj.byId("address_line_2"),_85=dj.byId("beneficiary_name_label").get("value"),_86=dj.byId("bank_name_label").get("value"),_87=dj.byId("beneficiary_instituion_label").get("value"),_88=dj.byId("bank_instituion_label").get("value"),_89=dj.byId("bank_name_label_with_out_address").get("value"),_8a=dj.byId("beneficiary_name_label_with_out_address").get("value");var _8b=dj.byId("counterparty_name"),_8c=dj.byId("address_line_1"),_8d=dj.byId("address_line_2"),_8e=dj.byId("dom"),_8f=dj.byId("bank_address_line_1"),_90=dj.byId("bank_dom"),_91=dj.byId("ordering_customer_name"),_92=dj.byId("ordering_customer_address_1"),_93=dj.byId("ordering_customer_address_2"),_94=dj.byId("ordering_customer_dom"),_95=dj.byId("inter_bank_name"),_96=dj.byId("inter_bank_address_1"),_97=dj.byId("inter_bank_address_2"),_98=dj.byId("inter_bank_dom");switch(_7b){case "TPT":_7d.set("maxLength","34");_7c.set("maxLength","35");_80.set("readOnly",false);_81.set("readOnly",false);m.disconnect(m._config.accountNoIBANValidationHandle);dojo.query(_11)[0].innerHTML=_15+_8a;dojo.query(_12)[0].innerHTML=_15+_86;break;case "MUPS":_7c.set("maxLength","35");_7d.set("maxLength","34");_7e.set("value","INR");_7f.set("disabled",true);dj.byId("threshold_amt_img").set("disabled",true);dj.byId("bank_ifsc_name").set("readOnly",true);dj.byId("bank_ifsc_address_line_1").set("readOnly",true);dj.byId("bank_ifsc_address_line_2").set("readOnly",true);dj.byId("bank_ifsc_city").set("readOnly",true);dj.byId("threshold_cur_code").set("value","INR");dj.byId("threshold_cur_code").set("readOnly",true);dojo.query(_11)[0].innerHTML=_15+_8a;dojo.query(_12)[0].innerHTML=_15+_86;break;case "DOM":_7d.set("maxLength","34");_80.set("readOnly",true);_81.set("readOnly",true);m.disconnect(m._config.accountNoIBANValidationHandle);dojo.query(_11)[0].innerHTML=_15+_8a;dojo.query(_12)[0].innerHTML=_15+_89;break;case "FI202":_7d.set("maxLength","34");_80.set("readOnly",false);_81.set("readOnly",false);m.disconnect(m._config.accountNoIBANValidationHandle);dojo.query(_11)[0].innerHTML=_15+_87;dojo.query(_12)[0].innerHTML=_15+_88;break;case "MT101":_7d.set("maxLength","34");_80.set("readOnly",false);_81.set("readOnly",false);m._config.accountNoIBANValidationHandle=m.connect("account_no","onBlur",_99);dojo.query(_11)[0].innerHTML=_15+_85;dojo.query(_12)[0].innerHTML=_15+_86;break;case "MT103":_7c.set("maxLength","35");dojo.query(_11)[0].innerHTML=_15+_85;dojo.query(_12)[0].innerHTML=_15+_86;break;case "FI103":dojo.query(_11)[0].innerHTML=_15+_85;dojo.query(_12)[0].innerHTML=_15+_86;break;case "TRSRY":_7c.set("maxLength","50");_7d.set("maxLength","33");_80.set("readOnly",false);_81.set("readOnly",false);m.disconnect(m._config.accountNoIBANValidationHandle);dojo.query(_11)[0].innerHTML=_15+_8a;dojo.query(_12)[0].innerHTML=_15+_89;break;case "TRSRYFXFT":_8b.set("maxLength","34");_8c.set("maxLength","34");_8d.set("maxLength","34");_8e.set("maxLength","31");_80.set("maxLength","34");_81.set("maxLength","34");_8f.set("maxLength","34");_90.set("maxLength","31");_91.set("maxLength","34");_92.set("maxLength","34");_93.set("maxLength","34");_94.set("maxLength","31");_95.set("maxLength","34");_96.set("maxLength","34");_97.set("maxLength","34");_98.set("maxLength","31");m.disconnect(m._config.accountNoIBANValidationHandle);dojo.query(_11)[0].innerHTML=_15+_8a;dojo.query(_12)[0].innerHTML=_15+_89;break;case "HVPS":case "HVXB":_7e.set("value","CNY");_7f.set("disabled",true);dj.byId("threshold_amt_img").set("disabled",true);dj.byId("threshold_cur_code").set("value","CNY");dj.byId("threshold_cur_code").set("readOnly",true);dj.byId("cnaps_bank_name").set("readOnly",true);m.disconnect(m._config.accountNoIBANValidationHandle);m.connect("cnaps_bank_code","onBlur",_9a);m.connect("cnaps_bank_code_img","onClick",_9b);dojo.query(_11)[0].innerHTML=_15+_8a;dojo.query(_12)[0].innerHTML=_15+_89;break;case "MEPS":_7c.set("maxLength","33");_7d.set("maxLength","34");_82.set("maxLength","33");_84.set("maxLength","33");_83.set("maxLength","30");_7e.set("value","SGD");_7f.set("disabled",true);dj.byId("threshold_amt_img").set("disabled",true);dj.byId("threshold_cur_code").set("value","SGD");dj.byId("threshold_cur_code").set("readOnly",true);dojo.query(_11)[0].innerHTML=_15+_85;dojo.query(_12)[0].innerHTML=_15+_86;break;case "RTGS":_7c.set("maxLength","33");_7d.set("maxLength","34");_82.set("maxLength","33");_84.set("maxLength","33");_83.set("maxLength","30");dojo.query(_11)[0].innerHTML=_15+_85;dojo.query(_12)[0].innerHTML=_15+_86;_7f.set("disabled",false);break;default:_7d.set("maxLength","34");_80.set("readOnly",false);_81.set("readOnly",false);m.disconnect(m._config.accountNoIBANValidationHandle);dojo.query(_11)[0].innerHTML=_15+_8a;dojo.query(_12)[0].innerHTML=_15+_86;break;}if(m.client&&m.client.resizeFieldsClient){m.client.resizeFieldsClient(_7b);}};function _9c(_9d){var _9e=dj.byId("pre_approved");if(_9e&&(_9e.get("value")==="Y"||_9e.get("value")==="on")){_9d=true;}else{_9d=false;}var _9f=d.byId("threshold_cur_code_row");var _a0=dj.byId("option").get("value");var _a1=dj.byId("reauth_popup_non_pab_flag").get("value");if(!_9d){_7a();m.animate("fadeOut",_9f);if(_a0==="BENEFICIARY_MASTER_MAINTENANCE_MC"){d.forEach(d.query("[widgetid='draftButton']"),function(_a2,_a3){d.style(_a2,"display","none");});}}else{m.animate("fadeIn",_9f);if(dj.byId("product_type").get("value")==="MUPS"||(dj.byId("product_type").get("value")==="HVPS")||(dj.byId("product_type").get("value")==="HVXB")||dj.byId("product_type").get("value")==="MEPS"){misys.animate("fadeOut",dojo.byId("threshold_amt_img"));misys.animate("fadeOut",dojo.byId("account_amt_img"));}else{misys.animate("fadeIn",dojo.byId("threshold_amt_img"));misys.animate("fadeIn",dojo.byId("account_amt_img"));}if(_a0==="BENEFICIARY_MASTER_MAINTENANCE_MC"){d.forEach(d.query("[widgetid='draftButton']"),function(_a4,_a5){d.style(_a4,"display","inline");});}}if(!_9d&&_a1==="false"){if(dj.byId("reauth_perform")){dj.byId("reauth_perform").set("value","N");}}else{if(dj.byId("reauth_perform")){dj.byId("reauth_perform").set("value","Y");}}};function _7a(){var _a6=dj.byId("threshold_amt");if(dj.byId("product_type").get("value")==="MUPS"){_a6.set("required",false);}if(_a6&&m._config.clearScreenFields&&m._config.clearOnSecondCall){_a6.set("value","");_a6.set("required",false);}var _a7=dj.byId("threshold_cur_code");if(dj.byId("product_type").get("value")!="MUPS"&&dj.byId("product_type").get("value")!="MEPS"&&dj.byId("product_type").get("value")!="HVPS"&&dj.byId("product_type").get("value")!="HVXB"){if(_a7&&m._config.clearScreenFields&&m._config.clearOnSecondCall){_a7.set("value","");_a7.set("required",false);}}};function _6b(){for(var i=0;i<_13.length;i++){if(dj.byId(_13[i])){dj.byId(_13[i]).set("value","");}}};function _a8(){var _a9=dj.byId("product_type"),_aa=dj.byId("email_1"),_ab=dj.byId("email_2");if(_a9.get("value")===""){_a9.set("value","NONE");}_a9.set("value","NONE");_aa.set("value","");_ab.set("value","");if(dj.byId("entity").get("value")===""){_a9.set("disabled",true);}else{_a9.set("disabled",false);}};function _ac(){var _ad=dj.byId("regexValue");var _ae=dj.byId("beneficiary_accname_regex_mups");var _af=dj.byId("beneficiary_accname_regex_meps");var _b0=dj.byId("beneficiary_accname_regex_rtgs");var _b1=dj.byId("allowedProducts");var _b2=_ad?dj.byId("regexValue").get("value"):"";var _b3=_ae?dj.byId("beneficiary_accname_regex_mups").get("value"):"";var _b4=_af?dj.byId("beneficiary_accname_regex_meps").get("value"):"";var _b5=_b0?dj.byId("beneficiary_accname_regex_rtgs").get("value"):"";var _b6=_b1?dj.byId("allowedProducts").get("value"):"";var _b7=dj.byId("product_type");var _b8=_b7?dj.byId("product_type").get("value"):"";var _b9=dj.byId("beneficiary_id");var _ba=_b9?dj.byId("beneficiary_id").get("value"):"";var _bb=new RegExp(_b2);var _bc=new RegExp(_b3);var _bd=new RegExp(_b4);var _be=new RegExp(_b5);var _bf=false;var _c0=null;if(_b7&&(_b6.indexOf(_b8)<0)&&_b8!=="MUPS"&&_b8!=="MEPS"&&_b8!=="RTGS"){if(_b2!==null&&_b2!==""&&_ba!==""&&_ba!==null){_bf=_bb.test(_ba);if(!_bf){_c0=m.getLocalization("invalidBeneficiaryId");_b9.set("state","Error");dj.hideTooltip(_b9.domNode);dj.showTooltip(_c0,_b9.domNode,0);}}}else{if(_b8!==""&&_b8==="MUPS"){if(_ae!==null&&_ae!==""&&_ba!==""&&_ba!==null){_bf=_bc.test(_ba);if(!_bf){_c0=m.getLocalization("invalidBeneficiaryId");_b9.set("state","Error");dj.hideTooltip(_b9.domNode);dj.showTooltip(_c0,_b9.domNode,0);}}}else{if(_b8!==""&&_b8==="MEPS"){if(_af!==null&&_af!==""&&_ba!==""&&_ba!==null){_bf=_bd.test(_ba);if(!_bf){_c0=m.getLocalization("invalidBeneficiaryId");_b9.set("state","Error");dj.hideTooltip(_b9.domNode);dj.showTooltip(_c0,_b9.domNode,0);}}}else{if(_b8!==""&&_b8==="RTGS"){if(_b0!==null&&_b0!==""&&_ba!==""&&_ba!==null){_bf=_be.test(_ba);if(!_bf){_c0=m.getLocalization("invalidBeneficiaryId");_b9.set("state","Error");dj.hideTooltip(_b9.domNode);dj.showTooltip(_c0,_b9.domNode,0);}}}else{_bf=true;m._config.forceSWIFTValidation=false;}}}}var _c1=null;if(dijit.byId("company")){_c1=dijit.byId("company").get("_lastValueReported");}var _c2=_b9?_b9.get("value"):"";if(_c2!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckBeneficiaryIdAction"),handleAs:"json",sync:true,content:{beneficiaryId:_c2,comapany_name:_c1},load:function(_c3,_c4){if(_c3.items.valid===false){if(!(dijit.byId("beneficiary_id").get("_lastValueReported")===dijit.byId("beneficiary_id").get("_resetValue"))){_40();_bf=false;}}},error:function(_c5,_c6){console.error("[Could not validate Beneficiary ID] "+_c2);console.error(_c5);}});}return _bf;};function _c7(){var _c8=dj.byId("regexValue");var _c9=dj.byId("allowedProducts");var _ca=_c8?dj.byId("regexValue").get("value"):"";var _cb=_c9?dj.byId("allowedProducts").get("value"):"";var _cc=dj.byId("product_type");var _cd=_cc?dj.byId("product_type").get("value"):"";var _ce=dj.byId("beneficiary_accname_regex_meps");var _cf=_ce?dj.byId("beneficiary_accname_regex_meps").get("value"):"";var _d0=dj.byId("counterparty_name");var _d1=_d0?dj.byId("counterparty_name").get("value"):"";var _d2="invalidBeneficiaryName";if(_cd=="RTGS"){_c8=dj.byId("beneficiary_accname_regex_rtgs");_ca=_c8?dj.byId("beneficiary_accname_regex_rtgs").get("value"):"";_d2="invalidBeneficiaryNameRTGS";}var _d3=new RegExp(_ca);var _d4=new RegExp(_cf);var _d5=_d1.length;var _d6=false;var _d7=null;if(dj.byId("product_type").get("value")=="MUPS"){if(_d0.get("value")!==""){if(_d5<12){_d7=m.getLocalization("invalidLengthForBeneficiaryNameMUPS");_d0.set("value","");_d0.set("state","Error");dj.hideTooltip(_d0.domNode);dj.showTooltip(_d7,_d0.domNode,0);}else{if(!_d8(_d0)){_d7=m.getLocalization("invalidBeneficiaryNameforMUPS");_d0.set("value","");_d0.set("state","Error");dj.hideTooltip(_d0.domNode);dj.showTooltip(_d7,_d0.domNode,0);}}}}if(_cc&&(_cb.indexOf(_cd)<0)&&_cd!=="MUPS"){if(_ca&&_d1){if(_cd==="MEPS"){_d6=_d4.test(_d1);}else{_d6=_d3.test(_d1);}if(!_d6&&_cd!=="MEPS"){_d7=m.getLocalization(_d2);_d0.focus();_d0.set("state","Error");dj.hideTooltip(_d0.domNode);dj.showTooltip(_d7,_d0.domNode,0);}else{if(!_d6&&_cd==="MEPS"){_d7=m.getLocalization("invalidBeneficiaryNameforMeps");_d0.focus();_d0.set("state","Error");dj.hideTooltip(_d0.domNode);dj.showTooltip(_d7,_d0.domNode,0);}}}if(_cd==="MT101"||_cd==="MT103"||_cd==="FI103"||_cd==="FI202"||_cd==="DD"){var _d9=dj.byId("counterparty_name_2");var _da=_d0?dj.byId("counterparty_name_2").get("value"):"";if(_ca!==null&&_ca!==""&&_da!==""&&_da!==null){_d6=_d3.test(_da);if(!_d6){_d7=m.getLocalization("invalidBeneficiaryName");_d9.set("state","Error");dj.hideTooltip(_d9.domNode);dj.showTooltip(_d7,_d9.domNode,0);}}var _db=dj.byId("counterparty_name_3");var _dc=_d0?dj.byId("counterparty_name_3").get("value"):"";if(_ca!==null&&_ca!==""&&_dc!==""&&_dc!==null){_d6=_d3.test(_dc);if(!_d6){_d7=m.getLocalization("invalidBeneficiaryName");_db.set("state","Error");dj.hideTooltip(_db.domNode);dj.showTooltip(_d7,_db.domNode,0);}}}}else{m._config.forceSWIFTValidation=false;}var _dd=null;if(dijit.byId("company")){_dd=dijit.byId("company").get("_lastValueReported");}var _de=_d0?_d0.get("value"):"";var _df=dj.byId("DUPLICATE_BENEFICIARY_NAME_VALIDATION_FLAG");if(_de!=""&&_df&&_df.get("value")==="true"){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckBeneficiaryNameAction"),handleAs:"json",sync:true,content:{new_user_name:_de,company_name:_dd},load:_3a});}};function _d8(_e0){var _e1=dj.byId("beneficiary_accname_regex_mups");var _e2=_e1?dj.byId("beneficiary_accname_regex_mups").get("value"):"";var _e3=new RegExp(_e2);var _e4=false;var _e5=dj.byId(_e0);var _e6=_e5?_e5.get("value"):"";if(_e2!==null&&_e2!==""){if(_e6!==""&&_e6!==null){_e4=_e3.test(_e6);return _e4;}}return _e4;};function _e7(_e8){var _e9=dj.byId("beneficiary_account_regex_mups");var _ea=_e9?dj.byId("beneficiary_account_regex_mups").get("value"):"";var _eb=new RegExp(_ea);var _ec=false;var _ed=dj.byId(_e8);var _ee=_ed?_ed.get("value"):"";if(_ea!==null&&_ea!==""){if(_ee!==""&&_ee!==null){_ec=_eb.test(_ee);return _ec;}}return _ec;};function _ef(_f0){var _f1=dj.byId("beneficiary_account_regex_meps");var _f2=_f1?dj.byId("beneficiary_account_regex_meps").get("value"):"";var _f3=new RegExp(_f2);var _f4=false;var _f5=dj.byId("account_no");var _f6=_f5?_f5.get("value"):"";if(_f2!==null&&_f2!==""){if(_f6!==""&&_f6!==null){_f4=_f3.test(_f6);return _f4;}}return _f4;};function _f7(_f8){var _f9=dj.byId("beneficiary_account_regex_rtgs");var _fa=_f9?dj.byId("beneficiary_account_regex_rtgs").get("value"):"";var _fb=new RegExp(_fa);var _fc=false;var _fd=dj.byId("account_no");var _fe=_fd?_fd.get("value"):"";if(_fa!==null&&_fa!==""){if(_fe!==""&&_fe!==null){_fc=_fb.test(_fe);return _fc;}}return _fc;};function _ff(){var _100=dj.byId("regexAddressValue");var _101=dj.byId("swiftregexValue");var _102=dj.byId("beneficiary_addr_regex_meps");var _103=_102?dj.byId("beneficiary_addr_regex_meps").get("value"):"";var _104=dj.byId("allowedProducts");var _105=_100?dj.byId("regexAddressValue").get("value"):"";var _106=_101?dj.byId("swiftregexValue").get("value"):"";var _107=_104?dj.byId("allowedProducts").get("value"):"";var _108=dj.byId("product_type");var _109=_108?dj.byId("product_type").get("value"):"";var _10a=new RegExp(_106);var _10b=new RegExp(_105);var _10c=new RegExp(_103);var _10d=false;var _10e=null;var _10f=dj.byId("address_line_1");var _110=_10f?dj.byId("address_line_1").get("value"):"";var _111=dj.byId("address_line_2");var _112=_111?dj.byId("address_line_2").get("value"):"";var _113=dj.byId("address_line_3");var _114=_111?dj.byId("address_line_3").get("value"):"";var _115=dj.byId("dom");var _116=_115?dj.byId("dom").get("value"):"";if(_108&&(_107.indexOf(_109)<0)){if(_109==="MT101"||_109==="MT103"||_109==="FI103"||_109==="FI202"||_109==="DD"){if(_105!==null&&_105!==""&&_110!==""&&_110!==null){_10d=_10b.test(_110);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");_10f.set("state","Error");dj.hideTooltip(_10f.domNode);dj.showTooltip(_10e,_10f.domNode,0);}}if(_105!==null&&_105!==""&&_112!==""&&_112!==null){_10d=_10b.test(_112);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");_111.set("state","Error");dj.hideTooltip(_111.domNode);dj.showTooltip(_10e,_111.domNode,0);}}if(_105!==null&&_105!==""&&_114!==""&&_114!==null){_10d=_10b.test(_114);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");_113.set("state","Error");dj.hideTooltip(_113.domNode);dj.showTooltip(_10e,_113.domNode,0);}}if(_105!==null&&_105!==""&&_116!==""&&_116!==null){_10d=_10b.test(_116);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");domId.set("state","Error");dj.hideTooltip(domId.domNode);dj.showTooltip(_10e,domId.domNode,0);}}}else{if(_109==="TTPT"){if(_106!==null&&_106!==""&&_110!==""&&_110!==null){_10d=_10a.test(_110);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");_10f.set("state","Error");dj.hideTooltip(_10f.domNode);dj.showTooltip(_10e,_10f.domNode,0);}}if(_106!==null&&_106!==""&&_112!==""&&_112!==null){_10d=_10a.test(_112);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");_111.set("state","Error");dj.hideTooltip(_111.domNode);dj.showTooltip(_10e,_111.domNode,0);}}if(_106!==null&&_106!==""&&_114!==""&&_114!==null){_10d=_10a.test(_114);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");_113.set("state","Error");dj.hideTooltip(_113.domNode);dj.showTooltip(_10e,_113.domNode,0);}}if(_106!==null&&_106!==""&&_116!==""&&_116!==null){_10d=_10a.test(_116);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressField");_115.set("state","Error");dj.hideTooltip(_115.domNode);dj.showTooltip(_10e,_115.domNode,0);}}}else{if(_109==="MEPS"){if(_103!==null&&_103!==""&&_110!==""&&_110!==null){_10d=_10c.test(_110);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressFieldMeps");_10f.set("state","Error");dj.hideTooltip(_10f.domNode);dj.showTooltip(_10e,_10f.domNode,0);}}if(_103!==null&&_103!==""&&_112!==""&&_112!==null){_10d=_10c.test(_112);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressFieldMeps");_111.set("state","Error");dj.hideTooltip(_111.domNode);dj.showTooltip(_10e,_111.domNode,0);}}if(_103!==null&&_103!==""&&_116!==""&&_116!==null){_10d=_10c.test(_116);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressFieldMeps");_115.set("state","Error");dj.hideTooltip(_115.domNode);dj.showTooltip(_10e,_115.domNode,0);}}}else{if(_109==="RTGS"){var _117=dj.byId("beneficiary_addr_regex_rtgs")?dj.byId("beneficiary_addr_regex_rtgs").get("value"):"";var _118=new RegExp(_117);var _119=dj.byId("addressStartCharsRegex")?dj.byId("addressStartCharsRegex").get("value"):"";var _11a=new RegExp(_119);if(_117!==null&&_117!==""&&_110!==""&&_110!==null){_10d=_118.test(_110);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressFieldRtgs");_10f.set("state","Error");dj.hideTooltip(_10f.domNode);dj.showTooltip(_10e,_10f.domNode,0);}else{if(_11a.test(_110)){_10e=m.getLocalization("invalidFirstCharBeneficiaryAddressFieldRtgs");_10f.set("state","Error");dj.hideTooltip(_10f.domNode);dj.showTooltip(_10e,_10f.domNode,0);}}}if(_117!==null&&_117!==""&&_112!==""&&_112!==null){_10d=_118.test(_112);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressFieldRtgs");_111.set("state","Error");dj.hideTooltip(_111.domNode);dj.showTooltip(_10e,_111.domNode,0);}else{if(_11a.test(_112)){_10e=m.getLocalization("invalidFirstCharBeneficiaryAddressFieldRtgs");_111.set("state","Error");dj.hideTooltip(_111.domNode);dj.showTooltip(_10e,_111.domNode,0);}}}if(_117!==null&&_117!==""&&_116!==""&&_116!==null){_10d=_118.test(_116);if(!_10d){_10e=m.getLocalization("invalidBeneficiaryAddressFieldRtgs");_115.set("state","Error");dj.hideTooltip(_115.domNode);dj.showTooltip(_10e,_115.domNode,0);}else{if(_11a.test(_116)){_10e=m.getLocalization("invalidFirstCharBeneficiaryAddressFieldRtgs");_115.set("state","Error");dj.hideTooltip(_115.domNode);dj.showTooltip(_10e,_115.domNode,0);}}}}}}}}else{m._config.forceSWIFTValidation=false;}};function _11b(){var _11c=dj.byId("brch_code"),_11d=dj.byId("bank_code"),_11e=dj.byId("bank_name"),_11f=dj.byId("branch_name"),_120="";var _121=dj.byId("product_type");if(_121&&(_121.get("value")==="MT101"&&_121.get("value")==="MT103"&&_121.get("value")==="FI103"&&_121.get("value")==="FI202")){if(_11d&&_11c){if(!(_11d.get("value")==="")&&!(_11c.get("value")==="")){m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateBankBranchCodeAction"),handleAs:"json",sync:true,content:{bank_code:_11d.get("value"),brnch_code:_11c.get("value"),internal:"N"},load:function(_122,args){if(_122.items.valid===false){_120=misys.getLocalization("invalidBankCodeBranchCode",[_11d.get("value"),_11c.get("value")]);_11c.focus();_11e.set("value","");_11f.set("value","");_11d.set("state","Error");_11c.set("state","Error");dj.hideTooltip(_11c.domNode);dj.showTooltip(_120,_11c.domNode,0);}else{_11e.set("value",_122.items.bankName);_11f.set("value",_122.items.branchName);}},error:function(_123,args){console.error("[Could not validate Bank Code Branch Code] "+_11d.get("value")+","+_11c.get("value"));console.error(_123);}});}else{_11e.set("value","");_11f.set("value","");}}}};function _124(){var _125=dj.byId("bank_bic_code_rtgs"),_126=dj.byId("bank_name"),_127=dj.byId("bank_address_line_1"),_128=dj.byId("bank_address_line_2"),_129=dj.byId("bank_dom"),_12a=dj.byId("bank_code_country"),_12b=dj.byId("intermediary_flag"),_12c="";if(_125){if(_125.get("value")!==""){m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateBankRTGSSWIFTCodeAction"),handleAs:"json",sync:true,content:{bank_code:_125.get("value")},load:function(_12d,args){if(_12d.items.valid===true){_126.set("value",_12d.items.bankName);_127.set("value",_12d.items.bankAddressLine1);_128.set("value",_12d.items.bankAddressLine2);_129.set("value",_12d.items.bankDom);_12a.set("value",_12d.items.bankCountry);_12b.set("value",_12d.items.intermediaryFlag);}else{_12c=misys.getLocalization("invalidBankCode");_125.focus();_125.set("value","");_125.set("state","Error");dj.hideTooltip(_125.domNode);dj.showTooltip(_12c,_125.domNode,0);}},error:function(_12e,args){console.error("[Could not validate Bank IFSC Code] "+bank_code_field.get("value"));console.error(_12e);}});}else{_126.set("value","");_127.set("value","");_128.set("value","");_129.set("value","");_12b.set("value","");}}};function _12f(){var _130=dj.byId("bank_iso_code_meps"),_131=dj.byId("bank_name"),_132=dj.byId("bank_address_line_1"),_133=dj.byId("bank_address_line_2"),_134=dj.byId("bank_dom"),_135=dj.byId("bank_code_country"),_136=dj.byId("intermediary_flag"),_137="";if(_130){if(_130.get("value")!==""){m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateBankMepsSWIFTCodeAction"),handleAs:"json",sync:true,content:{bank_code:_130.get("value")},load:function(_138,args){if(_138.items.valid===true){_131.set("value",_138.items.bankName);_132.set("value",_138.items.bankAddressLine1);_133.set("value",_138.items.bankAddressLine2);_134.set("value",_138.items.bankDom);_135.set("value",_138.items.bankCountry);_136.set("value",_138.items.intermediaryFlag);}else{_137=misys.getLocalization("invalidBankCode");_130.focus();_130.set("value","");_130.set("state","Error");dj.hideTooltip(_130.domNode);dj.showTooltip(_137,_130.domNode,0);}},error:function(_139,args){console.error("[Could not validate Bank IFSC Code] "+bank_code_field.get("value"));console.error(_139);}});}else{_131.set("value","");_132.set("value","");_133.set("value","");_134.set("value","");_136.set("value","");}}};function _13a(){var _13b=true;if((dj.byId("mailing_address_line_5")&&dj.byId("mailing_address_line_5").get("value")!=="")&&((dj.byId("mailing_address_line_1")&&dj.byId("mailing_address_line_1").get("value")=="")||(dj.byId("mailing_address_line_2")&&dj.byId("mailing_address_line_2").get("value")=="")||(dj.byId("mailing_address_line_3")&&dj.byId("mailing_address_line_3").get("value")=="")||(dj.byId("mailing_address_line_4")&&dj.byId("mailing_address_line_4").get("value")==""))){_13b=false;if(dj.byId("mailing_address_line_4").get("value")==""){dj.byId("mailing_address_line_4").set("state","Error");}else{if(dj.byId("mailing_address_line_3").get("value")==""){dj.byId("mailing_address_line_3").set("state","Error");}else{if(dj.byId("mailing_address_line_2").get("value")==""){dj.byId("mailing_address_line_2").set("state","Error");}else{if(dj.byId("mailing_address_line_1").get("value")==""){dj.byId("mailing_address_line_1").set("state","Error");}}}}return _13b;}else{if((dj.byId("mailing_address_line_4")&&dj.byId("mailing_address_line_4").get("value")!=="")&&((dj.byId("mailing_address_line_1")&&dj.byId("mailing_address_line_1").get("value")=="")||(dj.byId("mailing_address_line_2")&&dj.byId("mailing_address_line_2").get("value")=="")||(dj.byId("mailing_address_line_3")&&dj.byId("mailing_address_line_3").get("value")==""))){_13b=false;if(dj.byId("mailing_address_line_3").get("value")==""){dj.byId("mailing_address_line_3").set("state","Error");}else{if(dj.byId("mailing_address_line_2").get("value")==""){dj.byId("mailing_address_line_2").set("state","Error");}else{if(dj.byId("mailing_address_line_1").get("value")==""){dj.byId("mailing_address_line_1").set("state","Error");}}}return _13b;}else{if((dj.byId("mailing_address_line_3")&&dj.byId("mailing_address_line_3").get("value")!=="")&&((dj.byId("mailing_address_line_1")&&dj.byId("mailing_address_line_1").get("value")=="")||(dj.byId("mailing_address_line_2")&&dj.byId("mailing_address_line_2").get("value")==""))){_13b=false;if(dj.byId("mailing_address_line_2").get("value")==""){dj.byId("mailing_address_line_2").set("state","Error");}else{if(dj.byId("mailing_address_line_1").get("value")==""){dj.byId("mailing_address_line_1").set("state","Error");}}return _13b;}else{if((dj.byId("mailing_address_line_2")&&dj.byId("mailing_address_line_2").get("value")!=="")&&(dj.byId("mailing_address_line_1")&&dj.byId("mailing_address_line_1").get("value")=="")){_13b=false;if(dj.byId("mailing_address_line_1").get("value")==""){dj.byId("mailing_address_line_1").set("state","Error");}return _13b;}}}}return _13b;};function _13c(){var _13d=dj.byId("intermediary_bank_meps_swift_bic_code"),_13e=dj.byId("intermediary_bank_meps_name"),_13f=dj.byId("intermediary_bank_meps_address_line_1"),_140=dj.byId("intermediary_bank_meps_address_line_2"),_141=dj.byId("intermediary_bank_meps_dom"),_142=dj.byId("intermediary_bank_meps_country"),_143="";if(_13d){if(_13d.get("value")!==""){m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateIntermediarySWIFTCodeAction"),handleAs:"json",sync:true,content:{bank_code:_13d.get("value"),product_type:dj.byId("product_type").get("value")},load:function(_144,args){if(_144.items.valid===true){_13e.set("value",_144.items.bankName);_13f.set("value",_144.items.bankAddressLine1);_140.set("value",_144.items.bankAddressLine2);_141.set("value",_144.items.bankDom);_142.set("value",_144.items.bankCountry);}else{_143=misys.getLocalization("invalidBankCode");_13d.focus();_13d.set("value","");_13d.set("state","Error");dj.hideTooltip(_13d.domNode);dj.showTooltip(_143,_13d.domNode,0);}},error:function(_145,args){console.error("[Could not validate Intermediary Swift Code] "+_13d.get("value"));console.error(_145);}});}else{_13e.set("value","");_13f.set("value","");_140.set("value","");_141.set("value","");}}};function _146(){var _147=dj.byId("intermediary_bank_rtgs_swift_bic_code"),_148=dj.byId("intermediary_bank_rtgs_name"),_149=dj.byId("intermediary_bank_rtgs_address_line_1"),_14a=dj.byId("intermediary_bank_rtgs_address_line_2"),_14b=dj.byId("intermediary_bank_rtgs_dom"),_14c=dj.byId("intermediary_bank_rtgs_country"),_14d="";if(_147){if(_147.get("value")!==""){m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateIntermediarySWIFTCodeAction"),handleAs:"json",sync:true,content:{bank_code:_147.get("value"),product_type:dj.byId("product_type").get("value")},load:function(_14e,args){if(_14e.items.valid===true){_148.set("value",_14e.items.bankName);_149.set("value",_14e.items.bankAddressLine1);_14a.set("value",_14e.items.bankAddressLine2);_14b.set("value",_14e.items.bankDom);_14c.set("value",_14e.items.bankCountry);}else{_14d=misys.getLocalization("invalidBankCode");_147.focus();_147.set("value","");_147.set("state","Error");dj.hideTooltip(_147.domNode);dj.showTooltip(_14d,_147.domNode,0);}},error:function(_14f,args){console.error("[Could not validate Intermediary Swift Code] "+bank_code_field.get("value"));console.error(_14f);}});}else{_148.set("value","");_149.set("value","");_14a.set("value","");_14b.set("value","");}}};function _150(){var _151=dj.byId("product_type").get("value");var _152=dj.byId("account_no");var _153=null;var _154="";if(_151==="MUPS"||_151==="HVPS"||_151==="HVXB"){if(_152&&_152.get("value")!==""&&(!_e7(_152))){_153=m.getLocalization("invalidAccountNumberforMUPS");_152.focus();_152.set("state","Error");dj.hideTooltip(_152.domNode);dj.showTooltip(_153,_152.domNode,0);}}if(_151==="MEPS"){if(_152&&_152.get("value")!==""&&(!_ef(_152))){_153=m.getLocalization("invalidAccountNumberforMeps");_152.focus();_152.set("state","Error");dj.hideTooltip(_152.domNode);dj.showTooltip(_153,_152.domNode,0);}}if(_151==="RTGS"){if(_152&&_152.get("value")!==""&&(!_f7(_152))){_153=m.getLocalization("invalidAccountNumberforRtgs");_152.set("state","Error");dj.hideTooltip(_152.domNode);dj.showTooltip(_153,_152.domNode,0);return;}}if(_151!=="MUPS"&&_151!=="MEPS"&&_151!=="RTGS"){var _155=dj.byId("account_no");if(_155&&_155.get("value")!==""&&(!_156(_155))){_153=m.getLocalization("invalidAccountNumberForBeneficiary");_155.focus();_155.set("state","Error");dj.hideTooltip(_155.domNode);dj.showTooltip(_153,_155.domNode,0);}}var _157=dj.byId("product_type"),_158=dj.byId("account_no"),_159=dj.byId("account_cur_code"),_15a=dj.byId("bo_account_id"),_15b=dj.byId("bo_account_type"),_15c=dj.byId("bo_account_currency"),_15d=dj.byId("bo_branch_code"),_15e=dj.byId("bo_product_type");if(_157.get("value")===""){_157.set("value","NONE");}var _15f=null;if(dijit.byId("company")){_15f=dijit.byId("company").get("_lastValueReported");}if(!(dijit.byId("account_no").get("_lastValueReported")==dijit.byId("account_no").get("_resetValue"))){var _160=_158?_158.get("value"):"";var _161=dj.byId("DUPLICATE_BENEFICIARY_ACCOUNT_VALIDATION_FLAG");if(_160!=""&&_161&&_161.get("value")==="true"){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateBeneficiaryMasterAccountNumber"),handleAs:"json",sync:true,content:{account_number:_160,company_name:_15f},load:_162});}}m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateBeneficiaryMasterAccount"),handleAs:"json",sync:true,content:{account_number:_158.get("value"),account_cur_code:_159.get("value")},load:function(_163,args){_171();switch(_163.items.StatusCode){case "OK":_15a.set("value",_163.items.AcctId);_15b.set("value",_163.items.AcctType);_15c.set("value",_163.items.AcctCur);_15d.set("value",_163.items.BranchCode);_15e.set("value",_163.items.ProdType);_159.set("value",_163.items.AcctCur);break;case "ERR_INVALID_INTERFACE_PROCESSING_ERROR":_154=misys.getLocalization("mqInterfaceFailure",[_158.get("value")]);_158.focus();_158.set("value","");_158.set("state","Error");dj.hideTooltip(_158.domNode);dj.showTooltip(_154,_158.domNode,0);break;case "ERR_INVALID_ACCOUNT_NUMBER":_154=misys.getLocalization("invalidAccountNumber",[_158.get("value")]);_158.focus();_158.set("value","");_158.set("state","Error");dj.hideTooltip(_158.domNode);dj.showTooltip(_154,_158.domNode,0);break;default:_154=_163.items.StatusCodeMessage;_158.focus();_158.set("value","");_158.set("state","Error");dj.hideTooltip(_158.domNode);dj.showTooltip(_154,_158.domNode,0);break;}},error:function(_164,args){console.error("[Could not validate Beneficiary Account] "+_158.get("value"));console.error(_164);}});};function _156(_165){var _166=dj.byId("beneficiary_account_regex");var _167=_166?dj.byId("beneficiary_account_regex").get("value"):"";var _168=new RegExp(_167);var _169=false;var _16a=dj.byId(_165);var _16b=_16a?_16a.get("value"):"";if(_167!==null&&_167!==""){if(_16b!==""&&_16b!==null){_169=_168.test(_16b);return _169;}}return _169;};function _162(_16c){var _16d=dijit.byId("account_no");var _16e="";var _16f=2000;var _170=function(){dj.hideTooltip(_16d.domNode);};if(_16c.items.valid===true){_16d.focus();_16e=m.getLocalization("DuplicateAccountNumber",[_16d.get("value")]);_16d.set("value","");_16d.set("state","Error");dijit.hideTooltip(_16d.domNode);dijit.showTooltip(_16e,_16d.domNode,0);setTimeout(_170,_16f);}else{}};function _171(){var _172=dj.byId("bo_account_id"),_173=dj.byId("bo_account_type"),_174=dj.byId("bo_account_currency"),_175=dj.byId("bo_branch_code"),_176=dj.byId("bo_product_type");_172.set("value","");_173.set("value","");_174.set("value","");_175.set("value","");_176.set("value","");};function _65(_177,_178){if(_177){if(_178){if((d.hasClass(_177.domNode,"swift")===false)){d.addClass(_177.domNode,"swift");}}else{if(d.hasClass(_177.domNode,"swift")){d.removeClass(_177.domNode,"swift");}}}};function _99(){var _179=dj.byId("bank_country")?dj.byId("bank_country").get("value"):"";var _17a=dj.byId("account_cur_code")?dj.byId("account_cur_code").get("value"):"";var _17b=dj.byId("account_no")?dj.byId("account_no").get("value"):"";var _17c=true;if(_179!==""&&_17a!==""&&_17b!==""){var _17d=dj.byId("includedIBANProducts")?dj.byId("includedIBANProducts").get("value"):"";var _17e=dj.byId("product_type")?dj.byId("product_type").get("value"):"";if(_17e&&(_17d.indexOf(_17e)>=0)){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/IBANValidationAction"),sync:true,handleAs:"json",content:{COUNTRY:_179,CURRENCY:_17a,ACCOUNT_NO:_17b},load:function(_17f,args){_17c=_17f.responseFlag;},error:function(_180,args){console.error("[misys.grid._base] IBAN Validation error",_180);}});}if(!_17c){m._config.onSubmitErrorMsg=m.getLocalization("invalidIBANAccNoError",[_17b]);return false;}}return _17c;};function _181(){var _182=dj.byId("regexAddressValue");var _183=_182?dj.byId("regexAddressValue").get("value"):"";var _184=new RegExp(_183);var _185=true;var _186=null;var _187=dj.byId("bank_ifsc_name");var _188=_187?dj.byId("bank_ifsc_name").get("value"):"";if(_183!==null&&_183!==""){if(_188!==""&&_188!==null){_185=_184.test(_188);if(!_185){_186=m.getLocalization("invalidDescriptionAddressField");_187.set("state","Error");dj.hideTooltip(_187.domNode);dj.showTooltip(_186,_187.domNode,0);return _185;}}var _189=dj.byId("bank_ifsc_address_line_1");var _18a=_189?dj.byId("bank_ifsc_address_line_1").get("value"):"";if(_18a!==""&&_18a!==null){_185=_184.test(_18a);if(!_185){_186=m.getLocalization("invalidDescriptionAddressField");_189.set("state","Error");dj.hideTooltip(_189.domNode);dj.showTooltip(_186,_189.domNode,0);return _185;}}var _18b=dj.byId("bank_ifsc_address_line_2");var _18c=_18b?dj.byId("bank_ifsc_address_line_2").get("value"):"";if(_18c!==""&&_18c!==null){_185=_184.test(_18c);if(!_185){_186=m.getLocalization("invalidDescriptionAddressField");_18b.set("state","Error");dj.hideTooltip(_18b.domNode);dj.showTooltip(_186,_18b.domNode,0);return _185;}}var _18d=dj.byId("bank_ifsc_city");var _18e=_18d?dj.byId("bank_ifsc_city").get("value"):"";if(_18e!==""&&_18e!==null){_185=_184.test(_18e);if(!_185){_186=m.getLocalization("invalidDescriptionAddressField");_18d.set("state","Error");dj.hideTooltip(_18d.domNode);dj.showTooltip(_186,_18d.domNode,0);return _185;}}}else{m._config.forceSWIFTValidation=false;}return _185;};function _18f(){var _190=dj.byId("beneficiary_addr_regex_meps");var _191=_190?dj.byId("beneficiary_addr_regex_meps").get("value"):"";var _192=new RegExp(_191);var _193=true;var _194=dj.byId("bank_name");var _195=_194?dj.byId("bank_name").get("value"):"";var _196=null;if(_191!==null&&_191!==""){if(_195!==""&&_195!==null){_193=_192.test(_195);if(!_193){_196=m.getLocalization("invalidBankAddressMeps");_194.set("state","Error");dj.showTooltip(_196,_194.domNode,0);var _197=function(){dj.hideTooltip(_194.domNode);};setTimeout(_197,5000);}}var _198=dj.byId("bank_address_line_1");var _199=_198?dj.byId("bank_address_line_1").get("value"):"";if(_199!==""&&_199!==null){_193=_192.test(_199);if(!_193){_196=m.getLocalization("invalidBankAddressMeps");_198.set("state","Error");dj.showTooltip(_196,_198.domNode,0);var _19a=function(){dj.hideTooltip(_198.domNode);};setTimeout(_19a,5000);}}var _19b=dj.byId("bank_address_line_2");var _19c=_19b?dj.byId("bank_address_line_2").get("value"):"";if(_19c!==""&&_19c!==null){_193=_192.test(_19c);if(!_193){_196=m.getLocalization("invalidBankAddressMeps");_19b.set("state","Error");dj.showTooltip(_196,_19b.domNode,0);var _19d=function(){dj.hideTooltip(_19b.domNode);};setTimeout(_19d,5000);}}var _19e=dj.byId("bank_dom");var _19f=_19e?dj.byId("bank_dom").get("value"):"";if(_19f!==""&&_19f!==null){_193=_192.test(_19f);if(!_193){_196=m.getLocalization("invalidBankAddressMeps");_19e.set("state","Error");dj.showTooltip(_196,_19e.domNode,0);var _1a0=function(){dj.hideTooltip(_19e.domNode);};setTimeout(_1a0,5000);}}}else{m._config.forceSWIFTValidation=false;}return _193;};function _1a1(){var _1a2=dj.byId("beneficiary_addr_regex_meps");var _1a3=_1a2?dj.byId("beneficiary_addr_regex_meps").get("value"):"";var _1a4=new RegExp(_1a3);var _1a5=true;var _1a6=dj.byId("intermediary_bank_meps_name");var _1a7=_1a6?dj.byId("intermediary_bank_meps_name").get("value"):"";var _1a8=null;if(_1a3!==null&&_1a3!==""){if(_1a7!==""&&_1a7!==null){_1a5=_1a4.test(_1a7);if(!_1a5){_1a8=m.getLocalization("invalidBankAddressMeps");_1a6.set("state","Error");dj.showTooltip(_1a8,_1a6.domNode,0);var _1a9=function(){dj.hideTooltip(_1a6.domNode);};setTimeout(_1a9,5000);}}var _1aa=dj.byId("intermediary_bank_meps_address_line_1");var _1ab=_1aa?dj.byId("intermediary_bank_meps_address_line_1").get("value"):"";if(_1ab!==""&&_1ab!==null){_1a5=_1a4.test(_1ab);if(!_1a5){_1a8=m.getLocalization("invalidBankAddressMeps");_1aa.set("state","Error");dj.showTooltip(_1a8,_1aa.domNode,0);var _1ac=function(){dj.hideTooltip(_1aa.domNode);};setTimeout(_1ac,5000);}}var _1ad=dj.byId("intermediary_bank_meps_address_line_2");var _1ae=_1ad?dj.byId("intermediary_bank_meps_address_line_2").get("value"):"";if(_1ae!==""&&_1ae!==null){_1a5=_1a4.test(_1ae);if(!_1a5){_1a8=m.getLocalization("invalidBankAddressMeps");_1ad.set("state","Error");dj.showTooltip(_1a8,_1ad.domNode,0);var _1af=function(){dj.hideTooltip(_1ad.domNode);};setTimeout(_1af,5000);}}var _1b0=dj.byId("intermediary_bank_meps_dom");var _1b1=_1b0?dj.byId("intermediary_bank_meps_dom").get("value"):"";if(_1b1!==""&&_1b1!==null){_1a5=_1a4.test(_1b1);if(!_1a5){_1a8=m.getLocalization("invalidBankAddressMeps");_1b0.set("state","Error");dj.showTooltip(_1a8,_1b0.domNode,0);var _1b2=function(){dj.hideTooltip(_1b0.domNode);};setTimeout(_1b2,5000);}}}else{m._config.forceSWIFTValidation=false;}return _1a5;};function _1b3(){var _1b4=dj.byId("beneficiary_addr_regex_rtgs");var _1b5=_1b4?dj.byId("beneficiary_addr_regex_rtgs").get("value"):"";var _1b6=new RegExp(_1b5);var _1b7=true;var _1b8=dj.byId("bank_name");var _1b9=_1b8?dj.byId("bank_name").get("value"):"";var _1ba=null;if(_1b5!==null&&_1b5!==""){if(_1b9!==""&&_1b9!==null){_1b7=_1b6.test(_1b9);if(!_1b7){_1ba=m.getLocalization("invalidBankAddressRtgs");_1b8.set("state","Error");dj.showTooltip(_1ba,_1b8.domNode,0);var _1bb=function(){dj.hideTooltip(_1b8.domNode);};setTimeout(_1bb,5000);}}var _1bc=dj.byId("bank_address_line_1");var _1bd=_1bc?dj.byId("bank_address_line_1").get("value"):"";if(_1bd!==""&&_1bd!==null){_1b7=_1b6.test(_1bd);if(!_1b7){_1ba=m.getLocalization("invalidBankAddressRtgs");_1bc.set("state","Error");dj.showTooltip(_1ba,_1bc.domNode,0);var _1be=function(){dj.hideTooltip(_1bc.domNode);};setTimeout(_1be,5000);}}var _1bf=dj.byId("bank_address_line_2");var _1c0=_1bf?dj.byId("bank_address_line_2").get("value"):"";if(_1c0!==""&&_1c0!==null){_1b7=_1b6.test(_1c0);if(!_1b7){_1ba=m.getLocalization("invalidBankAddressRtgs");_1bf.set("state","Error");dj.showTooltip(_1ba,_1bf.domNode,0);var _1c1=function(){dj.hideTooltip(_1bf.domNode);};setTimeout(_1c1,5000);}}var _1c2=dj.byId("bank_dom");var _1c3=_1c2?dj.byId("bank_dom").get("value"):"";if(_1c3!==""&&_1c3!==null){_1b7=_1b6.test(_1c3);if(!_1b7){_1ba=m.getLocalization("invalidBankAddressRtgs");_1c2.set("state","Error");dj.showTooltip(_1ba,_1c2.domNode,0);var _1c4=function(){dj.hideTooltip(_1c2.domNode);};setTimeout(_1c4,5000);}}}else{m._config.forceSWIFTValidation=false;}return _1b7;};function _1c5(){var _1c6=dj.byId("beneficiary_addr_regex_rtgs");var _1c7=_1c6?dj.byId("beneficiary_addr_regex_rtgs").get("value"):"";var _1c8=new RegExp(_1c7);var _1c9=true;var _1ca=dj.byId("intermediary_bank_rtgs_name");var _1cb=_1ca?dj.byId("intermediary_bank_rtgs_name").get("value"):"";var _1cc=null;if(_1c7!==null&&_1c7!==""){if(_1cb!==""&&_1cb!==null){_1c9=_1c8.test(_1cb);if(!_1c9){_1cc=m.getLocalization("invalidBankAddressRtgs");_1ca.set("state","Error");dj.showTooltip(_1cc,_1ca.domNode,0);var _1cd=function(){dj.hideTooltip(_1ca.domNode);};setTimeout(_1cd,5000);}}var _1ce=dj.byId("intermediary_bank_rtgs_address_line_1");var _1cf=_1ce?dj.byId("intermediary_bank_rtgs_address_line_1").get("value"):"";if(_1cf!==""&&_1cf!==null){_1c9=_1c8.test(_1cf);if(!_1c9){_1cc=m.getLocalization("invalidBankAddressRtgs");_1ce.set("state","Error");dj.showTooltip(_1cc,_1ce.domNode,0);var _1d0=function(){dj.hideTooltip(_1ce.domNode);};setTimeout(_1d0,5000);}}var _1d1=dj.byId("intermediary_bank_rtgs_address_line_2");var _1d2=_1d1?dj.byId("intermediary_bank_rtgs_address_line_2").get("value"):"";if(_1d2!==""&&_1d2!==null){_1c9=_1c8.test(_1d2);if(!_1c9){_1cc=m.getLocalization("invalidBankAddressRtgs");_1d1.set("state","Error");dj.showTooltip(_1cc,_1d1.domNode,0);var _1d3=function(){dj.hideTooltip(_1d1.domNode);};setTimeout(_1d3,5000);}}var _1d4=dj.byId("intermediary_bank_rtgs_dom");var _1d5=_1d4?dj.byId("intermediary_bank_rtgs_dom").get("value"):"";if(_1d5!==""&&_1d5!==null){_1c9=_1c8.test(_1d5);if(!_1c9){_1cc=m.getLocalization("invalidBankAddressRtgs");_1d4.set("state","Error");dj.showTooltip(_1cc,_1d4.domNode,0);var _1d6=function(){dj.hideTooltip(_1d4.domNode);};setTimeout(_1d6,5000);}}}else{m._config.forceSWIFTValidation=false;}return _1c9;};function _2e(){var _1d7=["counterparty_name","address_line_1","address_line_2","dom"];var _1d8=false;if(dj.byId("iso_code").get("value").length!==0){_1d8=true;}m.toggleFieldsReadOnly(_1d7,_1d8);};function _1d9(){var _1da,_1db,_1dc="",_1dd=0,_1de=2000,_1df;if(this.get("name")==="bene_details_country"||this.get("name")==="bene_details_postal_code"){_1db=dj.byId("bene_details_country");_1da=dj.byId("bene_details_postal_code");}else{_1db=dj.byId("beneficiary_country");_1da=dj.byId("postal_code");}_1df=function(){dj.hideTooltip(_1db.domNode);};if(_1da&&_1db){if(_1db.get("value")===""){if(this.get("name")==="postal_code"||this.get("name")==="bene_details_postal_code"){_1da.set("value","");_1dc=m.getLocalization("selectBeneficiaryCountry");_1db.set("state","Error");dj.hideTooltip(_1db.domNode);dj.showTooltip(_1dc,_1db.domNode,0);setTimeout(_1df,_1de);}else{_1da.set("value","");_1da.set("maxLength",0);}}else{if(misys._config.postal_codes[_1db.get("value")]){_1dd=misys._config.postal_codes[_1db.get("value")];_1da.set("maxLength",_1dd);if(m._config.currentBeneficiaryCountry!==_1db.get("value")){_1da.set("value","");m._config.currentBeneficiaryCountry=_1db.get("value");}}else{if((this.get("name")==="beneficiary_country"||this.get("name")==="bene_details_country")&&(m._config.currentBeneficiaryCountry!==_1db.get("value"))){_1da.set("value","");m._config.currentBeneficiaryCountry=_1db.get("value");}_1da.set("maxLength",15);}}}};function _1e0(){var _1e1=dj.byId("iso_code");var _1e2=dj.byId("counterparty_name");if((_1e1.value)||(_1e2.value)){dj.byId("address_line_2").set("required",false);dj.byId("account_no").set("required",false);}};function _1e3(){if(dj.byId("product_type").get("value")==="FI202"){_1e0();}};function _1e4(){var _1e5=dj.byId("product_type").get("value");var _1e6=(dj.byId("account_no"))?dj.byId("account_no").get("value"):"";switch(_1e5){case "TPT":_1e6=dj.byId("account_no").get("value");break;case "FI202":_1e6=dj.byId("account_no_mt202").get("value");break;default:break;}return _1e6;};function _1e7(){var _1e8=["inter_bank_name","inter_bank_address_1","inter_bank_dom","inter_bank_country"];var _1e9=false;var _1ea=["inter_bank_name","inter_bank_dom","inter_bank_country"];d.forEach(_1e8,function(_1eb){if(dj.byId(_1eb).get("value")!==""){_1e9=true;}});d.forEach(_1ea,function(_1ec){dj.byId(_1ec).set("required",_1e9);});};function _1ed(){var _1ee="special_routing_";var _1ef=[];var i=1;var _1f0=_1ee+i;for(i=1;i<=6;i++){_1ef.push(_1ee+i);if(dj.byId(_1ee+i).get("value")!==""){_1f0=_1ee+i;}}d.forEach(_1ef,function(_1f1,i){var _1f2=dj.byId(_1f1);var _1f3=_1f2.get("value");if(_1f3===""&&_1f1<_1f0){_1f2.set("required",true);}else{_1f2.set("required",false);}});};function _1f4(){var _1f5=["payment_detail_1","payment_detail_2","payment_detail_3","payment_detail_4"];var _1f6=_1f5[0];d.forEach(_1f5,function(_1f7){if(dj.byId(_1f7).get("value")!==""){_1f6=_1f7;}});d.forEach(_1f5,function(_1f8,i){var _1f9=dj.byId(_1f8);var _1fa=_1f9.get("value");if(_1fa===""&&_1f8<_1f6){_1f9.set("required",true);}else{_1f9.set("required",false);}});};d.mixin(m._config,{initReAuthParams:function(){var _1fb={productCode:"BM",subProductCode:dj.byId("product_type").get("value"),transactionTypeCode:"01",entity:"",currency:"",amount:"",es_field1:_1e4(),es_field2:""};return _1fb;}});d.mixin(m,{bind:function(){m.setValidation("beneficiary_country",m.validateCountry);m.setValidation("bene_details_country",m.validateCountry);m.setValidation("beneficiary_cntry_country",m.validateCountry);m.setValidation("intermediary_bank_rtgs_country",m.validateCountry);m.setValidation("intermediary_bank_meps_country",m.validateCountry);m.setValidation("bank_country",m.validateCountry);m.setValidation("bank_code_country",m.validateCountry);m.setValidation("bank_iso_code",m.validateBICFormat);m.setValidation("bank_iso_code_meps",m.validateBICFormat);m.setValidation("bank_bic_code_rtgs",m.validateBICFormat);m.setValidation("account_cur_code",m.validateCurrency);m.setValidation("email_1",m.validateEmailAddr);m.setValidation("email_2",m.validateEmailAddr);m.setValidation("fax",m.validatePhoneOrFax);m.setValidation("phone",m.validatePhoneOrFax);m.setValidation("threshold_cur_code",m.validateCurrency);m.setValidation("inter_bank_swift",m.validateBICFormat);m.setValidation("intermediary_bank_swift_bic_code",m.validateBICFormat);m.setValidation("intermediary_bank_meps_swift_bic_code",m.validateBICFormat);m.setValidation("intermediary_bank_rtgs_swift_bic_code",m.validateBICFormat);m.connect("email_1","onChange",_1fc);m.connect("account_cur_code","onChange",function(){m._validateCurrencyCode(dj.byId("product_type"),dj.byId("account_cur_code"));});m.connect("threshold_cur_code","onChange",function(){m._validateCurrencyCode(dj.byId("product_type"),dj.byId("threshold_cur_code"));});m.connect("entity","onChange",function(){_a8();if(misys._config.isMultiBank){_1b();}});m.connect("customer_bank","onChange",function(){if(misys._config.isMultiBank){_22();}});if(misys._config.isMultiBank){m.connect("product_type","onChange",_5a);}else{m.connect("product_type","onChange",_6d);}m.connect("pre_approved","onChange",_9c);m.connect("approveButton","onClick",_9c);m.connect("revertButton","onClick",_9c);m.connect("returnButton","onClick",_9c);var _1fd=dj.byId("product_type");if(_1fd&&(_1fd.get("value")!=="MT101"&&_1fd.get("value")!=="MT103"&&_1fd.get("value")!=="FI103"&&_1fd.get("value")!=="FI202")){m.connect("brch_code","onBlur",_11b);}m.connect("counterparty_name","onBlur",_c7);m.connect("beneficiary_id","onBlur",_ac);m.connect("counterparty_name_2","onBlur",_c7);m.connect("counterparty_name_3","onBlur",_c7);m.connect("address_line_1","onBlur",_ff);m.connect("address_line_2","onBlur",_ff);m.connect("address_line_3","onBlur",_ff);m.connect("dom","onBlur",_ff);m.connect("email_2","onBlur",_2f);m.connect("email_1","onBlur",_2f);m.connect("account_no","onBlur",_150);m.connect("postal_code","onKeyPress",_1d9);m.connect("beneficiary_country","onBlur",_1d9);m.connect("bene_details_postal_code","onKeyPress",_1d9);m.connect("bene_details_country","onBlur",_1d9);m.connect("iso_code","onChange",_1e3);m.connect("counterparty_name","onBlur",_1e3);m.connect("inter_bank_name","onChange",_1e7);m.connect("inter_bank_dom","onChange",_1e7);m.connect("inter_bank_country","onChange",_1e7);m.connect("inter_bank_address_1","onChange",_1e7);m.connect("special_routing_1","onChange",_1ed);m.connect("special_routing_2","onChange",_1ed);m.connect("special_routing_3","onChange",_1ed);m.connect("special_routing_4","onChange",_1ed);m.connect("special_routing_5","onChange",_1ed);m.connect("special_routing_6","onChange",_1ed);m.connect("payment_detail_1","onChange",_1f4);m.connect("payment_detail_2","onChange",_1f4);m.connect("payment_detail_3","onChange",_1f4);m.connect("payment_detail_4","onChange",_1f4);m.connect("account_no_mt202","onChange",function(){if(dj.byId("product_type").get("value")==="FI202"){dj.byId("account_no").set("value",dj.byId("account_no_mt202").get("value"));}});m.connect("branch_address_line_1","onBlur",function(){_4b(dj.byId("branch_address_line_1"));});m.connect("branch_address_line_2","onBlur",function(){_4b(dj.byId("branch_address_line_2"));});m.connect("branch_dom","onBlur",function(){_4b(dj.byId("branch_dom"));});m.connect("bank_iso_code","onChange",_2b);m.connect("bank_ifsc_code","onChange",_2c);m.connect("bank_iso_code","onChange",function(){if(dj.byId("bank_iso_code").get("value").length===0){dj.byId("branch_address").set("readOnly",true);dj.byId("branch_address").set("checked",false);dj.byId("bank_country_btn_img").set("disabled",false);dj.byId("bank_name").set("value","");dj.byId("bank_address_line_1").set("value","");dj.byId("bank_address_line_2").set("value","");dj.byId("bank_dom").set("value","");dj.byId("bank_country").set("value","");dj.byId("brch_code").set("value","");}else{dj.byId("branch_address").set("readOnly",false);dj.byId("bank_country_btn_img").set("disabled",true);}});m.connect("bank_iso_code_meps","onBlur",function(){var _1fe=dj.byId("bank_iso_code_meps")?dj.byId("bank_iso_code_meps").get("value"):"";var _1ff=dj.byId("bank_iso_code_meps");if(dj.byId("intermediary_bank_meps_swift_bic_code").get("value")!==""&&dj.byId("bank_iso_code_meps").get("value")!==""&&(dj.byId("intermediary_bank_meps_swift_bic_code").get("value")===dj.byId("bank_iso_code_meps").get("value"))){var _200="";_200=misys.getLocalization("invalidSwiftBicCode");_1ff.set("state","Error");dj.hideTooltip(_1ff.domNode);dj.showTooltip(_200,_1ff.domNode,0);}else{if(_1fe.length>0){_12f();_18f();dj.byId("branch_address").set("readOnly",false);if(dj.byId("intermediary_flag")&&dj.byId("intermediary_flag").get("value")!==""){if(dj.byId("intermediary_flag").get("value")==="Y"){m.toggleRequired("intermediary_bank_meps_swift_bic_code",true);m.toggleRequired("intermediary_bank_meps_name",true);m.toggleRequired("intermediary_bank_meps_country",true);m.toggleRequired("intermediary_bank_meps_address_line_1",true);}else{if(dj.byId("intermediary_flag").get("value")==="N"){m.toggleRequired("intermediary_bank_meps_swift_bic_code",false);m.toggleRequired("intermediary_bank_meps_name",false);m.toggleRequired("intermediary_bank_meps_country",false);m.toggleRequired("intermediary_bank_meps_address_line_1",false);}}}}else{if(_1fe.length===0){m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],false);dj.byId("branch_address").set("readOnly",true);dj.byId("branch_address").set("checked",false);dj.byId("bank_code_country_btn_img").set("disabled",false);dj.byId("bank_name").set("readOnly",false);dj.byId("bank_code_country").set("readOnly",false);_43();}else{m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],true);dj.byId("branch_address").set("readOnly",false);dj.byId("bank_code_country_btn_img").set("disabled",true);dj.byId("bank_name").set("readOnly",true);dj.byId("bank_country").set("readOnly",true);if(dj.byId("intermediary_flag")&&dj.byId("intermediary_flag").get("value")!=""){if(dj.byId("intermediary_flag").get("value")==="Y"){m.toggleRequired("intermediary_bank_meps_swift_bic_code",true);m.toggleRequired("intermediary_bank_meps_name",true);m.toggleRequired("intermediary_bank_meps_country",true);m.toggleRequired("intermediary_bank_meps_address_line_1",true);}else{if(dj.byId("intermediary_flag").get("value")==="N"){m.toggleRequired("intermediary_bank_meps_swift_bic_code",false);m.toggleRequired("intermediary_bank_meps_name",false);m.toggleRequired("intermediary_bank_meps_country",false);m.toggleRequired("intermediary_bank_meps_address_line_1",false);}}}}}}});m.connect("bank_bic_code_rtgs","onBlur",function(){var _201=dj.byId("bank_bic_code_rtgs")?dj.byId("bank_bic_code_rtgs").get("value"):"";var _202=dj.byId("bank_bic_code_rtgs");if(dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value")!==""&&dj.byId("bank_bic_code_rtgs").get("value")!==""&&(dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value")===dj.byId("bank_bic_code_rtgs").get("value"))){var _203="";_203=misys.getLocalization("invalidSwiftBicCode");_202.set("state","Error");dj.hideTooltip(_202.domNode);dj.showTooltip(_203,_202.domNode,0);}else{if(_201.length>0){_124();_1b3();dj.byId("branch_address").set("readOnly",false);if(dj.byId("intermediary_flag")&&dj.byId("intermediary_flag").get("value")!=""){if(dj.byId("intermediary_flag").get("value")==="Y"){m.toggleRequired("intermediary_bank_rtgs_swift_bic_code",true);m.toggleRequired("intermediary_bank_rtgs_name",true);m.toggleRequired("intermediary_bank_rtgs_address_line_1",true);m.toggleRequired("intermediary_bank_rtgs_country",true);}else{if(dj.byId("intermediary_flag").get("value")==="N"){m.toggleRequired("intermediary_bank_rtgs_swift_bic_code",false);m.toggleRequired("intermediary_bank_rtgs_name",false);m.toggleRequired("intermediary_bank_rtgs_address_line_1",false);m.toggleRequired("intermediary_bank_rtgs_country",false);}}}}else{if(_201.length===0){m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],false);dj.byId("branch_address").set("readOnly",true);dj.byId("branch_address").set("checked",false);dj.byId("bank_code_country_btn_img").set("disabled",false);dj.byId("bank_name").set("readOnly",false);dj.byId("bank_country").set("readOnly",false);_43();}else{m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],true);dj.byId("branch_address").set("readOnly",false);dj.byId("bank_code_country_btn_img").set("disabled",true);dj.byId("bank_name").set("readOnly",true);dj.byId("bank_code_country").set("readOnly",true);m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],true);if(dj.byId("intermediary_flag")&&dj.byId("intermediary_flag").get("value")!==""){if(dj.byId("intermediary_flag").get("value")==="Y"){m.toggleRequired("intermediary_bank_rtgs_swift_bic_code",true);m.toggleRequired("intermediary_bank_rtgs_name",true);m.toggleRequired("intermediary_bank_rtgs_address_line_1",true);m.toggleRequired("intermediary_bank_rtgs_country",true);}else{if(dj.byId("intermediary_flag").get("value")==="N"){m.toggleRequired("intermediary_bank_rtgs_swift_bic_code",false);m.toggleRequired("intermediary_bank_rtgs_name",false);m.toggleRequired("intermediary_bank_rtgs_address_line_1",false);m.toggleRequired("intermediary_bank_rtgs_country",false);}}}}}}});m.connect("intermediary_bank_meps_swift_bic_code","onBlur",function(){var _204=dj.byId("intermediary_bank_meps_swift_bic_code")?dj.byId("intermediary_bank_meps_swift_bic_code").get("value"):"";var _205=dj.byId("intermediary_bank_meps_swift_bic_code");if(dj.byId("intermediary_bank_meps_swift_bic_code").get("value")!==""&&dj.byId("bank_iso_code_meps").get("value")!==""&&(dj.byId("intermediary_bank_meps_swift_bic_code").get("value")===dj.byId("bank_iso_code_meps").get("value"))){var _206="";_206=misys.getLocalization("invalidIntermeditaryCode");_205.set("state","Error");dj.hideTooltip(_205.domNode);dj.showTooltip(_206,_205.domNode,0);}else{if(_204.length>0){_13c();}else{if(_204.length===0){if(dj.byId("intermediary_flag").get("value")==="N"||dj.byId("intermediary_flag").get("value")===""){m.toggleFieldsReadOnly(["intermediary_bank_meps_name","intermediary_bank_meps_address_line_1","intermediary_bank_meps_address_line_2","intermediary_bank_meps_dom","intermediary_bank_meps_country"],false);m.toggleRequired("intermediary_bank_meps_name",false);m.toggleRequired("intermediary_bank_meps_address_line_1",false);m.toggleRequired("intermediary_bank_meps_country",false);dj.byId("intermediary_bank_meps_country_btn_img").set("disabled",false);_44();}}else{if((dj.byId("intermediary_bank_meps_name").get("value")!==""||dj.byId("intermediary_bank_meps_address_line_1").get("value")!==""||dj.byId("intermediary_bank_meps_country").get("value")!=="")){m.toggleFieldsReadOnly(["intermediary_bank_meps_name","intermediary_bank_meps_address_line_1","intermediary_bank_meps_address_line_2","intermediary_bank_meps_dom","intermediary_bank_meps_country"],true);dj.byId("intermediary_bank_meps_country_btn_img").set("disabled",true);m.toggleRequired("intermediary_bank_meps_name",true);m.toggleRequired("intermediary_bank_meps_address_line_1",true);m.toggleRequired("intermediary_bank_meps_country",true);_1a1();}}}}});m.connect("intermediary_bank_rtgs_swift_bic_code","onBlur",function(){var _207=dj.byId("intermediary_bank_rtgs_swift_bic_code")?dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value"):"";var _208=dj.byId("intermediary_bank_rtgs_swift_bic_code");if(dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value")!==""&&dj.byId("bank_bic_code_rtgs").get("value")!==""&&(dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value")===dj.byId("bank_bic_code_rtgs").get("value"))){var _209="";_209=misys.getLocalization("invalidIntermeditaryCode");_208.set("state","Error");dj.hideTooltip(_208.domNode);dj.showTooltip(_209,_208.domNode,0);}else{if(_207.length>0){_146();}else{if(_207.length===0){if(dj.byId("intermediary_flag").get("value")==="N"||dj.byId("intermediary_flag").get("value")===""){m.toggleFieldsReadOnly(["intermediary_bank_rtgs_name","intermediary_bank_rtgs_address_line_1","intermediary_bank_rtgs_address_line_2","intermediary_bank_rtgs_dom","intermediary_bank_rtgs_country"],false);dj.byId("intermediary_bank_rtgs_country_btn_img").set("disabled",false);m.toggleRequired("intermediary_bank_rtgs_name",false);m.toggleRequired("intermediary_bank_rtgs_address_line_1",false);m.toggleRequired("intermediary_bank_rtgs_country",false);_45();}}else{if((dj.byId("intermediary_bank_rtgs_name").get("value")!==""||dj.byId("intermediary_bank_rtgs_address_line_1").get("value")!==""||dj.byId("intermediary_bank_rtgs_country").get("value")!=="")){m.toggleFieldsReadOnly(["intermediary_bank_rtgs_name","intermediary_bank_rtgs_address_line_1","intermediary_bank_rtgs_address_line_2","intermediary_bank_rtgs_dom","intermediary_bank_rtgs_country"],true);dj.byId("intermediary_bank_rtgs_country_btn_img").set("disabled",true);m.toggleRequired("intermediary_bank_rtgs_name",true);m.toggleRequired("intermediary_bank_rtgs_address_line_1",true);m.toggleRequired("intermediary_bank_rtgs_country",true);_1c5();}}}}});m.connect("intermediary_bank_swift_bic_code","onChange",function(){m.setSwiftBankDetailsForOnBlurEvent(false,"intermediary_bank_swift_bic_code",null,null,null,"intermediary_bank_",true,false,true,"");var _20a=dj.byId("intermediary_bank_swift_bic_code");var _20b=false;if(dj.byId("intermediary_bank_swift_bic_code").get("value")!==""&&dj.byId("bank_iso_code").get("value")!==""&&(dj.byId("intermediary_bank_swift_bic_code").get("value")===dj.byId("bank_iso_code").get("value"))){var _20c="";_20c=misys.getLocalization("invalidIntermeditaryCode");_20a.set("state","Error");dj.hideTooltip(_20a.domNode);dj.showTooltip(_20c,_20a.domNode,0);_20b=true;}if(_20b){setTimeout(function(){dj.byId("intermediary_bank_swift_bic_code").set("value","");dj.byId("intermediary_bank_name").set("value","");dj.byId("intermediary_bank_address_line_1").set("value","");dj.byId("intermediary_bank_address_line_2").set("value","");dj.byId("intermediary_bank_dom").set("value","");dj.byId("intermediary_bank_country").set("value","");},5000);}if(dj.byId("intermediary_bank_swift_bic_code").get("value").length===0&&(dj.byId("intermediary_bank_name").get("value")!==""||dj.byId("intermediary_bank_address_line_1").get("value")!==""||dj.byId("intermediary_bank_country").get("value")!=="")){m.toggleRequired("intermediary_bank_name",true);m.toggleRequired("intermediary_bank_address_line_1",true);m.toggleRequired("intermediary_bank_country",true);dj.byId("intermediary_bank_country_img").set("disabled",false);}else{m.toggleRequired("intermediary_bank_name",false);m.toggleRequired("intermediary_bank_address_line_1",false);dj.byId("intermediary_bank_country_img").set("disabled",true);m.toggleFieldsReadOnly(["intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country"],true);}});m.connect("inter_bank_swift","onBlur",function(){var _20d="inter";var _20e=dj.byId("inter_bank_swift").value;m.toggleBeneficiaryFields(_20e,_20d,"inter_bank_country_btn_img",false);});m.connect("inter_bank_name","onBlur",function(){var _20f=dj.byId("inter_bank_name").value;m.toggleBICFields(_20f,"inter_bank_swift");});m.connect("iso_code","onChange",_2d);m.connect("counterparty_name","onChange",_2d);if(dj.byId("product_type").get("value")!="MUPS"){m.connect("threshold_cur_code","onChange",function(){m.setCurrency(dj.byId("threshold_cur_code"),["threshold_amt"]);});m.connect("threshold_amt","onChange",function(){if(this.get("value")>=0&&(dj.byId("pre_approved")&&dj.byId("pre_approved").get("checked"))){dj.byId("threshold_cur_code").set("required",true);}else{dj.byId("threshold_cur_code").set("required",false);}});}m.connect("bank_name","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_18f();}});m.connect("bank_address_line_1","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_18f();}});m.connect("bank_address_line_2","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_18f();}});m.connect("bank_dom","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_18f();}});m.connect("bank_name","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1b3();}});m.connect("bank_address_line_1","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1b3();}});m.connect("bank_address_line_2","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1b3();}});m.connect("bank_dom","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1b3();}});m.connect("intermediary_bank_meps_name","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_1a1();}});m.connect("intermediary_bank_meps_address_line_1","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_1a1();}});m.connect("intermediary_bank_meps_address_line_2","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_1a1();}});m.connect("intermediary_bank_meps_dom","onBlur",function(){if(dj.byId("product_type").get("value")==="MEPS"){_1a1();}});m.connect("intermediary_bank_rtgs_name","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1c5();}});m.connect("intermediary_bank_rtgs_address_line_1","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1c5();}});m.connect("intermediary_bank_rtgs_address_line_2","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1c5();}});m.connect("intermediary_bank_rtgs_dom","onBlur",function(){if(dj.byId("product_type").get("value")==="RTGS"){_1c5();}});m.connect("branch_address","onChange",function(){_47(this.get("checked"));});m.connect("mailing_address_line_2","onBlur",function(){if(dj.byId("product_type").get("value")==="TPT"){var _210=null,_211=dj.byId("mailing_address_line_1"),_212=dj.byId("mailing_address_line_2");if(_211.get("value")===""){_210=misys.getLocalization("invaliddescriptionaddressline");_212.set("state","Error");dj.showTooltip(_210,_212.domNode,0);var _213=function(){dj.hideTooltip(_212.domNode);};setTimeout(_213,5000);}}});m.connect("mailing_address_line_3","onBlur",function(){if(dj.byId("product_type").get("value")==="TPT"){var _214=null;var _215=dj.byId("mailing_address_line_1");var _216=dj.byId("mailing_address_line_2");var _217=dj.byId("mailing_address_line_3");if(_215.get("value")===""||_216.get("value")===""){_214=misys.getLocalization("invaliddescriptionaddressline");_217.set("state","Error");dj.showTooltip(_214,_217.domNode,0);var _218=function(){dj.hideTooltip(_217.domNode);};setTimeout(_218,5000);}}});m.connect("mailing_address_line_4","onBlur",function(){if(dj.byId("product_type").get("value")==="TPT"){var _219=null;var _21a=dj.byId("mailing_address_line_1");var _21b=dj.byId("mailing_address_line_2");var _21c=dj.byId("mailing_address_line_3");var _21d=dj.byId("mailing_address_line_4");if(_21a.get("value")===""||_21b.get("value")===""||_21c.get("value")===""){_219=misys.getLocalization("invaliddescriptionaddressline");_21d.set("state","Error");dj.showTooltip(_219,_21d.domNode,0);var _21e=function(){dj.hideTooltip(_21d.domNode);};setTimeout(_21e,5000);}}});m.connect("mailing_address_line_5","onBlur",function(){if(dj.byId("product_type").get("value")==="TPT"){var _21f=null;var _220=dj.byId("mailing_address_line_1");var _221=dj.byId("mailing_address_line_2");var _222=dj.byId("mailing_address_line_3");var _223=dj.byId("mailing_address_line_4");var _224=dj.byId("mailing_address_line_5");if(_220.get("value")===""||_221.get("value")===""||_222.get("value")===""||_223.get("value")===""){_21f=misys.getLocalization("invaliddescriptionaddressline");_224.set("state","Error");dj.showTooltip(_21f,_224.domNode,0);var _225=function(){dj.hideTooltip(_224.domNode);};setTimeout(_225,5000);}}});if(dj.byId("return_comment_hidden")&&dj.byId("return_comments")&&dj.byId("return_comment_hidden").get("value")!==""){dj.byId("return_comments").set("value",dj.byId("return_comment_hidden").get("value"));}},onFormLoad:function(){var _226=dj.byId("entity");if(dj.byId("product_type").get("value")==="MUPS"){misys.animate("fadeOut",dojo.byId("bank_iso_code_div"));}if(dj.byId("product_type")&&dj.byId("product_type").get("value")==="MUPS"){dj.byId("bank_iso_code").disabled="true";dj.byId("bank_iso_code_meps").disabled="true";dj.byId("bank_bic_code_rtgs").disabled="true";}if(misys._config.isMultiBank){if(dojo.byId(_10)){misys.animate("fadeOut",dojo.byId(_10));}_1b(true);var _227=dj.byId("customer_bank");var _228=dj.byId("customer_bank_hidden");if(_227&&_228){_227.set("value",_228.get("value"));}_22(true);var _229=dj.byId("product_type");var _22a=dj.byId("product_type_hidden");if(_229&&_22a){_229.set("value",_22a.get("value"));}}if(dj.byId("product_type").get("value")==="RTGS"||dj.byId("product_type").get("value")==="MEPS"){m.toggleFieldsReadOnly(["intermediary_bank_swift_bic_code","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country"],false,true);}m.setCurrency(dj.byId("threshold_cur_code"),["threshold_amt"]);_46();if(m._config.swift_allowed){misys._populateClearingCodes("beneficiary_bank");misys._populateClearingCodes("intermediary_bank");misys._populateClearingCodes("ordering_customer");misys._populateClearingCodes("beneficiary");}if(dj.byId("entity_size")&&parseInt(dj.byId("entity_size").get("value"),10)>0&&dijit.byId("product_type").get("value")===""){var _22b=dijit.byId("product_type");_22b.set("value","NONE");if(_226.get("value")===""){_22b.set("disabled",true);}}if(misys._config.isMultiBank){_5a(true);}else{_6d();}_c7();_ff();var _22c=dj.byId("pre_approved");if(_22c){if(/CheckBox/.test(_22c.declaredClass)){_9c(_22c.get("checked"));}else{if(/TextBox/.test(_22c.declaredClass)){if(_22c.get("value")==="Y"){_9c(true);}else{_9c(false);}}}}else{_9c(false);}if((dj.byId("pre_approved")&&dj.byId("pre_approved").get("checked")&&dj.byId("threshold_amt")&&dj.byId("threshold_cur_code"))){m.setCurrency(dj.byId("threshold_cur_code"),["threshold_amt"]);if(dj.byId("threshold_amt").get("value")>=0){dj.byId("threshold_cur_code").set("required",true);}else{dj.byId("threshold_cur_code").set("required",false);}}if(dj.byId("product_type").get("value")!="MUPS"&&dj.byId("product_type").get("value")!="MEPS"&&dj.byId("product_type").get("value")!="RTGS"&&dj.byId("bank_iso_code")&&dj.byId("bank_iso_code").get("value")!==""){m.getSwiftBankDetails(false,"bank_iso_code","brch_code",null,null,"bank_",true,false,true,"");if(dj.byId("bank_iso_code").get("value").length===0){dj.byId("bank_country_btn_img").set("disabled",false);}else{dj.byId("bank_country_btn_img").set("disabled",true);}}if(dj.byId("product_type").get("value")==="MEPS"&&dj.byId("bank_iso_code_meps")&&dj.byId("bank_iso_code_meps").get("value")!==""){if(dj.byId("bank_iso_code_meps").get("value").length===0){m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],false);dj.byId("bank_code_country_btn_img").set("disabled",false);}else{m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],true);dj.byId("bank_code_country_btn_img").set("disabled",true);}}if(dj.byId("product_type").get("value")==="RTGS"&&dj.byId("bank_bic_code_rtgs")&&dj.byId("bank_bic_code_rtgs").get("value")!==""){if(dj.byId("bank_bic_code_rtgs").get("value").length===0){m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],false);dj.byId("bank_code_country_btn_img").set("disabled",false);}else{m.toggleFieldsReadOnly(["bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country"],true);dj.byId("bank_code_country_btn_img").set("disabled",true);}}if(dj.byId("product_type").get("value")==="MEPS"&&dj.byId("intermediary_bank_meps_swift_bic_code")&&dj.byId("intermediary_bank_meps_swift_bic_code").get("value")!==""){if(dj.byId("intermediary_bank_meps_swift_bic_code").get("value").length===0){m.toggleFieldsReadOnly(["intermediary_bank_meps_name","intermediary_bank_meps_address_line_1","intermediary_bank_meps_address_line_2","intermediary_bank_meps_dom","intermediary_bank_meps_country"],false);dj.byId("intermediary_bank_meps_country_btn_img").set("disabled",false);}else{if((dj.byId("intermediary_bank_meps_name").get("value")!==""||dj.byId("intermediary_bank_meps_address_line_1").get("value")!==""||dj.byId("intermediary_bank_meps_country").get("value")!=="")){m.toggleFieldsReadOnly(["intermediary_bank_meps_name","intermediary_bank_meps_address_line_1","intermediary_bank_meps_address_line_2","intermediary_bank_meps_dom","intermediary_bank_meps_country"],true);dj.byId("intermediary_bank_meps_country_btn_img").set("disabled",true);}}}if(dj.byId("product_type").get("value")==="RTGS"&&dj.byId("intermediary_bank_rtgs_swift_bic_code")&&dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value")!==""){if(dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value").length===0){m.toggleFieldsReadOnly(["intermediary_bank_rtgs_name","intermediary_bank_rtgs_address_line_1","intermediary_bank_rtgs_address_line_2","intermediary_bank_rtgs_dom","intermediary_bank_rtgs_country"],false);dj.byId("intermediary_bank_rtgs_country_btn_img").set("disabled",false);}else{if((dj.byId("intermediary_bank_rtgs_name").get("value")!==""||dj.byId("intermediary_bank_rtgs_address_line_1").get("value")!==""||dj.byId("intermediary_bank_rtgs_country").get("value")!=="")){m.toggleFieldsReadOnly(["intermediary_bank_rtgs_name","intermediary_bank_rtgs_address_line_1","intermediary_bank_rtgs_address_line_2","intermediary_bank_rtgs_dom","intermediary_bank_rtgs_country"],true);dj.byId("intermediary_bank_rtgs_country_btn_img").set("disabled",true);}}}if(dj.byId("product_type").get("value")!=="RTGS"&&dj.byId("product_type").get("value")!=="MEPS"&&dj.byId("intermediary_bank_swift_bic_code")&&dj.byId("intermediary_bank_swift_bic_code").get("value")!==""){m.getSwiftBankDetails(false,"intermediary_bank_swift_bic_code",null,null,"intermediary_bank_",true,false,true,"");if(dj.byId("intermediary_bank_swift_bic_code").get("value").length===0){dj.byId("intermediary_bank_country_img").set("disabled",false);m.toggleFieldsReadOnly(["intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country"],false);}else{dj.byId("intermediary_bank_country_img").set("disabled",true);m.toggleFieldsReadOnly(["intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country"],true);}}if(dj.byId("iso_code")&&dj.byId("product_type")&&dj.byId("product_type").get("value")==="FI202"){m.getSwiftBankDetails(false,"iso_code",["counterparty_name","address_line_1","address_line_2","dom","contact_name","country"],["counterparty_name","address_line_1","country"],"",true,false,true,"");_2e();}if(dj.byId("product_type")&&dj.byId("product_type").get("value")==="FI202"&&dj.byId("account_no").get("value")!==""){dj.byId("account_no_mt202").set("value",dj.byId("account_no").get("value"));}var _22d=undefined;var _22e=null;var _22f="";},setExecuteClientPassBack:function(_230){m._config.executeClientPassBack=_230;m.disconnect(m._config.clearbankFieldsHandle);m._config.bankIsoCodeOnBlur=false;},beforeSubmitValidations:function(){if(dj.byId("branch_address")&&dj.byId("branch_address").get("checked")){var _231=dj.byId("branch_address_line_1");if(!_231||_231.get("value")===null||_231.get("value")===""){_231.focus();_231.set("state","Error");return false;}}var _232=dj.byId("account_cur_code");var val=m._validateCurrencyCode(dj.byId("product_type"),dj.byId("account_cur_code"));var _233="";if(!val){_233=m.getLocalization("invalidCurrencyConfigured",[dj.byId("account_cur_code").get("value")]);_232.set("state","Error");dj.showTooltip(_233,dj.byId("account_cur_code").domNode,0);return false;}if(dj.byId("threshold_cur_code")){var _234=m._validateCurrencyCode(dj.byId("product_type"),dj.byId("threshold_cur_code"));if(!_234){_233=m.getLocalization("invalidCurrencyConfigured",[dj.byId("threshold_cur_code").get("value")]);_232.set("state","Error");dj.showTooltip(_233,dj.byId("threshold_cur_code").domNode,0);return false;}}if(dj.byId("product_type")&&dj.byId("product_type").get("value")==="TPT"){if(!_13a()){return false;}}if(dj.byId("beneficiary_id")&&dj.byId("beneficiary_id").get("value")!==""&&!_ac()){return false;}if(dj.byId("product_type")&&dj.byId("product_type").get("value")==="MUPS"){if(dj.byId("bank_ifsc_code")&&dj.byId("bank_ifsc_code").get("value")!==""&&(!_181())){return false;}}if(dj.byId("product_type")&&dj.byId("product_type").get("value")==="MEPS"){if(dj.byId("bank_iso_code_meps")&&dj.byId("bank_iso_code_meps").get("value")==""){_12f();return false;}if(dj.byId("bank_bic_code_meps")&&dj.byId("bank_bic_code_meps").get("value")!==""&&(!_18f())){return false;}if(dj.byId("intermediary_bank_meps_swift_bic_code")&&dj.byId("intermediary_bank_meps_swift_bic_code").get("value")!==""&&(!_1a1())){return false;}if(dj.byId("branch_address_line_1")&&dj.byId("branch_address_line_1").get("value")!==""&&(!_4b(dj.byId("branch_address_line_1")))){return false;}if(dj.byId("branch_address_line_2")&&dj.byId("branch_address_line_2").get("value")!==""&&(!_4b(dj.byId("branch_address_line_2")))){return false;}if(dj.byId("branch_dom")&&dj.byId("branch_dom").get("value")!==""&&(!_4b(dj.byId("branch_dom")))){return false;}}if(dj.byId("product_type")&&dj.byId("product_type").get("value")==="RTGS"){if(dj.byId("bank_bic_code_rtgs")&&dj.byId("bank_bic_code_rtgs").get("value")==""){_124();return false;}if(dj.byId("bank_bic_code_rtgs")&&dj.byId("bank_bic_code_rtgs").get("value")!==""&&(!_1b3())){return false;}if(dj.byId("intermediary_bank_rtgs_swift_bic_code")&&dj.byId("intermediary_bank_rtgs_swift_bic_code").get("value")!==""&&(!_1c5())){return false;}if(dj.byId("branch_address_line_1")&&dj.byId("branch_address_line_1").get("value")!==""&&(!_4b(dj.byId("branch_address_line_1")))){return false;}if(dj.byId("branch_address_line_2")&&dj.byId("branch_address_line_2").get("value")!==""&&(!_4b(dj.byId("branch_address_line_2")))){return false;}if(dj.byId("branch_dom")&&dj.byId("branch_dom").get("value")!==""&&(!_4b(dj.byId("branch_dom")))){return false;}}var _235=dj.byId("threshold_amt")?dj.byId("threshold_amt"):0;var _236=dj.byId("pre_approved");var _237=dijit.byId("product_type");var _238=false;if((_235&&_236&&_236.get("checked"))&&(!m.validateAmount(_235))){m._config.onSubmitErrorMsg=m.getLocalization("amountcannotzero");_235.set("value","");}else{if(_237&&(_237.get("value")==="NONE"||_237.get("value")==="")){_237.set("state","Error");}else{if(_99()){_238=true;}}}return _238;},beforeSaveValidations:function(){var _239=true;var _23a=dj.byId("account_cur_code");var _23b=_23a?_23a.get("value"):"";if(_23b!=""&&!m.validateCurrencyCode(_23b)){var _23c=misys.getLocalization("invalidCurrencyError",[_23b]);_23a.set("state","Error");dj.hideTooltip(_23a.domNode);dj.showTooltip(_23c,_23a.domNode,0);_239=false;}return _239;},toggleBeneficiaryFields:function(_23d,_23e,_23f,_240){var arr=["_bank_name","_bank_address_1","_bank_dom","_bank_country"];var _241;if(_23d!==""){for(var _242=0;_242<arr.length;_242++){_241=_23e+arr[_242];if(dj.byId(_241)){dj.byId(_241).set("required",false);dj.byId(_241).set("disabled",true);dj.byId(_241).reset();d.query("#"+_241+"_row label span").style("display","none");d.query("#"+_23f).style("display","none");}}}else{for(_242=0;_242<arr.length;_242++){_241=_23e+arr[_242];if(dj.byId(_241)){if(_240){dj.byId(_241).set("required",true);}dj.byId(_241).set("disabled",false);d.query("#"+_241+"_row label span").style("display","inline-block");d.query("#"+_23f).style("display","inline-block");}}}},toggleBICFields:function(_243,_244){if(_243!==""){if(dj.byId(_244)){dj.byId(_244).set("disabled",true);dj.byId(_244).reset();m.toggleRequired(_244,false);}}else{if(dj.byId(_244)){dj.byId(_244).set("disabled",false);m.toggleRequired(_244,true);}}var _245=["inter_bank_swift"];d.forEach(_245,function(_246){m.toggleRequired(_246,false);});},showProductBasedListOfBanks:function(){misys.setExecuteClientPassBack(true);misys.showSearchDialog("bank","['bank_name', 'bank_address_line_1', 'bank_address_line_2', 'bank_dom', 'bank_iso_code', 'brch_code','bank_contact_name', 'bank_phone', 'bank_country']",{swiftcode:false,bankcode:false},"","",_17,m.getLocalization("ListOfBanksTitleMessage"));},showProductBasedListOfBanksforMUPS:function(){misys.setExecuteClientPassBack(true);misys.showSearchDialog("ifscCodeMUPS","['bank_ifsc_code', 'bank_ifsc_name', 'bank_ifsc_address_line_1', 'bank_ifsc_address_line_2', 'bank_ifsc_city']",{swiftcode:false,bankcode:false},"","",_17,m.getLocalization("ListOfBanksTitleMessage"),"","",true);},showProductBasedListOfBanksforMeps:function(){misys.setExecuteClientPassBack(true);misys.showSearchDialog("bankBicCodeMEPS","[ 'bank_iso_code_meps', 'bank_name', '', 'bank_address_line_1', 'bank_address_line_2', 'bank_dom', 'bank_code_country', 'branch','intermediary_flag']",{swiftcode:false,bankcode:false},"","",_17,m.getLocalization("ListOfBanksTitleMessage"),"","",true);},showIntermediaryBicCodesforMeps:function(){misys.setExecuteClientPassBack(true);misys.showSearchDialog("intermediaryBicCodeMEPS","[ 'intermediary_bank_meps_swift_bic_code', 'intermediary_bank_meps_name', 'intermediary_bank_meps_address_line_1', 'intermediary_bank_meps_address_line_2', 'intermediary_bank_meps_dom', 'intermediary_bank_meps_country']",{swiftcode:false,bankcode:false},"","",_17,m.getLocalization("ListOfBanksTitleMessage"),"","",true);},showProductBasedListOfBanksforRTGS:function(){misys.setExecuteClientPassBack(true);misys.showSearchDialog("bankBicCodeRTGS","[ 'bank_bic_code_rtgs', 'bank_name', '', 'bank_address_line_1', 'bank_address_line_2', 'bank_dom', 'bank_code_country', 'branch','intermediary_flag']",{swiftcode:false,bankcode:false},"","",_17,m.getLocalization("ListOfBanksTitleMessage"),"","",true);},showIntermediaryBicCodesforRTGS:function(){misys.setExecuteClientPassBack(true);misys.showSearchDialog("intermediaryBicCodeRTGS","[ 'intermediary_bank_rtgs_swift_bic_code', 'intermediary_bank_rtgs_name', 'intermediary_bank_rtgs_address_line_1', 'intermediary_bank_rtgs_address_line_2', 'intermediary_bank_rtgs_dom', 'intermediary_bank_rtgs_country']",{swiftcode:false,bankcode:false},"","",_17,m.getLocalization("ListOfBanksTitleMessage"),"","",true);}});d.mixin(m._config,{passBack:function(_247,_248,_249){if(m._config.executeClientPassBack){var _24a=["bank_address_line_1","bank_address_line_2","bank_dom"];m.toggleFieldsReadOnly(_24a,true,false);}}});function _61(){var _24b=dj.byId("allowedProducts");var _24c=_24b?dj.byId("allowedProducts").get("value"):"";var _24d=dj.byId("product_type");var _24e=_24d?dj.byId("product_type").get("value"):"";m._config.forceSWIFTValidation=true;if((_24d&&(_24c.indexOf(_24e)<0))){m._config.screenFields.push("counterparty_name","counterparty_name_2","counterparty_name_3");}};function _1fc(){var _24f=dj.byId("email_1").get("value");var res=_24f.split(";");if(res.length>10){dj.byId("email_1").set("value","");var _250=m.getLocalization("checkEmailId");dj.byId("email_1").set("state","Error");dj.hideTooltip(dj.byId("email_1").domNode);dj.showTooltip(_250,dj.byId("email_1").domNode,0);}};function _9a(){var _251=dj.byId("cnaps_bank_code"),_252=dj.byId("cnaps_bank_name"),_253=dj.byId("product_type").get("value"),_254="";if(_251){if(!(_251.get("value")==="")){m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateCNAPSBankCode"),handleAs:"json",sync:true,content:{cnaps_bank_code:_251.get("value"),sub_product_code:_253},load:function(_255,args){if(_255.items.valid===false){_254=misys.getLocalization("invalidCNAPSBankCode",[_251.get("value")]);_252.set("value","");_251.set("value","");_251.set("state","Error");dj.hideTooltip(_251.domNode);dj.showTooltip(_254,_251.domNode,0);}else{_252.set("value",_255.items.bankName);}},error:function(_256,args){console.error("[Could not validate CNAPS Bank Code] "+_251.get("value"));console.error(_256);}});}else{_252.set("value","");_251.set("value","");}}};function _9b(){var _257=dj.byId("product_type").get("value");var _258="";if(_257){if(_257==="HVPS"){_258="cnaps_domestic_bank_code";}else{_258="cnaps_crossborder_bank_code";}}m.showSearchDialog(_258,"['cnaps_bank_code','cnaps_bank_name']","","AjaxScreen/action/GetStaticDataPopup","",_17,m.getLocalization("ListOfBanksTitleMessage"),"","GetStaticData",false,"GetStaticData");};d.ready(function(){m._config=(m._config)||{};m._config.forceSWIFTValidation=true;m._config.clearScreenFields=true;m._config.executeClientPassBack=false;m._config.clearbankFieldsHandle;m._config.accountNoIBANValidationHandle;m._config.bankIsoCodeOnBlur=false;m._config.clearOnSecondCall=false;m._config.screenFields=m._config.screenFields||[];m._config.screenFields.push("bank_iso_code","address_line_1","bank_ifsc_code","bank_ifsc_address_line_1","bank_ifsc_address_line_2");m._config.screenFields.push("address_line_2","address_line_3","dom","account_cur_code","account_no","account_no","iso_code","bank_code","swift_charges_type");m._config.screenFields.push("bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_country",_2,"counterparty_name_2","counterparty_name_3");m._config.screenFields.push("branch_name","branch_address","branch_address_line_1","branch_address_line_2","branch_dom","brch_code","pre_approved","account_with_institution",_16);m._config.screenFields.push("bank_routing_no","ordering_customer_name","ordering_customer_address_1","ordering_customer_address_2","ordering_customer_dom","ordering_customer_country","order_customer_act_no",_1,"counterparty_nickname","bene_details_clrc","order_details_clrc","beneficiary_bank_clrc","inter_bank_clrc","inter_bank_address_2");m._config.screenFields.push("bank_ifsc_name","bank_ifsc_city");m._config.screenFields.push("bank_iso_code_meps","bank_bic_code_rtgs","bank_code_country","beneficiary_cntry_country","intermediary_bank_rtgs_country","intermediary_bank_meps_country");m._config.screenFields.push("bo_account_id","bo_account_type","bo_account_currency","bo_branch_code","bo_product_type");m._config.screenFields.push("mailing_name","mailing_address_line_1","mailing_address_line_2","mailing_address_line_3","mailing_address_line_4","mailing_address_line_5","mailing_address_line_6","postal_code","beneficiary_country","email_1","email_2","fax","phone","bene_details_postal_code","bene_details_country");_61();m._config.productTypes=m._config.productTypes||[];m._config.productTypes["NONE"]=m._config.productTypes["NONE"]||[];m._config.productTypes["NONE"].mandatory=m._config.productTypes["NONE"].mandatory||[];m._config.productTypes["NONE"].swift=m._config.productTypes["NONE"].swift||[];m._config.productTypes["TPT"]=m._config.productTypes["TPT"]||[];m._config.productTypes["TPT"].mandatory=m._config.productTypes["TPT"].mandatory||[];m._config.productTypes["TPT"].swift=m._config.productTypes["TPT"].swift||[];m._config.productTypes["DOM"]=m._config.productTypes["DOM"]||[];m._config.productTypes["DOM"].mandatory=m._config.productTypes["DOM"].mandatory||[];m._config.productTypes["DOM"].swift=m._config.productTypes["DOM"].swift||[];m._config.productTypes["MT101"]=m._config.productTypes["MT101"]||[];m._config.productTypes["MT101"].mandatory=m._config.productTypes["MT101"].mandatory||[];m._config.productTypes["MT101"].swift=m._config.productTypes["MT101"].swift||[];m._config.productTypes["MT103"]=m._config.productTypes["MT103"]||[];m._config.productTypes["MT103"].mandatory=m._config.productTypes["MT103"].mandatory||[];m._config.productTypes["MT103"].swift=m._config.productTypes["MT103"].swift||[];m._config.productTypes["FI103"]=m._config.productTypes["FI103"]||[];m._config.productTypes["FI103"].mandatory=m._config.productTypes["FI103"].mandatory||[];m._config.productTypes["FI103"].swift=m._config.productTypes["FI103"].swift||[];m._config.productTypes["FI202"]=m._config.productTypes["FI202"]||[];m._config.productTypes["FI202"].mandatory=m._config.productTypes["FI202"].mandatory||[];m._config.productTypes["FI202"].swift=m._config.productTypes["FI202"].swift||[];m._config.productTypes["DD"]=m._config.productTypes["DD"]||[];m._config.productTypes["DD"].mandatory=m._config.productTypes["DD"].mandatory||[];m._config.productTypes["DD"].swift=m._config.productTypes["DD"].swift||[];m._config.productTypes["TTPT"]=m._config.productTypes["TTPT"]||[];m._config.productTypes["TTPT"].mandatory=m._config.productTypes["TTPT"].mandatory||[];m._config.productTypes["TTPT"].swift=m._config.productTypes["TTPT"].swift||[];m._config.productTypes["TRSRY"]=m._config.productTypes["TRSRY"]||[];m._config.productTypes["TRSRY"].mandatory=m._config.productTypes["TRSRY"].mandatory||[];m._config.productTypes["TRSRY"].swift=m._config.productTypes["TRSRY"].swift||[];m._config.productTypes["TRSRYFXFT"]=m._config.productTypes["TRSRYFXFT"]||[];m._config.productTypes["TRSRYFXFT"].mandatory=m._config.productTypes["TRSRYFXFT"].mandatory||[];m._config.productTypes["TRSRYFXFT"].swift=m._config.productTypes["TRSRYFXFT"].swift||[];m._config.productTypes["MUPS"]=m._config.productTypes["MUPS"]||[];m._config.productTypes["MUPS"].mandatory=m._config.productTypes["MUPS"].mandatory||[];m._config.productTypes["MUPS"].swift=m._config.productTypes["MUPS"].swift||[];m._config.screenFields.push("cnaps_bank_code","mailing_address","cnaps_bank_name");m._config.screenFields.push("bank_ifsc_code","bank_ifsc_address_line_1","bank_ifsc_address_line_2");m._config.screenFields.push("bank_ifsc_name","bank_ifsc_city");m._config.productTypes["HVPS"]=m._config.productTypes["HVPS"]||[];m._config.productTypes["HVPS"].mandatory=m._config.productTypes["HVPS"].mandatory||[];m._config.productTypes["HVPS"].swift=m._config.productTypes["HVPS"].swift||[];m._config.productTypes["HVPS"].push("counterparty_name","account_no","account_cur_code","cnaps_bank_code","cnaps_bank_name","pre_approved","active_flag",_16);m._config.productTypes["HVPS"].push("payee_ref","cust_ref","description","mailing_name","mailing_address","postal_code","beneficiary_country","email_1","email_2","fax","phone","counterparty_nickname");m._config.productTypes["HVPS"].mandatory.push("counterparty_name","account_no","cnaps_bank_code");m._config.productTypes["HVXB"]=m._config.productTypes["HVXB"]||[];m._config.productTypes["HVXB"].mandatory=m._config.productTypes["HVXB"].mandatory||[];m._config.productTypes["HVXB"].swift=m._config.productTypes["HVXB"].swift||[];m._config.productTypes["HVXB"].push("counterparty_name","account_no","account_cur_code","cnaps_bank_code","cnaps_bank_name","pre_approved","active_flag",_16);m._config.productTypes["HVXB"].push("payee_ref","cust_ref","description","mailing_name","mailing_address","postal_code","beneficiary_country","email_1","email_2","fax","phone","counterparty_nickname");m._config.productTypes["HVXB"].mandatory.push("counterparty_name","account_no","cnaps_bank_code");m._config.productTypes["MEPS"]=m._config.productTypes["MEPS"]||[];m._config.productTypes["MEPS"].mandatory=m._config.productTypes["MEPS"].mandatory||[];m._config.productTypes["MEPS"].swift=m._config.productTypes["MEPS"].swift||[];m._config.productTypes["RTGS"]=m._config.productTypes["RTGS"]||[];m._config.productTypes["RTGS"].mandatory=m._config.productTypes["RTGS"].mandatory||[];m._config.productTypes["RTGS"].swift=m._config.productTypes["RTGS"].swift||[];m._config.productTypes["TPT"].push("counterparty_name","account_no","account_cur_code","pre_approved","active_flag",_16);m._config.productTypes["TPT"].push("payee_ref","cust_ref","description","mailing_name","mailing_address_line_1","mailing_address_line_2","mailing_address_line_3","mailing_address_line_4","mailing_address_line_5","mailing_address_line_6","postal_code","beneficiary_country","email_1","email_2","fax","phone");m._config.productTypes["TPT"].mandatory.push("counterparty_name","account_no");m._config.productTypes["TPT"].swift.push("counterparty_name","account_no");m._config.productTypes["MUPS"].push("counterparty_name","account_no","account_cur_code","bank_ifsc_code","bank_ifsc_name","bank_ifsc_address_line_1","bank_ifsc_address_line_2","bank_ifsc_city","pre_approved",_16);m._config.productTypes["MUPS"].push("payee_ref","cust_ref","description","mailing_name","mailing_address","postal_code","beneficiary_country","email_1","email_2","fax","phone","counterparty_nickname");m._config.productTypes["MUPS"].mandatory.push("counterparty_name","account_no","account_cur_code","bank_ifsc_code","bank_ifsc_name");m._config.productTypes["MUPS"].swift.push("counterparty_name","account_no");m._config.productTypes["MEPS"].push("counterparty_name","account_no","account_cur_code","active_flag","address_line_1","address_line_2","dom","bank_iso_code_meps","brch_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom","pre_approved","email_1","email_2","fax","phone",_16,"intermediary_bank_swift_bic_code_meps","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country","counterparty_nickname");m._config.productTypes["MEPS"].mandatory.push("counterparty_name","account_no","account_cur_code","address_line_1","address_line_2","dom","bank_name","bank_address_line_1","bank_code_country","beneficiary_cntry_country","bank_iso_code_meps");m._config.productTypes["MEPS"].swift.push("counterparty_name","address_line_1","address_line_2","dom","account_no","bank_iso_code_meps","brch_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom");m._config.productTypes["RTGS"].push("counterparty_name","account_no","account_cur_code","active_flag","address_line_1","address_line_2","dom","bank_bic_code_rtgs","brch_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom","pre_approved","email_1","email_2","fax","phone",_16,"intermediary_bank_swift_bic_code_rtgs","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country","bene_country","counterparty_nickname");m._config.productTypes["RTGS"].mandatory.push("counterparty_name","account_no","account_cur_code","address_line_1","address_line_2","dom","bank_name","bank_address_line_1","bank_code_country","beneficiary_cntry_country","bank_bic_code_rtgs");m._config.productTypes["RTGS"].swift.push("counterparty_name","address_line_1","address_line_2","dom","account_no","bank_bic_code_rtgs","brch_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_code_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom");m._config.productTypes["DOM"].push("counterparty_name","account_no","account_cur_code","bank_code","brch_code","bank_name","branch_name","pre_approved",_16);m._config.productTypes["DOM"].push("mailing_name","mailing_address_line_1","mailing_address_line_2","mailing_address_line_3","mailing_address_line_4","mailing_address_line_5","mailing_address_line_6","postal_code","beneficiary_country","email_1","email_2","fax","ivr","phone","counterparty_nickname");m._config.productTypes["DOM"].mandatory.push("counterparty_name","account_no","bank_code","brch_code","bank_name","branch_name");m._config.productTypes["DOM"].swift.push("counterparty_name","account_no");m._config.productTypes["MT101"].push("counterparty_name","account_no","address_line_1","address_line_2","dom","bank_iso_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom","pre_approved","email_1","email_2","fax","phone",_16,"intermediary_bank_swift_bic_code","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country","intermediary_bank_clearing_code","intermediary_bank_clearing_code_desc","counterparty_nickname");m._config.productTypes["MT101"].mandatory.push("counterparty_name","account_no","address_line_1","bank_name","bank_address_line_1","bank_country");m._config.productTypes["MT103"].push("counterparty_name","account_no","active_flag","address_line_1","address_line_2","dom","bank_iso_code","brch_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom","pre_approved","email_1","email_2","fax","phone",_16,"intermediary_bank_swift_bic_code","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country","intermediary_bank_clearing_code","intermediary_bank_clearing_code_desc","counterparty_nickname");m._config.productTypes["MT103"].mandatory.push("counterparty_name","account_no","address_line_1","bank_name","bank_address_line_1","bank_country","bank_iso_code");m._config.productTypes["MT103"].swift.push("counterparty_name","address_line_1","address_line_2","dom","account_no","bank_iso_code","brch_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom");m._config.productTypes["FI103"].push("counterparty_name","account_no","active_flag","address_line_1","address_line_2","dom","bank_iso_code","bank_name","bank_address_line_1","bank_address_line_2","bank_dom","bank_country","branch_address","branch_address_line_1","branch_address_line_2","branch_dom","pre_approved","email_1",_16,"email_2","fax","phone","intermediary_bank_swift_bic_code","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country","intermediary_bank_clearing_code","intermediary_bank_clearing_code_desc","counterparty_nickname");m._config.productTypes["FI103"].mandatory.push("counterparty_name","account_no","address_line_1","bank_name","bank_address_line_1","bank_country");m._config.productTypes["FI103"].swift.push("counterparty_name","address_line_1","address_line_2","dom","account_no");m._config.productTypes["FI202"].push("counterparty_name","bank_iso_code","account_no","address_line_1","address_line_2","dom","iso_code","bank_name","bank_address_line_1","bank_address_line_2",_16,"bank_dom","bank_country","pre_approved","account_with_institution","email_1","email_2","fax","phone","intermediary_bank_swift_bic_code","intermediary_bank_name","intermediary_bank_address_line_1","intermediary_bank_address_line_2","intermediary_bank_dom","intermediary_bank_country","intermediary_bank_clearing_code","intermediary_bank_clearing_code_desc","counterparty_nickname");m._config.productTypes["FI202"].mandatory.push("counterparty_name","account_no","address_line_1","bank_name","bank_address_line_1","bank_country");m._config.productTypes["FI202"].swift.push("counterparty_name","address_line_1","address_line_2","dom","account_no","bank_name","bank_address_line_1","bank_address_line_2","bank_dom");m._config.productTypes["DD"].push("counterparty_name","counterparty_name_2","counterparty_name_3","address_line_1","address_line_2","address_line_3","dom","pre_approved",_16);m._config.productTypes["DD"].push("mailing_name","mailing_address_line_1","mailing_address_line_2","mailing_address_line_3","mailing_address_line_4","mailing_address_line_5","mailing_address_line_6","postal_code","beneficiary_country","email_1","email_2","fax","phone","bene_details_postal_code","bene_details_country","counterparty_nickname");m._config.productTypes["DD"].mandatory.push("counterparty_name","address_line_1");m._config.productTypes["TTPT"].push("counterparty_name","account_no","address_line_1","address_line_2","address_line_3","dom","pre_approved","account_cur_code");m._config.productTypes["TTPT"].push("email_1","email_2","phone","bene_details_postal_code","bene_details_country",_16,"counterparty_nickname");m._config.productTypes["TTPT"].mandatory.push("counterparty_name","account_no");m._config.productTypes["TRSRY"].push("counterparty_name","account_no","address_line_1","address_line_2","dom","account_cur_code","bank_iso_code","bank_name","bank_address_line_1","bank_country","branch_name",_1);m._config.productTypes["TRSRY"].push("email_1","email_2","phone","bene_details_country","swift_charges_type","bank_routing_no","order_cust_act_no","swift_charges_type_1","bank_dom","swift_charges_type_2","swift_charges_type_3","ordering_customer_name","ordering_customer_address_1","ordering_customer_dom","ordering_customer_country","order_customer_act_no",_2,"counterparty_nickname");m._config.productTypes["TRSRY"].mandatory.push("counterparty_name","account_no","bene_details_country","dom","address_line_1","bank_country","bank_name","bank_dom");m._config.productTypes["TRSRYFXFT"].push("counterparty_name","account_no","address_line_1","address_line_2","dom","account_cur_code","bank_iso_code","bank_name","bank_address_line_1","bank_country","bene_details_clrc","order_details_clrc","beneficiary_bank_clrc","inter_bank_clrc","branch_name",_1,"inter_bank_address_2");m._config.productTypes["TRSRYFXFT"].push("email_1","email_2","phone","bene_details_country","swift_charges_type","bank_routing_no","order_cust_act_no","swift_charges_type_1","bank_dom","swift_charges_type_2","swift_charges_type_3","ordering_customer_name","ordering_customer_address_1","ordering_customer_address_2","ordering_customer_dom","ordering_customer_country","order_customer_act_no",_2,"counterparty_nickname");m._config.productTypes["TRSRYFXFT"].mandatory.push("counterparty_name","account_no","bene_details_country","dom","address_line_1","bank_country","bank_name","bank_dom");});})(dojo,dijit,misys);dojo.require("misys.client.binding.system.beneficiary_master_mc_client");}