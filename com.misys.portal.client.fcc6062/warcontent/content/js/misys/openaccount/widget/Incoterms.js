/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.openaccount.widget.Incoterms"]){dojo._hasResource["misys.openaccount.widget.Incoterms"]=true;dojo.provide("misys.openaccount.widget.Incoterms");dojo.experimental("misys.openaccount.widget.Incoterms");dojo.require("misys.grid.GridMultipleItems");dojo.require("misys.openaccount.widget.Incoterm");dojo.declare("misys.openaccount.widget.Incoterms",[misys.grid.GridMultipleItems],{data:{identifier:"store_id",label:"store_id",items:[]},handle:null,templatePath:null,templateString:dojo.byId("incoterms-template").innerHTML,dialogId:"incoterm-dialog-template",xmlTagName:"incoterms",xmlSubTagName:"incoterm",gridColumns:["code","code_label","other","location"],propertiesMap:{tnx_id:{_fieldName:"tnx_id"},ref_id:{_fieldName:"ref_id"},inco_term_id:{_fieldName:"inco_term_id"},code:{_fieldName:"incoterm_code"},code_label:{_fieldName:"incoterm_code_label"},other:{_fieldName:"incoterm_other"},location:{_fieldName:"incoterm_location"}},layout:[{name:"Incoterm",field:"code_label",width:"45%"},{name:"Location",field:"location",width:"45%"},{name:" ",field:"actions",formatter:misys.grid.formatReportActions,width:"10%"},{name:"Id",field:"store_id",headerStyles:"display:none",cellStyles:"display:none"}],mandatoryFields:["code"],startup:function(){this.dataList=[];if(this.hasChildren()){dojo.forEach(this.getChildren(),function(_1){if(_1.createItem){var _2=_1.createItem();this.dataList.push(_2);}},this);}this.inherited(arguments);},openDialogFromExistingItem:function(_3,_4){this.inherited(arguments);},addItem:function(_5){if(this.id.match("^misys_")=="misys_"&&misys.checkLineItemChildrens()){misys.dialog.show("ERROR",misys.getLocalization("tooManyPODetailsError"));return;}else{if(this.id.match("^line_item_")=="line_item_"&&misys.checkPOChildrens()){misys.dialog.show("ERROR",misys.getLocalization("tooManyPODetailsError"));return;}}this.inherited(arguments);},createItemsFromJson:function(_6){this.inherited(arguments);},performValidation:function(){if(this.validateDialog(true)){this.inherited(arguments);}},updateData:function(_7){this.inherited(arguments);if(dijit.byId("part_ship_2")&&dijit.byId("part_ship_2").get("checked")===true&&dijit.byId("line_item_incoterms")){dijit.byId("line_item_incoterms").set("disabled",true);}misys.markFormDirty();},renderSections:function(){this.inherited(arguments);if(this.itemsNode){var _8=(this.grid&&this.grid.rowCount>0);if(dijit.byId("line_item_incoterms")){dijit.byId("line_item_incoterms").set("disabled",false);}}}});}