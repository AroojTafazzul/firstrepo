/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.openaccount.widget.PaymentCertificateLineItems"]){dojo._hasResource["misys.openaccount.widget.PaymentCertificateLineItems"]=true;dojo.provide("misys.openaccount.widget.PaymentCertificateLineItems");dojo.experimental("misys.openaccount.widget.PaymentCertificateLineItems");dojo.require("misys.grid.GridMultipleItems");dojo.require("misys.openaccount.widget.PaymentCertificateLineItem");dojo.require("misys.openaccount.widget.PaymentCertificateLineItemIdentifications");dojo.declare("misys.openaccount.widget.PaymentCertificateLineItems",[misys.grid.GridMultipleItems],{data:{identifier:"store_id",label:"store_id",items:[]},templatePath:null,templateString:dojo.byId("payment-certificate-line-item-template").innerHTML,dialogId:"payment-certificate-line-item-dialog-template",xmlTagName:"",xmlSubTagName:"",gridColumns:["purchaseOrderRefId","purchaseOrderIssDate","line_item_id_payment_certificate"],propertiesMap:{purchaseOrderRefId:{_fieldName:"purchaseOrderRefId"},purchaseOrderIssDate:{_fieldName:"purchaseOrderIssDate"},line_item_id_payment_certificate:{_fieldName:"line_item_id_payment_certificate",_type:"misys.openaccount.widget.PaymentCertificateLineItemIdentifications"}},layout:[{name:"PO Ref Id",field:"purchaseOrderRefId",width:"25%"},{name:"PO Issue Date",field:"purchaseOrderIssDate",width:"25%"},{name:" ",field:"actions",formatter:misys.grid.formatReportActions,width:"10%"},{name:"Id",field:"store_id",headerStyles:"display:none",cellStyles:"display:none"}],lineItemMap:{paymentLineItemMap:{_fieldName:"line_item_payment_certificate"}},lineItemIdMap:{paymentLineItemIdMap:{_fieldName:"line_item_id_payment_certificate"}},typeMap:{"misys.openaccount.widget.PaymentCertificateLineItemIdentifications":{"type":Array,"deserialize":function(_1){var _2={};_2._type="misys.openaccount.widget.PaymentCertificateLineItemIdentifications";_2._values=_1;return _2;}}},mandatoryFields:["purchaseOrderRefId","purchaseOrderIssDate"],startup:function(){this.dataList=[];if(this.hasChildren()){dojo.forEach(this.getChildren(),function(_3){if(_3.createItem){var _4=_3.createItem();this.dataList.push(_4);}},this);}this.inherited(arguments);},openDialogFromExistingItem:function(_5,_6){this.inherited(arguments);},createItem:function(){if(this.hasChildren&&this.hasChildren()){var _7="misys.openaccount.widget.PaymentCertificateLineItems";var _8=[];dojo.forEach(this.getChildren(),function(_9){if(_9.createItem){_8.push(_9.createItem());}},this);var _a={_value:_8,_type:_7};var _b={};_b["line_item_payment_certificate"]=_a;return _b;}return null;},createJsonItem:function(){var _c=[];if(this.hasChildren&&this.hasChildren()){dojo.forEach(this.getChildren(),function(_d){if(_d.createItem){var _e=_d.createItem();_c.push(_e);if(this.get("is_valid")!=="N"){this.set("is_valid",_e.is_valid?_e.is_valid:"Y");}misys._widgetsToDestroy=misys._widgetsToDestroy||[];misys._widgetsToDestroy.push(_d.id);}},this);}return _c;},resetDialog:function(_f){this.inherited(arguments);},addItem:function(_10){this.inherited(arguments);},createItemsFromJson:function(_11){this.inherited(arguments);},updateData:function(_12){this.inherited(arguments);},performValidation:function(){if(this.validateDialog(true)){this.inherited(arguments);}}});}