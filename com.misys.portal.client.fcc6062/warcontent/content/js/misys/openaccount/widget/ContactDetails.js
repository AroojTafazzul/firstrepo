/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.openaccount.widget.ContactDetails"]){dojo._hasResource["misys.openaccount.widget.ContactDetails"]=true;dojo.provide("misys.openaccount.widget.ContactDetails");dojo.experimental("misys.openaccount.widget.ContactDetails");dojo.require("misys.grid.GridMultipleItems");dojo.require("misys.openaccount.widget.ContactDetail");dojo.declare("misys.openaccount.widget.ContactDetails",[misys.grid.GridMultipleItems],{data:{identifier:"store_id",label:"store_id",items:[]},handle:null,templatePath:null,templateString:dojo.byId("contact-details-template")?dojo.byId("contact-details-template").innerHTML:"",dialogId:"contact-details-dialog-template",xmlTagName:"contacts",xmlSubTagName:"contact",gridColumns:["type","type_decode","bic","name_prefix","name_value","given_name","role","phone_number","fax_number","email"],propertiesMap:{ctcprsn_id:{_fieldName:"ctcprsn_id"},type:{_fieldName:"contact_type"},type_decode:{_fieldName:"contact_type_decode"},bic:{_fieldName:"contact_bic"},name_prefix:{_fieldName:"contact_name_prefix"},name_value:{_fieldName:"contact_name"},given_name:{_fieldName:"contact_given_name"},role:{_fieldName:"contact_role"},phone_number:{_fieldName:"contact_phone_number"},fax_number:{_fieldName:"contact_fax_number"},email:{_fieldName:"contact_email"}},layout:[{name:"Type",field:"type_decode",width:"45%"},{name:"Name",get:misys.getContactName,width:"45%"},{name:" ",field:"actions",formatter:misys.grid.formatReportActions,width:"10%"},{name:"Id",field:"store_id",headerStyles:"display:none",cellStyles:"display:none"}],mandatoryFields:["type","name_value"],startup:function(){this.dataList=[];if(this.hasChildren()){dojo.forEach(this.getChildren(),function(_1){if(_1.createItem){var _2=_1.createItem();this.dataList.push(_2);}},this);}this.inherited(arguments);},openDialogFromExistingItem:function(_3,_4){this.inherited(arguments);},addItem:function(_5){this.inherited(arguments);},createItemsFromJson:function(_6){this.inherited(arguments);},performValidation:function(){if(this.validateDialog(true)){this.inherited(arguments);}}});}