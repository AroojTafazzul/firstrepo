/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.validation.common"]){dojo._hasResource["misys.validation.common"]=true;dojo.provide("misys.validation.common");dojo.require("dojox.validate.web");(function(d,dj,m){var _1="message is false";var _2=m.getServletURL("/screen/AjaxScreen/action/CheckPoReferenceAction");var _3=m.getServletURL("/screen/AjaxScreen/action/GetCurrencyISOCodes");var _4="CUSTOM-NO-CANCEL";var _5="[Could not validate mandatory field] ";var _6="[misys.validation.common] Current Date Value = ";var _7="[misys.validation.common] Validating Expiry Date. Value = ";var _8="[misys.validation.common] Days difference between expiry date and current date = ";var _9="[misys.validation.common] validateCurrency error";var _a="[misys.validation.common] Validating Abbv Name Format, Value =";var _b="[misys.validation.common] Validating Currency. Value";var _c="application/json; charset=utf-8";function _d(_e,_f){if(!_f){_f=" 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/-?:().,+_";}return d.every(_e.get("value"),function(_10){return _f.indexOf(_10)>=0;});};function _11(_12){var _13="";if(dijit.byId("issuing_bank_abbv_name")&&dijit.byId("issuing_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&[dijit.byId("issuing_bank_abbv_name").get("value")][0]&&[dijit.byId("issuing_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("issuing_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("remitting_bank_abbv_name")&&dijit.byId("remitting_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&misys._config.businessDateForBank&&[dijit.byId("remitting_bank_abbv_name").get("value")][0]&&misys._config.businessDateForBank&&[dijit.byId("remitting_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("remitting_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("recipient_bank_abbv_name")&&dijit.byId("recipient_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&[dijit.byId("recipient_bank_abbv_name").get("value")][0]&&[dijit.byId("recipient_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("recipient_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("advising_bank_abbv_name")&&dijit.byId("advising_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&[dijit.byId("advising_bank_abbv_name").get("value")][0]&&[dijit.byId("advising_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("advising_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("bank_abbv_name")&&dijit.byId("bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank[dijit.byId("bank_abbv_name").get("value")][0]&&[dijit.byId("bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("bank_abbv_name").get("value")][0].name;}else{if(misys&&misys._config&&misys._config.bankBusinessDate&&misys._config.bankBusinessDate!==""){_13=misys._config.bankBusinessDate;}}}}}}var _14=_12.get("value");if(_13!==""){var _15=parseInt(_13.substring(0,4),10);var _16=parseInt(_13.substring(5,7),10);var _17=parseInt(_13.substring(8,10),10);var _18=new Date(_15,_16-1,_17);_18.setHours(0,0,0,0);var _19=dojo.date.compare(_14,_18,"date");return _19;}};function _1a(_1b){if(_1b.get("type")==="hidden"){return d.date.locale.format(m.localizeDate(_1b),{selector:"date",datePattern:m.getLocalization("g_strGlobalDateFormat")});}return _1b.get("displayedValue");};function _1c(_1d,_1e){var _1f=_1d.items.valid;var _20;if(dj.byId("email")){_20=dj.byId("email");}var _21="";if(_1d.items.valid===false){if(_20!=undefined){_20.focus();_21=m.getLocalization("invalidEmailAddressError",[_20.get("value")]);_20.set("state","Error");dj.hideTooltip(_20.domNode);dj.showTooltip(_21,_20.domNode,0);}}else{}};function _22(_23,_24){var _25=dj.byId(_23);if(_25){if(!(/Date/.test(_25.get("declaredClass")))){return -1;}if(_25.isValidDate()){return _25.getDate();}if(_25.getCode()==="SPOT"){return -1;}if(_25.getCode()===""||_25.getNumber()===""){return -1;}var _26=parseInt(_25.getNumber(),10),_27=null,_28=_24||new Date();if(_25.getCode()==="d"){return d.date.add(_28,"day",_26);}else{if(_25.getCode()==="w"){return d.date.add(_28,"week",_26);}else{if(_25.getCode()==="m"){return d.date.add(_28,"month",_26);}else{if(_25.getCode()==="y"){return d.date.add(_28,"year",_26);}}}}}else{return -1;}};function _29(_2a,_2b){var _2c=" .-_,/",_2d="",_2e="",_2f="",_30="";if(_2a.length<5||_2a.length>35){return -1;}if(_2b==null||_2b===""){_2f=_2a.substring(0,4);_2e=_2a.substring(4,_2a.length)+_2f.toUpperCase();}else{_2f=_2b+"00";_2e=_2a+_2f.toUpperCase();}for(var i=0;i<_2e.length;i++){_30=_2e.charAt(i);if(!isNaN(_30)){_2d+=""+_30;}else{if(_2c.indexOf(_30)>0){continue;}else{if(_30.charCodeAt(0)<65||_30.charCodeAt(0)>90){return -1;}else{_2d+=_30.charCodeAt(0)-55;}}}}return (_31(_2d,97));};function _31(_32,_33){var i=0,j=0,_34=new Array(),r="";for(i=0;i<_32.length+6;i+=6){var _35=_32.substring(i,i+6);if(_35!==""){_34[j++]=_32.substring(i,i+6);}}for(i=0;i<_34.length;i++){r=(r+""+_34[i])%_33;}return r;};function _36(_37){var _38=_37.get("value")!==null?_37.get("value"):"";if(_38===""||!(_38 instanceof Date)){return _38;}else{if(_37.get("displayedValue")){return _37.get("displayedValue");}else{var _39=_38.getMonth();_39=_39+1;var _3a=_38.getFullYear();var day=_38.getDate();return day+"/"+_39+"/"+_3a;}}};function _3b(_3c){var _3d;if(dj.byId("abbv_name")){_3d=dj.byId("abbv_name");}var _3e="";if(_3c.items.valid===true){if(_3d!=undefined){_3d.focus();_3e=m.getLocalization("abbvNameExists",[_3d.get("value")]);_3d.set("value","");_3d.set("state","Error");dj.hideTooltip(_3d.domNode);dj.showTooltip(_3e,_3d.domNode,0);}}else{}};function _3f(_40){var _41;if(dj.byId("claim_reference")){_41=dj.byId("claim_reference");}var _42="";if(_40.items.valid===false){if(_41!=undefined){_42=m.getLocalization("claimReferenceExists",[_41.get("value")]);}var _43=function(){_41.focus();_41.set("state","Error");};m.dialog.show("ERROR",_42,"",function(){setTimeout(_43,500);});}else{}};function _44(_45){var _46;if(dj.byId("issuer_ref_id")){_46=dj.byId("issuer_ref_id");}var _47="";if(_45.items.valid===false){if(_46!=undefined){_47=m.getLocalization("poReferenceExists",[_46.get("value")]);_46.focus();_46.set("state","Error");_46.set("value","");dj.hideTooltip(_46.domNode);dj.showTooltip(_47,_46.domNode,0);}}else{}};function _48(_49){var _4a;if(dj.byId("issuer_ref_id")){_4a=dj.byId("issuer_ref_id");}var _4b="";if(_49.items.valid===false&&_4a!=undefined){_4b=m.getLocalization("invoiceReferenceExists",[_4a.get("value")]);_4a.focus();_4a.set("state","Error");_4a.set("value","");dj.hideTooltip(_4a.domNode);dj.showTooltip(_4b,_4a.domNode,0);}else{}};function _4c(_4d){var _4e;if(dj.byId("cust_ref_id")){_4e=dj.byId("cust_ref_id");}var _4f="";if(_4d.items.valid===false){if(_4e!=undefined){_4f=m.getLocalization("custReferenceExists",[_4e.get("value")]);_4e.focus();_4e.set("state","Error");_4e.set("value","");dj.showTooltip(_4f,_4e.domNode,0);}}else{}};function _50(_51){var _52;if(dj.byId("cn_reference")){_52=dj.byId("cn_reference");}var _53="";if(_51.items.valid===false){if(_52!=undefined){_53=m.getLocalization("cnReferenceExists",[_52.get("value")]);_52.focus();_52.set("state","Error");dj.hideTooltip(_52.domNode);dj.showTooltip(_53,_52.domNode,0);}}else{}};function _54(_55){var _56;if(dj.byId("report_name")){_56=dj.byId("report_name");}var _57="";if(_55.items.valid===true){if(_56!=undefined){_56.focus();_57=m.getLocalization("reportNameExists",[_55.items.reportName]);_56.set("value","");_56.set("state","Error");dj.hideTooltip(_56.domNode);dj.showTooltip(_57,_56.domNode,0);}}else{}};function _58(_59){var _5a;var _5b=dj.byId("ls_name");if(_5b){_5a=_5b;}var _5c="";if(_59.items.valid===false){if(_5a!=undefined){_5c=m.getLocalization("lsNameExists",[_5a.get("value")]);_5a.focus();_5a.set("state","Error");dj.hideTooltip(_5a.domNode);dj.showTooltip(_5c,_5a.domNode,0);}}else{}};function _5d(_5e){var _5f;if(dj.byId("facility_reference")){_5f=dj.byId("facility_reference");}var _60="";if(_5e.items.valid===true){if(_5f!=undefined){_5f.focus();_60=m.getLocalization("facilityRefExists",[_5f.get("value")]);_5f.set("value","");_5f.set("state","Error");dj.hideTooltip(_5f.domNode);dj.showTooltip(_60,_5f.domNode,0);}}else{}};function _61(_62){var _63;if(dj.byId("employee_no")){_63=dj.byId("employee_no");}var _64="";if(_62.items.valid===true){if(_63!=undefined){_63.focus();_64=m.getLocalization("employeeNoExists",[_63.get("value")]);_63.set("value","");_63.set("state","Error");dj.hideTooltip(_63.domNode);dj.showTooltip(_64,_63.domNode,0);}}else{}};function _65(_66){var _67;if(dj.byId("structure_code")){_67=dj.byId("structure_code");}var _68="";if(_66.items.exists===true){dj.byId("structure_code").set("state","Error");if(_67!=undefined){_68=m.getLocalization("structureCodeExists",[_67.get("value")]);}dj.showTooltip(_68,dj.byId("structure_code").domNode,0);}else{}};function _69(_6a){var _6b;if(dj.byId("effective_date")){_6b=dj.byId("effective_date");}var _6c="";if(_6a.items.exists===true){dj.byId("effective_date").set("state","Error");dj.showTooltip(m.getLocalization("effectiveDateExists"),dj.byId("effective_date").domNode,0);}else{}};function _6d(_6e){var _6f=misys.getLocalization("uploadTemplateValueRequired");_6e.set("state","Error");dj.hideTooltip(_6e.domNode);if(dojo.query("html")&&dojo.query("html")[0]&&dojo.query("html")[0].dir==="rtl"){dj.showTooltip(_6f,_6e.domNode,["before"]);}else{dj.showTooltip(_6f,_6e.domNode,0);}var _70=function(){dj.hideTooltip(_6e.domNode);};setTimeout(_70,5000);};function _71(_72,_73){if(!dj.byId("holidayCutOffDialog")){d.require("misys.widget.Dialog");d.require("dijit.form.Button");var _74=new dj.Dialog({id:"holidayCutOffDialog",title:"Error",draggable:false});var _75=d.create("div",{id:"holidayCutOffDialogContent"});var _76=d.create("div",{id:"dialogHolidayText"},_75,"first");var _77=d.create("div",{id:"holidayCutOffDialogButtons",style:"text-align:center;"},_75,"last");var _78=new dj.form.Button({label:m.getLocalization("returnMessage"),id:"rejectHolidayButtonId"});var _79=new dj.form.Button({label:m.getLocalization("autoForwardMessage"),id:"forwardHolidayButtonId"});var _7a=new dj.form.Button({label:m.getLocalization("cancelMessage"),id:"cancelHolidayButtonId"});if(_72==="UNSIGNED"){d.place(_78.domNode,_77);}if(_73===true){d.place(_79.domNode,_77);}d.place(_7a.domNode,_77);_74.set("content",_75);}if(_72!=="UNSIGNED"&&!_73){m._config.onSubmitErrorMsg=m.getLocalization("failedSingleSubmissionFromDraft");}var _7b=dj.byId("holidayCutOffDialog");if(d.byId("dialogHolidayText")){d.byId("dialogHolidayText").innerHTML=m._config.onSubmitErrorMsg;}m.dialog.connect(_7b,"onKeyPress",function(evt){if(evt.keyCode===d.keys.ESCAPE){d.stopEvent(evt);}});m.dialog.connect(dj.byId("forwardHolidayButtonId"),"onClick",function(){_7b.hide();setTimeout(function(){m.submit("AUTO_FORWARD_SUBMIT");},500);},_7b.id);m.dialog.connect(dj.byId("rejectHolidayButtonId"),"onClick",function(){var _7c="REJECT";if(dj.byId("productcode")&&dj.byId("productcode").get("value")==="FT"||"TD"&&_72==="UNSIGNED"){_7c="RETURN_TRANSACTION";}m.submit(_7c);m.dialog.hide();_7b.hide();},_7b.id);m.dialog.connect(dj.byId("cancelHolidayButtonId"),"onClick",function(){m.dialog.hide();_7b.hide();if(d.byId("dialogHolidayText")){d.byId("dialogHolidayText").innerHTML="";m._config.onSubmitErrorMsg=d.byId("dialogHolidayText").innerHTML;}},_7b.id);m.dialog.connect(_7b,"onHide",function(){m.dialog.disconnect(_7b);m.dialog.hide();});_7b.show();};function _7d(_7e,_7f,_80,_81,_82,_83,_84,_85,_86,_87){var _88=true;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/GetBusinessDateAndCutOffTimeStatus"),sync:true,handleAs:"json",content:{date_names:_82,date_values:_83,bankAbbvName:_7e,entity_abbv_name:_84,product_code:_7f,sub_product_code:_80,cur_code:_85,amount:_86,clearingCode:_87},load:function(_89,_8a){var _8b=_89.valid;var _8c=_89.autoForwardEnabled;if(_8b===false){_88=false;m._config.onSubmitErrorMsg=_89.errorMessage;_71(_81,_8c);}},customError:function(_8d,_8e){console.error("[misys.validation.common] Technical error while validating business days and cut-off time");console.error(_8d);_88=false;m._config.onSubmitErrorMsg=m.getLocalization("technicalErrorWhileValidatingBusinessDays");m._config=m._config||{};dojo.mixin(m._config,{holidayCutOffEnabled:false});}});return _88;};d.mixin(m,{isIBAN:function(_8f){return _29(_8f)===1;},getLocalizeDisplayDate:function(_90){return _1a(_90);},validateRequiredField:function(){if(this.get("value")===""){_6d(this);}},validateTemplateId:function(){var _91;var _92=d.every(this.get("value"),function(_93){_91=_93;return true;});if(!_92){this.invalidMessage=m.getLocalization("illegalCharError",[_91]);}else{if(this.get("value").length===1&&this.get("value")==="-"){this.invalidMessage=m.getLocalization("singleHyphenError");_92=false;}}return _92;},checkAbbvNameExists:function(){var _94;if(dj.byId("abbv_name")){_94=dj.byId("abbv_name").get("value");}if(_94!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckAbbvNameAction"),handleAs:"json",sync:true,content:{abbv_name:_94},load:_3b});}},validateExtNarrativeSwiftInit2018:function(_95,_96){var _97=_95.trim();var _98=_97.split(/\n/);var _99=_98==""?0:_98.length;return _99>(_96?800:1000)?false:true;},validateRowExtNarrativeSwiftInit2018:function(_9a,_9b){var _9c=_9a.trim();var _9d=_9c.split(/\r*\n/);var _9e=_9d==""?0:_9d.length;var _9f=_9a.trim().length;var _a0=_9f==""?0:_9f;var _a1=_9e>(_9b?800:1000)?true:false;var _a2=_a0>(_9b?52000:65000)?true:false;return (_a1)||(_a2);},validateExtendedNarrativeSwift2018:function(_a3,_a4,_a5,_a6){var _a7=_a3.trim();var _a8=_a7.split(/\n/);var _a9=_a8==""?0:_a8.length+(_a4?_a4:0);var _aa=misys._config.swiftExtendedNarrativeEnabled?(_a6?(_a5?792:800):(_a5?992:1000)):100;return _a9>_aa?false:true;},checkClaimReferenceExists:function(){var _ab,_ac,_ad;if(dj.byId("claim_reference")){_ab=dj.byId("claim_reference").get("value");}if(dj.byId("product_code")){_ac=dj.byId("product_code").get("value");}if(dj.byId("company_id")){_ad=dj.byId("company_id").get("value");}if(_ab!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckClaimReferenceAction"),handleAs:"json",sync:true,content:{claim_ref:_ab,product_code:_ac,company_id:_ad},load:_3f});}},checkPoReferenceExists:function(){var _ae,_af,_b0,_b1,_b2;if(dj.byId("issuer_ref_id")){_ae=dj.byId("issuer_ref_id").get("value");}if(dj.byId("product_code")){_af=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_b0=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_b1=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_b2=dj.byId("ref_id").get("value");}if(_ae!==""&&_b0!==""&&_b1!==""){m.xhrPost({url:_2,handleAs:"json",sync:true,content:{poRef:_ae,productCode:_af,buyerAbbvName:_b0,sellerAbbvName:_b1,refId:_b2},load:_44});}},checkInvoiceReferenceExists:function(){var _b3,_b4,_b5,_b6,_b7;if(dj.byId("issuer_ref_id")){_b3=dj.byId("issuer_ref_id").get("value");}if(dj.byId("product_code")){_b4=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_b5=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_b6=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_b7=dj.byId("ref_id").get("value");}if(_b3!==""&&_b5!==""&&_b6!==""){m.xhrPost({url:_2,handleAs:"json",sync:true,content:{poRef:_b3,productCode:_b4,buyerAbbvName:_b5,sellerAbbvName:_b6,refId:_b7},load:_48});}},checkInvoiceCustReferenceExists:function(){var _b8,_b9,_ba,_bb,_bc;if(dj.byId("issuer_ref_id")){_b8=dj.byId("cust_ref_id").get("value");}if(dj.byId("product_code")){_b9=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_ba=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_bb=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_bc=dj.byId("ref_id").get("value");}if(_b8!==""&&_ba!==""&&_bb!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckCustReferenceAction"),handleAs:"json",sync:true,content:{custRef:_b8,productCode:_b9,buyerAbbvName:_ba,sellerAbbvName:_bb,refId:_bc},load:_4c});}},checkCnReferenceExists:function(){var _bd,_be,_bf,_c0,_c1,_c2;if(dj.byId("cn_reference")){_bd=dj.byId("cn_reference").get("value");}if(dj.byId("product_code")){_be=dj.byId("product_code").get("value");}else{if(dj.byId("productCode")){_be=dj.byId("productCode").get("value");}}if(dj.byId("buyer_abbv_name")){_bf=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_c0=dj.byId("seller_abbv_name").get("value");}if(dj.byId("fscm_programme_code")){_c1=dj.byId("fscm_programme_code").get("value");}if(dj.byId("ref_id")){_c2=dj.byId("ref_id").get("value");}if(_bd!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckCnReferenceAction"),handleAs:"json",sync:true,content:{cnReference:_bd,productCode:_be,buyerAbbvName:_bf,sellerAbbvName:_c0,fscmProgram:_c1,refId:_c2},load:_50});}},checkPoReferenceExistsIO:function(){var _c3,_c4,_c5,_c6,_c7;if(dj.byId("issuer_ref_id")){_c3=dj.byId("issuer_ref_id").get("value");}if(dj.byId("product_code")){_c4=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_c5=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_c6=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_c7=dj.byId("ref_id").get("value");}if(_c3!==""){m.xhrPost({url:_2,handleAs:"json",sync:true,content:{poRef:_c3,productCode:_c4,buyerAbbvName:_c5,sellerAbbvName:_c6,refId:_c7},load:_44});}},checkReportNameExists:function(){var _c8;var _c9;if(dj.byId("report_name")){_c8=dj.byId("report_name").get("value");}if(dj.byId("report_id")){_c9=dj.byId("report_id").get("value");}if(_c8!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckReportNameAction"),handleAs:"json",sync:true,content:{report_name:_c8,report_id:_c9},load:_54});}},checkLicenseNameExists:function(){var _ca;if(dj.byId("ls_name")){_ca=dj.byId("ls_name").get("value");}if(_ca!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckLsNameAction"),handleAs:"json",sync:true,content:{ls_Name:_ca},load:_58});}},checkFacilityReferenceExists:function(){var _cb;var _cc;var _cd;var _ce;if(dj.byId("facility_reference")){_cb=dj.byId("facility_reference").get("value");}if(dj.byId("facility_id")){_cc=dj.byId("facility_id").get("value");}if(dj.byId("company_abbv_name")){_ce=dj.byId("company_abbv_name").get("value");}if(dj.byId("bank_abbv_name")){_cd=dj.byId("bank_abbv_name").get("value");}if(_cb!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckFacilityReferenceAction"),handleAs:"json",sync:true,content:{facility_reference:_cb,facility_id:_cc,company_abbv_name:_ce,bank_abbv_name:_cd},load:_5d});}},checkEmployeeNoExists:function(){var _cf;var _d0;var _d1;var _d2;if(dj.byId("employee_no")){_cf=dj.byId("employee_no").get("value");}if(dj.byId("company_id")){_d0=dj.byId("company_id").get("value");}if(dj.byId("login_id_hidden")){_d1=dj.byId("login_id_hidden").get("value");}if(dj.byId("login_id")){_d2=dj.byId("login_id").get("value");}if(_cf!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEmployeeNoAction"),handleAs:"json",sync:true,content:{employee_no:_cf,company_id:_d0,login_id_hidden:_d1,login_id:_d2},load:_61});}},checkBankReference:function(){var _d3,_d4;var _d5=true;if(dj.byId("bo_ref_id")){_d3=dj.byId("bo_ref_id").get("value");}if(dj.byId("ref_id")){_d4=dj.byId("ref_id").get("value");}if(_d3!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateDuplicateBankReference"),sync:true,handleAs:"json",content:{bo_ref_id:_d3,refId:_d4},load:function(_d6,_d7){if(_d6.responseFlag==false){_d5=false;}else{}},error:function(_d8,_d9){console.error("checkBankReference AJAX error",_d8);}});}return _d5;},checkRMGroupExists:function(){var _da;var _db=true;if(dj.byId("rmGroup")){_da=dj.byId("rmGroup").get("value");}var _dc=dj.byId("company_id").get("value");if(_da!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckRMGroupExistsAction"),handleAs:"json",sync:false,content:{rm_group:_da,companyid:_dc},load:function(_dd,_de){var _df;if(dj.byId("rmGroup")){_df=dj.byId("rmGroup");}var _e0="";if(_dd.items.valid===false){if(_df!=undefined){_df.focus();_e0=m.getLocalization("rmGroupNoExists",[_dd.items.rmGroup]);_df.set("value","");_df.set("state","Error");dj.hideTooltip(_df.domNode);dj.showTooltip(_e0,_df.domNode,0);}_db=false;}else{}},error:function(_e1,_e2){_db=false;console.error(" processRepricingOfRecords error",_e1);}});}return _db;},validateFeeAccount:function(){var _e3="";var _e4=false;var _e5="";if(dj.byId("fee_act_no")){_e5=_e5=dj.byId("fee_act_no").get("value");}if(dj.byId("entity")){_e3=dj.byId("entity").get("value");}m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetStaticData"),sync:true,handleAs:"json",content:{option:"account",fields:"['fee_act_no']",productcode:"SI",entity:_e3},load:function(_e6,_e7){for(var i=0;i<_e6.items.length;i++){if(_e6.items[i].ACCOUNTNO==_e5){_e4=true;break;}}},error:function(_e8,_e9){console.error("validateFeeAccount AJAX error",_e8);}});return _e4;},validateApplDate:function(_ea){var _eb=true;var _ec;if(dj.byId("appl_date")){_ec=dj.byId("appl_date").get("value");}m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateApplDate"),sync:true,handleAs:"json",content:{bankAbbvName:_ea,applDate:_ec},load:function(_ed,_ee){if(_ed.items.valid==false){_eb=false;if(dj.byId("appl_date")){dj.byId("appl_date").set("value",_ed.items.bDate);dojo.byId("appl_date_view_row").childNodes[1].innerHTML=dj.byId("appl_date").get("value");}}}});return _eb;},goToTop:function(){var _ef=d.byId("body");if(d.isIE<=6){d.window.scrollIntoView(_ef);}else{dojox.fx.smoothScroll({node:_ef,win:window}).play();}},validatePricipleAccount:function(){var _f0="";var _f1="";var _f2=false;var _f3="";if(dj.byId("principal_act_no")){_f3=dj.byId("principal_act_no").get("value");}if(dj.byId("entity")){_f0=dj.byId("entity").get("value");}if(dj.byId("product_code")){_f1=dj.byId("product_code").get("value");}m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetStaticData"),sync:true,handleAs:"json",content:{option:"account",fields:"['principal_act_no']",productcode:_f1,entity:_f0},load:function(_f4,_f5){for(var i=0;i<_f4.items.length;i++){if(_f4.items[i].ACCOUNTNO==_f3){_f2=true;break;}}},error:function(_f6,_f7){console.error("validatePrincipleAccount AJAX error",_f6);}});return _f2;},checkEntityIdExists:function(){var _f8;var _f9;if(dj.byId("abbv_name")){_f8=dj.byId("abbv_name").get("value");}if(dj.byId("company_abbv_name")){_f9=dj.byId("company_id").get("value");}if(_f8!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEntityIdAction"),handleAs:"json",sync:true,content:{abbv_name:_f8,companyId:_f9},load:_3b});}},checkStructureCodeExists:function(){var _fa;if(dj.byId("structure_code")){_fa=dj.byId("structure_code").get("value");}if(_fa!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckStructureCodeExistsAction"),handleAs:"json",sync:true,content:{structureCode:_fa},load:_65});}},checkEffectiveDateExists:function(){var _fb;if(dj.byId("effective_date")){_fb=dj.byId("effective_date").get("displayedValue");}if(_fb!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEffectiveDateExistsAction"),handleAs:"json",sync:true,content:{effective_date:_fb},load:_69});}},validateCashRequestDate:function(){var _fc=dj.byId("appl_date");if(!m.compareDateFields(_fc,this)){this.invalidMessage=m.getLocalization("requestDateLessThanAppDateError",[_1a(this),_1a(_fc)]);return false;}var _fd=dj.byId("iss_date");if(!m.compareDateFields(_fd,this)){this.invalidMessage=m.getLocalization("requestDateLessThanProcessingDateError",[_1a(this),_1a(_fd)]);return false;}return true;},validateAlertDates:function(){var _fe=dj.byId("alert_date");var _ff=dj.byId("alert_date2");if(_fe&&_fe.get("value")!==""&&_ff&&_ff.get("value")!==""&&(!m.compareDateFields(_fe,_ff))){this.invalidMessage=m.getLocalization("alertToDateLessThanFromError",[_1a(_ff),_1a(_fe)]);_ff.set("state","Error");dj.showTooltip(this.invalidMessage,_ff.domNode,0);return false;}return true;},validateLoanTransactionTypeDropDown:function(){dj.byId("tnx_type_code_parameter").set("value","");dj.byId("sub_tnx_type_code_parameter").set("value","");dj.byId("sub_product_code_parameter").set("value","");var _100=(dj.byId("tnx_type_code_dropdown").get("value")).split(":");if(dj.byId("tnx_type_code_dropdown")&&dj.byId("tnx_type_code_dropdown")!=" "){var _101=dj.byId("tnx_type_code_parameter");var _102=dj.byId("sub_tnx_type_code_parameter");var _103=dj.byId("sub_product_code_parameter");if(_100.length>1){_101.set("value",_100[0]);_102.set("value",_100[1]);_103.set("value","");}else{_101.set("value",_100[0]);_103.set("value","LNRPN");_102.set("value","");}}},validateLoanTransactionStatusDropDown:function(){dj.byId("tnx_stat_code_parameter").set("value","");if(dj.byId("sub_tnx_stat_code_parameter")){dj.byId("sub_tnx_stat_code_parameter").set("value","");}if(dj.byId("tnx_stat_code_dropdown")&&dj.byId("tnx_stat_code_dropdown")!=" "){var _104=(dj.byId("tnx_stat_code_dropdown").get("value")).split(":");var _105=dj.byId("tnx_stat_code_parameter");var _106=dj.byId("sub_tnx_stat_code_parameter");if(_104.length>1){_105.set("value",_104[0]);_106.set("value",_104[1]);}else{_105.set("value",_104[0]);if(_106){_106.set("value","");}}}},isLegalTextAcceptedForAuthorizer:function(){var _107=false,_108;m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateAuthorizer"),handleAs:"json",sync:true,preventCache:true,content:{productCode:dj.byId("product_code")?dj.byId("product_code").get("value"):misys._config.productCode,subProductCode:dijit.byId("sub_product_code")?dijit.byId("sub_product_code").get("value"):"",tnxtype:dijit.byId("tnxtype").get("value")?dijit.byId("tnxtype").get("value"):dijit.byId("tnx_type_code").get("value"),option:dj.byId("option")?dj.byId("option").get("value"):"",subtnxtypeCode:dj.byId("sub_tnx_type_code")?dj.byId("sub_tnx_type_code").get("value"):"",xml:misys.formToXML({ignoreDisabled:true}),mode:dj.byId("mode")?dj.byId("mode").get("value"):"",operation:dj.byId("realform_operation")?dj.byId("realform_operation").get("value"):""},load:function(_109,_10a){_107=_109.isValid;_108=_109.errorMsg;},customError:function(_10b,_10c){console.error(" processRepricingOfRecords error",_10b);m._config=m._config||{};dojo.mixin(m._config,{legalTextEnabled:false});}});if(_107){var _10d=dijit.byId("legalDialog");if(!_10d){return true;}if(_10d.open===false){dj.byId("accept_legal_text").set("checked",false);dijit.byId("submitlegal").set("disabled",true);}m.dialog.connect(dj.byId("submitlegal"),"onClick",function(){_10d.hide();setTimeout(function(){m.acceptLegalText();},500);},_10d.id);m.dialog.connect(dj.byId("cancel"),"onClick",function(){m.dialog.disconnect(_10d);},_10d.id);m.dialog.connect(d.byId("legalDialog_close"),"onClick",function(){m.dialog.disconnect(_10d);});dijit.byId("alertDialog").hide();_10d.show();return false;}else{dojo.destroy("authorizer_id");dojo.destroy("legal_text_value");return true;}},validateCashProcessingDate:function(){if(!this.get("value")){return true;}var _10e=dj.byId("appl_date");if(!m.compareDateFields(_10e,this)){this.invalidMessage=m.getLocalization("processingDateLessThanAppDateError",[_1a(this),_1a(_10e)]);return false;}var _10f=dj.byId("iss_date");if(!m.compareDateFields(_10f,this)){this.invalidMessage=m.getLocalization("requestDateLessThanProcessingDateError",[_1a(this),_1a(_10f)]);return false;}if(this.get("value")!==""){var _110;var _111,_112;if(dj.byId("customer_bank")){_112=dj.byId("customer_bank").get("value");}else{if(dj.byId("bank_abbv_name")){_112=dj.byId("bank_abbv_name").get("value");}else{_112=dj.byId("issuing_bank_abbv_name").get("value");}}var _113,_114,_115;if(_112!==""&&misys&&misys._config&&misys._config.businessDateForBank&&misys._config.businessDateForBank[_112]&&misys._config.businessDateForBank[_112][0]&&misys._config.businessDateForBank[_112][0].value!==""){_113=parseInt(misys._config.businessDateForBank[_112][0].value.substring(0,4),10);_114=parseInt(misys._config.businessDateForBank[_112][0].value.substring(5,7),10);_115=parseInt(misys._config.businessDateForBank[_112][0].value.substring(8,10),10);_111=new Date(_113,_114-1,_115);}else{if(misys&&misys._config&&misys._config.bankBusinessDate&&misys._config.bankBusinessDate!==""){_113=parseInt(misys._config.bankBusinessDate.substring(0,4),10);_114=parseInt(misys._config.bankBusinessDate.substring(5,7),10);_115=parseInt(misys._config.bankBusinessDate.substring(8,10),10);_111=new Date(_113,_114-1,_115);}else{_111=new Date();}}_111.setHours(0,0,0,0);_110=d.date.compare(m.localizeDate(this),_111)<0?false:true;if(!_110){this.invalidMessage=m.getLocalization("processingDateGreaterThanCurrentDateError",[_1a(this)]);return false;}}return true;},validateEndDateWithCurrentDate:function(){if(!this.get("value")){return true;}var _116=this.get("value");var _117,_118;if(dj.byId("customer_bank")){_118=dj.byId("customer_bank").get("value");}else{if(dj.byId("bank_abbv_name")){_118=dj.byId("bank_abbv_name").get("value");}else{if(dj.byId("issuing_bank_abbv_name")){_118=dj.byId("issuing_bank_abbv_name").get("value");}}}var _119,_11a,_11b;if(_118!==""&&misys&&misys._config&&misys._config.businessDateForBank&&misys._config.businessDateForBank[_118]&&misys._config.businessDateForBank[_118][0]&&misys._config.businessDateForBank[_118][0].value!==""){_119=parseInt(misys._config.businessDateForBank[_118][0].value.substring(0,4),10);_11a=parseInt(misys._config.businessDateForBank[_118][0].value.substring(5,7),10);_11b=parseInt(misys._config.businessDateForBank[_118][0].value.substring(8,10),10);_117=new Date(_119,_11a-1,_11b);}else{if(misys&&misys._config&&misys._config.bankBusinessDate&&misys._config.bankBusinessDate!==""){_119=parseInt(misys._config.bankBusinessDate.substring(0,4),10);_11a=parseInt(misys._config.bankBusinessDate.substring(5,7),10);_11b=parseInt(misys._config.bankBusinessDate.substring(8,10),10);_117=new Date(_119,_11a-1,_11b);}else{_117=new Date();}}_117.setHours(0,0,0,0);var _11c=d.date.compare(m.localizeDate(this),_117)<0?false:true;if(!_11c){this.invalidMessage=m.getLocalization("endDateSmallerThanCurrentDate",[_1a(this)]);return false;}return true;},validateTradeExpiryDate:function(){if(!this.get("value")){return true;}var _11d=dj.byId("appl_date");if(!m.compareDateFields(_11d,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanAppDateError",[_1a(this),_1a(_11d)]);return false;}var _11e=dj.byId("iss_date");if((_11e)&&(!m.compareDateFields(_11e,this))){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(_11e),_1a(this)]);return false;}var _11f=dj.byId("org_previous_exp_date");if((_11f)&&(!m.compareDateFields(_11f,this))){this.invalidMessage=m.getLocalization("orgExpDateGreaterThanExpiryDateError",[_1a(this),_1a(_11f)]);return false;}var _120=dj.byId("amd_date");if((_120)&&(!m.compareDateFields(_120,this))){this.invalidMessage=m.getLocalization("ExpiryDateLessThanamendDate",[_1a(this),_1a(_120)]);return false;}var _121=dj.byId("last_ship_date");if((_121)&&(!m.compareDateFields(_121,this))){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(this),_1a(_121)]);return false;}var _122=dj.byId("org_last_ship_date");if((_121&&_121.get("value")==null)&&(_122&&!m.compareDateFields(_122,this))){this.invalidMessage=m.getLocalization("newexpiryDateLessThanOldShipmentError",[_1a(_122),_1a(this)]);return false;}var _123=dj.byId("renewal_calendar_date");if(_123){if(_123.get("value")!=null&&this.get("value")!=null&&(_123.get("value")>this.get("value"))){var _124=dojo.date.locale.format(_123.get("value"),{selector:"date",formatLength:"short",locale:dojo.config.locale});var _125=dojo.date.locale.format(this.get("value"),{selector:"date",formatLength:"short",locale:dojo.config.locale});_123.invalidMessage=m.getLocalization("calendarDateLessThanSystemDate",[_124,_125]);_123.set("state","Error");}else{if(_123.get("value")!=null&&this.get("value")!=null&&_123.get("value")<=this.get("value")){_123.set("state","");}}}var _126=dj.byId("next_revolve_date");if(_126&&!m.compareDateFields(_126,this)){this.invalidMessage=m.getLocalization("expDateLessThanNextRevolveDateError",[_1a(_126),_1a(this)]);return false;}if(!m._config.isBank){var _127=this.get("value");var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(this)]);return false;}}return true;},validateEnteredDateGreaterThanCurrentDate:function(){if(!m._config.isBank||(m._config.isBank&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")==="03"||dj.byId("prod_stat_code").get("value")==="08")){var _128=dj.byId("maturity_date");if(this.get("value")!=null){var days=_11(this);if(days<0){m.dialog.show("ERROR",m.getLocalization("lessthanCurrentDate"));_128.set("value"," ");return false;}}}return true;},validateAmendBGTradeExpiryDate:function(){var _129=dj.byId("amd_date");if((_129)&&(!m.compareDateFields(_129,this))){this.invalidMessage=m.getLocalization("ExpiryDateLessThanamendDate",[_1a(this),_1a(_129)]);return false;}var _12a=this.get("value");var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(this)]);return false;}var _12b=dj.byId("renewal_calendar_date");if(_12b){if(_12b.get("value")!=null&&this.get("value")!=null&&(_12b.get("value")>this.get("value"))){this.invalidMessage=m.getLocalization("expiryDateLessThanRenewalDate",[_1a(_12b)]);return false;}}return true;},validateContractDate:function(){if(!this.get("value")){return true;}var _12c=dj.byId("appl_date");if(!m.compareDateFields(this,_12c)){this.invalidMessage=m.getLocalization("contractDateGreaterThanApplicationDateError",[_1a(this),_1a(_12c)]);return false;}return true;},validateBaseDate:function(){if(!this.get("value")){return true;}var _12d=dj.byId("appl_date");if(!m.compareDateFields(this,_12d)){this.invalidMessage=m.getLocalization("baseDateGreaterThanApplicationDateError",[_1a(this),_1a(_12d)]);return false;}return true;},validateDocumentDate:function(){if(!this.get("value")){return true;}var _12e=dj.byId("appl_date");if(!m.compareDateFields(this,_12e)){this.invalidMessage=m.getLocalization("documentDateGreaterThanApplicationDateError",[_1a(this),_1a(_12e)]);m._config.errorField.push(this);return false;}if(!(this.get("state")==="Error")){m._config.errorField=[];}return true;},validateTenderExpiryDate:function(){if(!this.get("value")){return true;}var _12f=dj.byId("appl_date");if(!m.compareDateFields(_12f,this)){this.invalidMessage=m.getLocalization("tenderExpDateLessThanApplicationDateError",[_1a(this),_1a(_12f)]);return false;}var _130=dj.byId("exp_date");if((_130)&&(!m.compareDateFields(this,_130))){this.invalidMessage=m.getLocalization("expDateGreaterThanTenderExpiryDateError",[_1a(this),_1a(_130)]);return false;}return true;},validateMessageTradeExpiryDate:function(){if(!this.get("value")){return true;}var _131=dj.byId(this.id);var _132=dj.byId("org_exp_date");if(!m.compareDateFields(_132,_131)){this.invalidMessage=m.getLocalization("expiryDateSmallerThanOrgExpiryDate",[_1a(_131),_1a(_132)]);return false;}var _133=dj.byId("iss_date");if(!m.compareDateFields(_133,_131)){this.invalidMessage=m.getLocalization("expiryDateSmallerThanIssueDate",[_1a(_131),_1a(_133)]);return false;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(_131)]);return false;}return true;},validateMessageTransferTradeExpiryDate:function(){if(!this.get("value")){return true;}var _134=dj.byId(this.id);var _135=dj.byId("org_exp_date");if(!m.compareDateFields(_134,_135)){this.invalidMessage=m.getLocalization("expiryDateBiggerThanOrgExpiryDate",[_1a(_134),_1a(_135)]);return false;}var _136=dj.byId("iss_date");if(!m.compareDateFields(_136,_134)){this.invalidMessage=m.getLocalization("expiryDateSmallerThanIssueDate",[_1a(_134),_1a(_136)]);return false;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(_134)]);return false;}return true;},validateFreeFormatMessage:function(){if(dj.byId("free_format_text").get("value")===""||dj.byId("free_format_text").get("value")===null){this.invalidMessage=m.getLocalization("requiredToolTip");return false;}else{return true;}},validateTradeMaturityDate:function(){if(!this.get("value")){return true;}var _137=dj.byId("appl_date");if(!m.compareDateFields(_137,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanAppDateError",[_1a(this),_1a(_137)]);return false;}return true;},validateAWBIssueDate:function(){if(!this.get("value")){return true;}var _138=dj.byId("appl_date");if(!m.compareDateFields(_138,this)){this.invalidMessage=m.getLocalization("awbIssueDateLessThanAppDateError",[_1a(this),_1a(_138)]);return false;}return true;},validateOrderedDates:function(_139,_13a,_13b,_13c){if(!this.get("value")){return true;}var _13d=dj.byId(_13b);if(!m.compareDateFields(this,_13d)){this.invalidMessage=m.getLocalization(_13c,[_1a(this),_1a(_13d)]);return false;}var _13e=dj.byId(_13a);if(!m.compareDateFields(_13e,this)){this.invalidMessage=m.getLocalization(_13c,[_1a(_13e),_1a(this)]);return false;}return true;},validateDateGreaterThan:function(_13f,_140,_141){if(!this.get("value")){return true;}var _142;if(!_140){_142=dj.byId("appl_date");}else{_142=dj.byId(_140);}if(!m.compareDateFields(_142,this)){this.invalidMessage=m.getLocalization(_141,[_1a(this),_1a(_142)]);return false;}return true;},validateDateSmallerThan:function(_143,_144,_145){if(!this.get("value")){return true;}var _146=dj.byId(_144);if(!m.compareDateFields(this,_146)){this.invalidMessage=m.getLocalization(_145,[_1a(this),_1a(_146)]);return false;}return true;},validateLastShipmentDate:function(){if(!this.get("value")){return true;}var _147=dj.byId("exp_date");if(!m.compareDateFields(this,_147)){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(_147),_1a(this)]);return false;}if(_147&&_147.get("value")==null){var _148=dj.byId("org_exp_date");if(_148&&!m.compareDateFields(this,_148)){this.invalidMessage=m.getLocalization("originalexpiryDateLessThanLastShipmentError",[_1a(_148),_1a(this)]);return false;}}var _149=dj.byId("due_date");if(!m.compareDateFields(this,_149)){this.invalidMessage=m.getLocalization("dueDateLessThanLastShipmentError",[_1a(_149),_1a(this)]);return false;}return true;},validateMessageTransferLastShipmentDate:function(){if(!this.get("value")){return true;}var _14a=dj.byId("exp_date");if(!m.compareDateFields(this,_14a)){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(_14a),_1a(this)]);return false;}var _14b=dj.byId(this.id);var _14c=dj.byId("org_last_ship_date");if(!m.compareDateFields(_14b,_14c)){this.invalidMessage=m.getLocalization("lastShipDateBiggerThanOrgLastShipDate",[_1a(_14b),_1a(_14c)]);return false;}return true;},validateRenewFor:function(){if(!isNaN(dj.byId("renew_for_nb").get("value"))){var _14d=dj.byId("renew_for_nb").get("value")+"";if(_14d.indexOf(".")!==-1){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_14d<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateDaysNotice:function(){if(!isNaN(dj.byId("advise_renewal_days_nb").get("value"))){var _14e=dj.byId("advise_renewal_days_nb").get("value")+"";if(_14e.indexOf(".")!==-1){dj.byId("advise_renewal_days_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_14e<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateRollingFrequency:function(){if(!isNaN(dj.byId("rolling_renew_for_nb").get("value"))){var _14f=dj.byId("rolling_renew_for_nb").get("value")+"";if(_14f.indexOf(".")!==-1){dj.byId("rolling_renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_14f<=0){dj.byId("rolling_renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateNumberOfRenewals:function(){if(!isNaN(dj.byId("rolling_renewal_nb").get("value"))){var _150=dj.byId("rolling_renewal_nb").get("value")+"";if(_150.indexOf(".")!==-1){dj.byId("rolling_renewal_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_150<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateCancellationNotice:function(){if(!isNaN(dj.byId("rolling_cancellation_days").get("value"))){var _151=dj.byId("rolling_cancellation_days").get("value")+"";if(_151.indexOf(".")!==-1){dj.byId("rolling_cancellation_days").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_151<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateTolerance:function(){var _152=(dj.byId("DrawingTolerence_spl")&&dj.byId("DrawingTolerence_spl").get("value")==="true");var _153=dj.byId("max_cr_desc_code")?dj.byId("max_cr_desc_code").get("value"):"";if(_152&&_153==3){if(dj.byId("pstv_tol_pct").get("value")!=0){dj.byId("pstv_tol_pct").set("value","0");}if(dj.byId("neg_tol_pct").get("value")!=5){dj.byId("neg_tol_pct").set("value","5");}dj.byId("pstv_tol_pct").set("readOnly",true);dj.byId("neg_tol_pct").set("readOnly",true);if(!isNaN(this.get("value"))&&this.get("value")<0){return false;}return true;}else{var _154=dj.byId("max_cr_desc_code");if(!(isNaN(this.get("value"))||this.get("value")=="")&&_154&&_154.get("value")){this.invalidMessage=m.getLocalization("toleranceExclusivityError");return false;}else{if(!isNaN(this.get("value"))&&this.get("value")<0){return false;}else{if(dj.byId("pstv_tol_pct").displayedValue==="."&&this.id!=="neg_tol_pct"){this.invalidMessage=m.getLocalization("invalidMessage");return false;}else{if(dj.byId("neg_tol_pct").displayedValue==="."&&this.id!=="pstv_tol_pct"){this.invalidMessage=m.getLocalization("invalidMessage");return false;}}}}return true;}},validateMaxCreditTerm:function(){var _155=dj.byId("DrawingTolerence_spl").get("value")==="true";var _156=dj.byId("max_cr_desc_code");if(_155&&_156==3){d.forEach(dj.byId("max_cr_desc_code").store.root.children,function(_157){if((dj.byId("max_cr_desc_code").get("displayedValue")===_157.text)){_158=true;}});dj.byId("pstv_tol_pct").set("value","0");dj.byId("neg_tol_pct").set("value","5");dj.byId("pstv_tol_pct").set("readOnly",true);dj.byId("neg_tol_pct").set("readOnly",true);return true;}else{dj.byId("pstv_tol_pct").set("readOnly",false);dj.byId("neg_tol_pct").set("readOnly",false);if(this.get("value")&&((!isNaN(dj.byId("pstv_tol_pct").get("value"))||!isNaN(dj.byId("neg_tol_pct").get("value")))&&!(dj.byId("pstv_tol_pct").get("value")==""&&dj.byId("neg_tol_pct").get("value")==""))){this.invalidMessage=m.getLocalization("toleranceExclusivityError");return false;}else{var _158=false;d.forEach(dj.byId("max_cr_desc_code").store.root.children,function(_159){if((dj.byId("max_cr_desc_code").get("displayedValue")===_159.text)){_158=true;}});}return _158;}},validateCurrency:function(){var _15a=this.get("value"),_15b=true,that=this;if(!_15a){return true;}if(_15a.length!==3){return false;}if(!m._config.currencyCodes||m._config.currencyCodes.length<1){m._config=m._config||{};d.mixin(m._config,{currencyCodes:[]});m.xhrGet({url:_3,handleAs:"json",contentType:_c,content:{bank_abbv_name:(dj.byId("bank_abbv_name")&&misys._config.isMultiBank===true)?dj.byId("bank_abbv_name").get("value"):""},preventCache:true,sync:true,load:function(_15c,args){m._config.currencyCodes=_15c.currencyCodesJsonArray;},error:function(_15d,args){console.error(_9,_15d);}});}if(d.indexOf(m._config.currencyCodes,_15a)===-1){that.invalidMessage=m.getLocalization("invalidCurrencyError",[that.get("displayedValue")]);_15b=false;}return _15b;},validateCurrencyObj:function(_15e){var _15f=_15e.get("value");var _160=true;var that=_15e;var _161="";if(!_15f){return true;}if(_15f.length!==3){_161=m.getLocalization("invalidCurrencyError",[that.get("value")]);that.focus();that.set("value","");dijit.hideTooltip(that.domNode);dijit.showTooltip(_161,that.domNode,0);setTimeout(function(){dijit.hideTooltip(that.domNode);},2000);return false;}if(!m._config.currencyCodes||m._config.currencyCodes.length<1){m._config=m._config||{};d.mixin(m._config,{currencyCodes:[]});m.xhrGet({url:_3,handleAs:"json",contentType:_c,content:{bank_abbv_name:(dj.byId("bank_abbv_name")&&misys._config.isMultiBank===true)?dj.byId("bank_abbv_name").get("value"):""},preventCache:true,sync:true,load:function(_162,args){m._config.currencyCodes=_162.currencyCodesJsonArray;},error:function(_163,args){console.error(_9,_163);}});}if(d.indexOf(m._config.currencyCodes,_15f)===-1){_161=m.getLocalization("invalidCurrencyError",[that.get("value")]);that.focus();that.set("value","");dijit.hideTooltip(that.domNode);dijit.showTooltip(_161,that.domNode,0);setTimeout(function(){dijit.hideTooltip(that.domNode);},2000);_160=false;}return _160;},validateUserAccountNumber:function(){if(misys._config.userAccountValidationEnabled==="false"){return true;}else{var _164=this.get("value"),_165=true,that=this;var _166=new RegExp(misys._config.userAccountValidationRegex);if(_164!==""&&_164!==null){_165=_166.test(_164);}if(!_165){var _167=that.get("displayedValue");if(_167){_167=_167.replace(/</g,"&lt;");_167=_167.replace(/>/g,"&gt;");}that.invalidMessage=m.getLocalization("invalidUserAccountNumber",[_167]);_165=false;}return _165;}},validateCurrencyCode:function(_168){var _169=_168,_16a=true,that=this;if(!_169){return true;}if(_169.length!==3){return false;}if(!m._config.currencyCodes||m._config.currencyCodes.length<1){m._config=m._config||{};d.mixin(m._config,{currencyCodes:[]});m.xhrGet({url:_3,handleAs:"json",contentType:_c,preventCache:true,sync:true,load:function(_16b,args){m._config.currencyCodes=_16b.currencyCodesJsonArray;},error:function(_16c,args){console.error(_9,_16c);}});}if(d.indexOf(m._config.currencyCodes,_169)===-1){_16a=false;}return _16a;},validateCountry:function(){var _16d=this.get("value"),_16e=true,that=this;if(!_16d){return true;}if(_16d.length!==2){return false;}if(!m._config.countryCodes||m._config.countryCodes.length<1){m._config=m._config||{};d.mixin(m._config,{countryCodes:[]});m.xhrGet({url:m.getServletURL("/screen/AjaxScreen/action/GetCountryCodes"),handleAs:"json",contentType:_c,preventCache:true,sync:true,load:function(_16f,args){m._config.countryCodes=_16f.countryCodesJsonArray;},error:function(_170,args){console.error("[misys.validation.common] validateCountry error",_170);}});}if(d.indexOf(m._config.countryCodes,_16d)===-1){that.invalidMessage=m.getLocalization("invalidCountryError",[that.get("displayedValue")]);_16e=false;}return _16e;},validateExecDate:function(){var _171=dj.byId("appl_date");if(!m.compareDateFields(this,_171)){this.invalidMessage=m.getLocalization("executionDateLessThanAppDateError",[_1a(this),_1a(_171)]);return false;}return true;},validateIssueDate:function(){if(!this.get("value")){return true;}var _172=dj.byId("product_code");if(_172&&_172.get("value")!=="SR"&&_172.get("value")!=="BR"&&_172.get("value")!=="EL"&&_172.get("value")!=="LS"){var _173=dj.byId("appl_date");if(!m.compareDateFields(_173,this)){this.invalidMessage=m.getLocalization("issueDateLessThanAppDateError",[_1a(this),_1a(_173)]);return false;}}if(dj.byId("tenor_maturity_date")&&dj.byId("tenor_maturity_date").get("value")!=null){var _174=dj.byId("tenor_maturity_date");if(!m.compareDateFields(this,_174)){this.invalidMessage=m.getLocalization("IssueDateGreaterThanMaturityDateError",[_1a(this),_1a(_174)]);return false;}}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _175=dj.byId("exp_date");if(!m.compareDateFields(this,_175)){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(this),_1a(_175)]);return false;}}if(dj.byId("product_code")&&dj.byId("product_code").get("value")==="LS"){var _176=dj.byId("bankDate")&&dj.byId("bankDate").get("value")!=null?dj.byId("bankDate").get("value"):"";var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("issueDateGreaterThanCurrentDateError",[_1a(this)]);return false;}if(dj.byId("reg_date")){var _177=dj.byId("reg_date");if(!m.compareDateFields(_177,this)){this.invalidMessage=m.getLocalization("issDateLessThanRegDateError",[_1a(this),_1a(_177)]);return false;}}}if(dj.byId("valid_from_date")&&dj.byId("valid_from_date").get("value")!=null){var _178=dj.byId("valid_from_date");if(!m.compareDateFields(this,_178)){this.invalidMessage=m.getLocalization("issueDateGreaterThanValidFromDateError",[_1a(this),_1a(_178)]);return false;}}if(dj.byId("valid_to_date")&&dj.byId("valid_to_date").get("value")!=null){var _179=dj.byId("valid_to_date");if(!m.compareDateFields(this,_179)){this.invalidMessage=m.getLocalization("issueDateGreaterThanValidToDateError",[_1a(this),_1a(_179)]);return false;}}if(dj.byId("latest_payment_date")&&dj.byId("latest_payment_date").get("value")!=null){var _17a=dj.byId("latest_payment_date");if(!m.compareDateFields(this,_17a)){this.invalidMessage=m.getLocalization("issueDateGreaterThanLatestPaymentDateError",[_1a(this),_1a(_17a)]);return false;}}if((dj.byId("tnxtype")&&(dj.byId("tnxtype").get("value")!=="38"))||(dj.byId("close_tnx")&&(dj.byId("close_tnx").get("checked")===false))){if(dj.byId("product_code")&&(dj.byId("product_code").get("value")==="IO"||dj.byId("product_code").get("value")==="EA")){var _17b=dj.byId("last_match_date");if((_17b&&_17b.get("value")!=null)&&(!m.compareDateFields(this,_17b))){this.invalidMessage=m.getLocalization("issueDateLessThanLastMatchDateError",[_1a(this),_1a(_17b)]);return false;}}}return true;},validateEffectiveIssueDate:function(){if(!this.get("value")){return true;}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _17c=dj.byId("exp_date");if(!m.compareDateFields(this,_17c)){this.invalidMessage=m.getLocalization("effectiveDateGreaterThanExpiryDateError",[_1a(this),_1a(_17c)]);return false;}}var _17d=dj.byId("appl_date");if(_17d&&_17d.get("value")!=null){if(!m.compareDateFields(_17d,this)){this.invalidMessage=m.getLocalization("AppDateMoreThanEffectiveDateError",[_1a(this),_1a(_17d)]);return false;}}return true;},validatePaymentDueDate:function(){if(!this.get("value")){return true;}var _17e=dj.byId("appl_date");if(!m.compareDateFields(_17e,this)){this.invalidMessage=m.getLocalization("paymentDueDateDateLessThanAppDateError",[_1a(this),_1a(_17e)]);return false;}return true;},validateMOProdIssueDate:function(){if(!this.get("value")){return true;}var _17f=dj.byId("appl_date");if(!m.compareDateFields(this,_17f)){this.invalidMessage=m.getLocalization("issueDateMoreThanAppDateError",[_1a(this),_1a(_17f)]);return false;}if(dj.byId("tenor_maturity_date")&&dj.byId("tenor_maturity_date").get("value")!=null){var _180=dj.byId("tenor_maturity_date");if(!m.compareDateFields(this,_180)){this.invalidMessage=m.getLocalization("IssueDateGreaterThanMaturityDateError",[_1a(this),_1a(_180)]);return false;}}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _181=dj.byId("exp_date");if(!m.compareDateFields(this,_181)){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(this),_1a(_181)]);return false;}}return true;},validateMOProdELIssueDate:function(){if(!this.get("value")){return true;}if(dj.byId("tenor_maturity_date")&&dj.byId("tenor_maturity_date").get("value")!=null){var _182=dj.byId("tenor_maturity_date");if(!m.compareDateFields(this,_182)){this.invalidMessage=m.getLocalization("IssueDateGreaterThanMaturityDateError",[_1a(this),_1a(_182)]);return false;}}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _183=dj.byId("exp_date");if(!m.compareDateFields(this,_183)){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(this),_1a(_183)]);return false;}}return true;},validateMaturityDate:function(){if(!this.get("value")){return true;}var _184=dj.byId("appl_date");if(!m.compareDateFields(_184,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanAppDateError",[_1a(this),_1a(_184)]);return false;}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!=null){var _185=dj.byId("iss_date");if(!m.compareDateFields(_185,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanIssueDateError",[_1a(this),_1a(_185)]);return false;}}return true;},validateLatestAnswerDate:function(){if(!this.get("value")){return true;}var _186=dj.byId("iss_date");if(!m.compareDateFields(_186,this)){this.invalidMessage=m.getLocalization("lastAnwerDateLessThanIssDateError",[_1a(this),_1a(_186)]);return false;}var _187=dj.byId("exp_date");if(!m.compareDateFields(this,_187)){this.invalidMessage=m.getLocalization("lastAnswerDateGreaterThanExpDateError",[_1a(this),_1a(_187)]);return false;}return true;},validateLCAvailableAmt:function(){var _188;if(dj.byId("lc_available_amt").get("value")>0){if(dj.byId("lc_amt")&&dj.byId("lc_available_amt")&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")=="03"&&(dj.byId("lc_amt").get("value")!=dj.byId("lc_available_amt").get("value"))){_188=function(){var _189=dijit.byId("lc_available_amt");_189.focus();_189.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("AvailLCAmtNotEqualToTranAmt"),"",function(){setTimeout(_188,500);});}else{if(dj.byId("lc_amt")&&dj.byId("lc_available_amt")&&(dj.byId("lc_amt").get("value")<dj.byId("lc_available_amt").get("value"))){_188=function(){var _18a=dijit.byId("lc_available_amt");_18a.focus();_18a.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("AvailLCamtcanNotMoreThanTranAmt"),"",function(){setTimeout(_188,500);});}}}},validateLCLiabAmt:function(){var _18b;if(dj.byId("lc_liab_amt").get("value")>0){if(dj.byId("lc_amt")&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")==="03"&&(dj.byId("lc_amt").get("value")>dj.byId("lc_liab_amt").get("value"))){_18b=function(){var _18c=dijit.byId("lc_liab_amt");_18c.focus();_18c.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("LiabLCAmtcanNotLessThanTranAmt"),"",function(){setTimeout(_18b,500);});}}},validateTFMaturityDate:function(){var _18d=dj.byId("appl_date");if(!m.compareDateFields(_18d,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanAppDateError",[_1a(this),_1a(_18d)]);return false;}var _18e=dj.byId("iss_date");if(!m.compareDateFields(_18e,this)){this.invalidMessage=m.getLocalization("issueDateGreaterThanMaturityError",[_1a(_18e),_1a(this)]);return false;}return true;},validateAmendAmount:function(_18f,node,_190){var _191=dj.byId(node);_191.invalidMessage=_191.messages.invalidMessage;if(!_191.validator(_191.textbox.value,_191.constraints)){return false;}if(_191&&_191.get("value")<0){return false;}var _192=(_191.state==="Error")?false:true;if(false===_18f||(true===_18f&&!_192)){_192=true;var _193=_191.id;var _194=d.number.parse(dj.byId("org_"+_190+"_amt").get("value"));if(_193==="inc_amt"){var _195=_191.get("value");if((!isNaN(_195))&&((_195+_194)>Number.MAX_VALUE)){_191.invalidMessage=m.getLocalization("maximumValueError");_192=false;}}else{if(_193==="dec_amt"){var _196=_191.get("value");if((!isNaN(_196))&&((_194-_196)<0)){_191.invalidMessage=m.getLocalization("amendAmountLessThanOriginalError");_192=false;}}}}return _192;},validateTransferAmount:function(){var _197=this.get("value"),_198=d.number.parse(dj.byId("org_lc_amt").get("value"));if(_197&&_198&&_198<_197){this.invalidMessage=m.getLocalization("transferAmtGreaterThanLCAmtError");return false;}return true;},validateStartDate:function(){if(!this.get("value")){return true;}var _199=dj.byId("appl_date");if(!m.compareDateFields(_199,this)){this.invalidMessage=m.getLocalization("startDateLessThanAppDateError",[_1a(this),_1a(_199)]);return false;}var _19a=dj.byId("end_date");if(!m.compareDateFields(this,_19a)){this.invalidMessage=m.getLocalization("startDateGreaterThanEndDateError",[_1a(this),_1a(_19a)]);return false;}var _19b=dj.byId("registered_end_date");if(!m.compareDateFields(this,_19b)){this.invalidMessage=m.getLocalization("startDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_19b)]);return false;}return true;},validateEndDate:function(){if(!this.get("value")){return true;}var _19c=dj.byId("start_date");if(!m.compareDateFields(_19c,this)){this.invalidMessage=m.getLocalization("endDateLessThanStartDateError",[_1a(this),_1a(_19c)]);return false;}var _19d=dj.byId("registered_end_date");if(!m.compareDateFields(this,_19d)){this.invalidMessage=m.getLocalization("endDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_19d)]);return false;}return true;},validateNewsStartDate:function(){if(!this.get("value")){return true;}var _19e=dj.byId("start_display_date");var _19f=dj.byId("end_display_date");if(!m.compareDateFields(this,_19f)){this.invalidMessage=m.getLocalization("newsStartDateGreaterThanEndDateError",[_1a(this),_1a(_19f)]);return false;}var _1a0,_1a1;if((_19e)&&(_19e.get("value")!=="")){_1a0=new Date();_1a0.setHours(0,0,0,0);_1a1=d.date.compare(m.localizeDate(_19e),_1a0)<0?false:true;if(!_1a1){_19e.state="Error";_19e.set("focusonerror",true);_19e.invalidMessage=m.getLocalization("startDateGreaterThanCurrentDateError",[_1a(_19e)]);_19e._setStateClass();dj.setWaiState(_19e.focusNode,"invalid","true");return false;}}return true;},validateNewsEndDate:function(){if(!this.get("value")){return true;}var _1a2=dj.byId("start_display_date");var _1a3=dj.byId("end_display_date");if(!m.compareDateFields(_1a2,this)){this.invalidMessage=m.getLocalization("newsEndDateLesserThanStartDateError",[_1a(this),_1a(_1a2)]);return false;}var _1a4,_1a5;if((_1a3)&&(_1a3.get("value")!=="")){_1a4=new Date();_1a4.setHours(0,0,0,0);_1a5=d.date.compare(m.localizeDate(_1a3),_1a4)<0?false:true;if(!_1a5){_1a3.state="Error";_1a3.set("focusonerror",true);_1a3.invalidMessage=m.getLocalization("endDateGreaterThanCurrentDateError",[_1a(_1a3)]);_1a3._setStateClass();dj.setWaiState(_1a3.focusNode,"invalid","true");return false;}}return true;},validateTransferDateCustomer:function(){var _1a6,_1a7;if(!this.get("value")){return true;}var _1a8="";if(dj.byId("customer_bank")){_1a8=dj.byId("customer_bank").get("value");}if(_1a8===""){_1a8=dj.byId("issuing_bank_abbv_name").get("value");}var _1a9=dj.byId("appl_date");if(!m.compareDateFields(_1a9,this)){this.invalidMessage=m.getLocalization("transferDateLessThanAppDateError",[_1a(this),_1a(_1a9)]);return false;}if(dj.byId("sub_product_code").get("value")==="BILLP"||dj.byId("sub_product_code").get("value")==="BILLS"){var _1aa=dj.byId("registered_end_date");if(!m.compareDateFields(this,_1aa)){this.invalidMessage=m.getLocalization("transferDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_1aa)]);return false;}}if(this.get("value")!==""){var _1ab=parseInt(misys._config.businessDateForBank[_1a8][0].value.substring(0,4),10);var _1ac=parseInt(misys._config.businessDateForBank[_1a8][0].value.substring(5,7),10);var _1ad=parseInt(misys._config.businessDateForBank[_1a8][0].value.substring(8,10),10);_1a6=new Date(_1ab,_1ac-1,_1ad);_1a6.setHours(0,0,0,0);_1a7=d.date.compare(m.localizeDate(this),_1a6)<0?false:true;if(!_1a7){this.invalidMessage=m.getLocalization("transferDateGreaterThanCurrentDateError",[_1a(this)]);return false;}}return true;},validateTransferDateWithCurrentDate:function(_1ae){var _1af,_1b0;if((_1ae)&&(_1ae.get("value")!=="")){_1af=new Date();_1af.setHours(0,0,0,0);_1b0=d.date.compare(m.localizeDate(_1ae),_1af)<0?false:true;if(!_1b0){_1ae.state="Error";_1ae.set("focusonerror",true);_1ae.invalidMessage=m.getLocalization("transferDateGreaterThanCurrentDateError",[_1a(_1ae)]);_1ae._setStateClass();dj.setWaiState(_1ae.focusNode,"invalid","true");return false;}}return true;},validateTransferDate:function(){if(!this.get("value")){return true;}var _1b1=dj.byId("appl_date");if(!m.compareDateFields(_1b1,this)){this.invalidMessage=m.getLocalization("transferDateLessThanAppDateError",[_1a(this),_1a(_1b1)]);return false;}if(dj.byId("sub_product_code").get("value")==="BILLP"||dj.byId("sub_product_code").get("value")==="BILLS"){var _1b2=dj.byId("registered_end_date");if(!m.compareDateFields(this,_1b2)){this.invalidMessage=m.getLocalization("transferDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_1b2)]);return false;}}return true;},validateTransferExpiryDate:function(){if(!this.get("value")){return true;}var _1b3=dj.byId("iss_date");if(!m.compareDateFields(_1b3,this)){this.invalidMessage=m.getLocalization("transferExpiryDateLessThanIssueDateError",[_1a(this),_1a(_1b3)]);return false;}var _1b4=dj.byId("exp_date");if(!m.compareDateFields(this,_1b4)){this.invalidMessage=m.getLocalization("transferExpiryDateGreaterThanExpiryDateError",[_1a(this),_1a(_1b4)]);return false;}return true;},validateTransferLastShipmentDate:function(){if(!this.get("value")){return true;}var _1b5=dj.byId("transfer_expiry_date");if(!m.compareDateFields(this,_1b5)){this.invalidMessage=m.getLocalization("transferLastShipmentDateLessThanTransferExpiryDateError",[_1a(this),_1a(_1b5)]);return false;}return true;},validateValueApplicationDate:function(){var _1b6=this;if(_1b6&&!_1b6.get("value")){return true;}var _1b7=dj.byId("appl_date");var _1b8=d.date.compare(m.localizeDate(_1b6),m.localizeDate(_1b7))<0?false:true;if(!_1b8){_1b6.state="Error";_1b6.set("focusonerror",true);_1b6.invalidMessage=m.getLocalization("valueDateIsLessThanApplDateError",[_1a(_1b6),_1a(_1b7)]);_1b6._setStateClass();dj.setWaiState(_1b6.focusNode,"invalid","true");return false;}return true;},validateTransferNumbers:function(){if(!this.get("value")){return true;}if(this.get("value")<0||this.get("value")>999){this.invalidMessage=m.getLocalization("invalidTransferNumbers");return false;}return true;},validateBlankEndorsedPercentage:function(){if(!this.get("value")){return true;}if(this.get("value")<110||this.get("value")>999){this.invalidMessage=m.getLocalization("invalidBlankEndorsedPercentage");return false;}return true;},validateAmendmentDate:function(){var _1b9=this.get("value");if(!m._config.isBank||(m._config.isBank&&dj.byId("prod_stat_code")&&(dj.byId("prod_stat_code").get("value")==="03"||dj.byId("prod_stat_code").get("value")==="08"))){if(_1b9!=null){var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("amdDateSmallerThanCurrentDate",[_1a(this)]);return false;}}if(dj.byId("amd_date")&&dj.byId("amd_date").get("value")!=null&&dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _1ba=dj.byId("amd_date");var _1bb=dj.byId("exp_date");var _1bc=d.date.compare(m.localizeDate(_1ba),m.localizeDate(_1bb))>=0?false:true;if(!_1bc){this.invalidMessage=m.getLocalization("amdDateGreaterThanExpiryDate",[_1a(_1ba),_1a(_1bb)]);return false;}}}return true;},validateBGAmendmentDate:function(){var _1bd=this.get("value");var _1be=new Date();var that=this;_1be.setHours(0,0,0,0);if(_1bd!=null){var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("amdDateSmallerThanCurrentDate",[_1a(this)]);return false;}}if(dj.byId("amd_date")&&dj.byId("amd_date").get("value")!=null&&dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _1bf=dj.byId("amd_date");var _1c0=dj.byId("exp_date");var _1c1=d.date.compare(m.localizeDate(_1bf),m.localizeDate(_1c0))>=0?false:true;if(!_1c1){this.invalidMessage=m.getLocalization("amdDateGreaterThanExpiryDate",[_1a(_1bf),_1a(_1c0)]);return false;}}return true;},validateBankExpiryDate:function(){if(!this.get("value")){return true;}var _1c2=dj.byId("appl_date");if(!m.compareDateFields(_1c2,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanAppDateError",[_1a(this),_1a(_1c2)]);return false;}var _1c3=dj.byId("iss_date");if(!m.compareDateFields(_1c3,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanIssueDateError",[_1a(this),_1a(_1c3)]);return false;}var _1c4=dj.byId("org_previous_exp_date");if(!m.compareDateFields(_1c4,this)){this.invalidMessage=m.getLocalization("orgExpDateGreaterThanExpiryDateError",[_1a(this),_1a(_1c4)]);return false;}var _1c5=dj.byId("last_ship_date");if(!m.compareDateFields(_1c5,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(this),_1a(_1c5)]);return false;}var _1c6=dj.byId("next_revolve_date");if(_1c6&&!m.compareDateFields(_1c6,this)){this.invalidMessage=m.getLocalization("expDateLessThanNextRevolveDateError",[_1a(_1c6),_1a(this)]);return false;}if((!m._config.isBank&&(null==dj.byId("prod_stat_code")||null!=dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")!="10"))||(m._config.isBank&&null!=dj.byId("prod_stat_code")&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")==="03"||dj.byId("prod_stat_code").get("value")==="08")){if(dj.byId("product_code")&&(dj.byId("product_code").get("value")==="BG"||dj.byId("product_code").get("value")==="LC"||dj.byId("product_code").get("value")==="EL"||dj.byId("product_code").get("value")==="SI")){var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(this)]);return false;}}}return true;},validateLink:function(){if(dj.byId("link").get("value")!==""&&dj.byId("file_name").get("value")!==""){this.invalidMessage=m.getLocalization("tooManyNewsLinksError");return false;}return true;},validateBICFormat:function(){var bic=this.get("value"),_1c7=new RegExp(dj.byId("swiftBicCodeRegexValue")?dj.byId("swiftBicCodeRegexValue").get("value"):"");if(!dj.byId("swiftBicCodeRegexValue")){this.invalidMessage=m.getLocalization("invalidBICError",[bic]);return false;}if(bic){if(!_1c7.test(bic)){this.invalidMessage=m.getLocalization("invalidBICError",[bic]);return false;}}return true;},validateLiquidityBranchReference:function(){var _1c8=dj.byId("liquidity_branch_reference");if(_1c8&&_1c8.get("value")!==""){var _1c9=misys._config.liquidityBranchReferences;for(var itr=0;itr<_1c9.length;itr++){if(misys._config.liqBranchRef===_1c8.get("value")){return true;}else{if(_1c8.get("value")===_1c9[itr].fi_code&&_1c9[itr].in_use==="Y"){this.invalidMessage=m.getLocalization("invalidLBORefError");return false;}}}}return true;},checkEmailExistence:function(){var _1ca=dj.byId("email");var _1cb=dj.byId("login_id");var _1cc=dj.byId("company_abbv_name");var _1cd=dijit.byId("email");var _1ce=dj.byId("org_email")?dj.byId("org_email").get("value"):"";var _1cf=dj.byId("user_id")?dj.byId("user_id").get("value"):"";var _1d0=_1ca?_1ca.get("value"):"";var _1d1=_1cb?_1cb.get("value"):"";var _1d2=_1cc?_1cc.get("value"):"";var _1d3=(_1cd&&(_1cd.get("state")==="Error"||_1cd.get("state")==="Incomplete"||_1cd.readOnly||_1cd.disabled))?false:true;if(_1d0){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEmailUniquenessAction"),handleAs:"json",sync:true,content:{emailInContext:_1d0,loginInContext:_1d1,companyInContext:_1d2,orgEmail:_1ce,userID:_1cf},load:function(_1d4){var _1d5="";if(_1d4.items.isEmailUnique===false&&_1d3){_1d3=false;_1d5=m.getLocalization("emailIdExists",[_1d0]);m.dialog.show("CUSTOM-NO-CANCEL",_1d5,"Email Error",function(){_1cd.focus();_1cd.set("state","Error");dj.hideTooltip(_1ca.domNode);dj.showTooltip(_1d5,_1ca.domNode,0);});setTimeout(function(){dj.hideTooltip(_1ca.domNode);},5000);}else{_1d3=true;_1cd.set("state","");}}});}else{_1d3=true;}return _1d3;},checkBICExistence:function(){var _1d6=dijit.byId(this.id);var _1d7=_1d6?_1d6.get("value"):"";var _1d8=(_1d6&&(_1d6.get("state")==="Error"||_1d6.get("state")==="Incomplete"||_1d6.readOnly||_1d6.disabled))?false:true;if(_1d7&&_1d8){var _1d9=dijit.byId("product_code")?dijit.byId("product_code").get("value"):"";m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckSwiftBICAction"),handleAs:"json",sync:true,content:{productCode:_1d9,bicInContext:_1d7},load:function(_1da){var _1db="";if(!_1da.items.bankDataExists){_1d8=true;_1db=m.getLocalization("nonExistentBICWarning",[_1d7]);m.dialog.show(_4,_1db,"BIC Error",function(){dj.hideTooltip(_1d6.domNode);dj.showTooltip(_1db,_1d6.domNode,0);});setTimeout(function(){dj.hideTooltip(_1d6.domNode);},5000);}else{if(!_1da.items.isValidBic){_1d8=false;_1db=m.getLocalization("nonExistentBICError",[_1d7]);m.dialog.show(_4,_1db,"BIC Error",function(){_1d6.focus();_1d6.set("state","Error");dj.hideTooltip(_1d6.domNode);dj.showTooltip(_1db,_1d6.domNode,0);});setTimeout(function(){dj.hideTooltip(_1d6.domNode);},5000);}}}});}return _1d8;},checkBICExistenceForWidgets:function(){var _1dc=dijit.byId(this.id);var _1dd=_1dc?_1dc.get("value"):"";var _1de=(_1dc&&(_1dc.get("state")==="Error"||_1dc.get("state")==="Incomplete"||_1dc.readOnly||_1dc.disabled))?false:true;if(_1dd&&_1de){var _1df=dijit.byId("product_code")?dijit.byId("product_code").get("value"):"";m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckSwiftBICAction"),handleAs:"json",sync:true,content:{productCode:_1df,bicInContext:_1dd},load:function(_1e0){var _1e1="";if(!_1e0.items.bankDataExists){_1de=true;_1e1=m.getLocalization("nonExistentBICWarning",[_1dd]);m.dialog.show(_4,_1e1,"BIC Error",function(){dj.hideTooltip(_1dc.domNode);dj.showTooltip(_1e1,_1dc.domNode,0);});setTimeout(function(){dj.hideTooltip(_1dc.domNode);},5000);}else{if(!_1e0.items.isValidBic){_1de=false;_1e1=m.getLocalization("nonExistentBICError",[_1dd]);m.dialog.show(_4,_1e1,"BIC Error",function(){_1dc.set("value","");_1dc.focus();_1dc.set("state","Error");dj.hideTooltip(_1dc.domNode);dj.showTooltip(_1e1,_1dc.domNode,0);});setTimeout(function(){dj.hideTooltip(_1dc.domNode);},5000);}}}});}return _1de;},validateBEIFormat:function(){var _1e2="^[A-Z0-9]{4,4}[A-Z]{2,2}[A-Z0-9][A-Z2-9]([A-Z0-9]{3,3}){0,1}$";var bei=this.get("value"),_1e3=(dj.byId("swiftBicCodeRegexValue")&&dj.byId("swiftBicCodeRegexValue").get("value")&&dj.byId("swiftBicCodeRegexValue").get("value")!=="")?new RegExp(dj.byId("swiftBicCodeRegexValue").get("value"),"g"):new RegExp(_1e2,"g");if(bei){if(!_1e3.test(bei)){this.invalidMessage=m.getLocalization("invalidBEIError",[bei]);return false;}}return true;},validateCharacters:function(){var _1e4=" 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/-?.,+_";var _1e5;var _1e6=d.every(this.get("value"),function(_1e7){_1e5=_1e7;return (_1e4.indexOf(_1e7)<0)?false:true;});if(!_1e6){this.invalidMessage=m.getLocalization("illegalCharError",[_1e5]);}return _1e6;},validateCharsInRolesCreation:function(){var _1e8="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-()/'  ";var _1e9;var _1ea=d.every(this.get("value"),function(_1eb){_1e9=_1eb;return (_1e8.indexOf(_1eb)<0)?false:true;});if(!_1ea){this.invalidMessage=m.getLocalization("illegalCharError",[_1e9]);}return _1ea;},validateSwiftAddressCharacters:function(){var _1ec=dj.byId("swiftregexValue").get("value");var _1ed=this.get("value"),_1ee=new RegExp(_1ec);var _1ef=false;_1ef=_1ee.test(_1ed);if(!_1ef){this.invalidMessage=m.getLocalization("invalidSWIFTTransactionError");}return _1ef;},validateCharactersExcludeSpace:function(){var _1f0=" 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/-?.,+_";var _1f1;var _1f2=d.every(this.get("value"),function(_1f3){_1f1=_1f3;return (_1f0.indexOf(_1f3)<0)?false:true;});if(!_1f2){this.invalidMessage=m.getLocalization("illegalCharError",[_1f1]);}return _1f2;},validateBlackListChar:function(){var _1f4=dijit.byId("blacklistspecialcharregexvalue").get("value");var _1f5=new RegExp(_1f4);var _1f6=_1f5.test(this.get("value"));if(_1f6){this.invalidMessage=m.getLocalization("blacklistCharError");}return _1f6;},validateBlackListCharInDynamicRTE:function(_1f7){var _1f8=_1f7?_1f7.get("value"):"";var _1f9=dojo.trim(dojox.html.entities.encode(_1f8,dojox.html.entities.html));var _1fa=dijit.byId("blacklistspecialcharregexvalue").get("value");var _1fb=new RegExp(_1fa);var _1fc=_1fb.test(_1f9);if(_1fc){this.invalidMessage=m.getLocalization("blacklistCharError");}return _1fc;},validateSingleEmailAddr:function(){var _1fd=this.get("value");var _1fe=true;if(_1fd===""){return _1fe;}if(!dojox.validate.isEmailAddress(_1fd)){_1fe=false;}if(!_1fe){this.invalidMessage=m.getLocalization("invalidEmailAddressError");return false;}return true;},validateEmailAddr:function(){var _1ff=this.get("value");if(_1ff===""){return true;}var _200=_1ff.split(";");var _201=[];var j=0;for(var i=(_200.length-1);i>=0;i--){if(!dojox.validate.isEmailAddress(_200[i])){_201[j]=_200[i];j++;}}if(i>j){this.invalidMessage=m.getLocalization("invalidEmailAddressError");return false;}for(var k=(_201.length-1);k>=0;k--){if(!dojox.validate.isEmailAddress(_201[k])){this.invalidMessage=m.getLocalization("invalidEmailAddressError");return false;}}return true;},validateNoOfEmails:function(){var _202=dj.byId("notify_beneficiary_email").get("value");var res=_202.split(";");if(res.length>10){var _203=m.getLocalization("checkEmailId");dj.byId("notify_beneficiary_email").set("state","Error");dj.hideTooltip(dj.byId("notify_beneficiary_email").domNode);dj.showTooltip(_203,dj.byId("notify_beneficiary_email").domNode,0);}},validateWebAddr:function(){var _204=this.get("value");if(_204===""){return true;}if(!dojox.validate.isUrl(_204)){this.invalidMessage=m.getLocalization("invalidWebAddressError");return false;}return true;},validatePassword:function(){return true;},validateMonthly:function(){if(!dj.byId("frequency_2").get("checked")){this.set("value","");}var _205=this.get("value");if(_205==="29"||_205==="30"||_205==="31"){this.invalidMessage=m.getLocalization("monthDayWarningMessage");return false;}return true;},validateRateFormat:function(){var _206=true;var rate=this.get("value");if(rate<0||rate===0){_206=false;return _206;}var _207=(rate+"");var _208=0;var _209=0;var _20a=false;var _20b=false;d.forEach(_207,function(_20c){if(((_20c>="0"||_20c<="9")&&_20c!==m.getLocalization("g_strDecimalDelimiter"))){if(!_20a){_208=_208+1;}else{_209=_209+1;}}else{if(_20c===m.getLocalization("g_strDecimalDelimiter")){_20a=true;_20b=true;if(_208>m.getLocalization("g_numbersBeforeComma")){this.invalidMessage=m.getLocalization("rateMessageNumbersBeforeAndAfterComma",[m.getLocalization("g_numbersBeforeComma"),m.getLocalization("g_numbersAfterComma")]);_206=false;}}}});if(_209>m.getLocalization("g_numbersAfterComma")){this.invalidMessage=m.getLocalization("rateMessageNumbersBeforeAndAfterComma",[m.getLocalization("g_numbersBeforeComma"),m.getLocalization("g_numbersAfterComma")]);_206=false;}var _20d=m.getLocalization("g_numbersBeforeComma");var _20e=parseInt(_20d,10);if(!_20b&&_207.length>_20e){this.invalidMessage=m.getLocalization("rateMessageNumbersBeforeComma",[m.getLocalization("g_numbersBeforeComma")]);_206=false;}return _206;},validateTermNumberField:function(_20f){if(!(/Date/.test(this.get("declaredClass")))){return false;}if(!this.isCorrectlyFilled()){return true;}if(!this.isValidNumber()){this.get("_numberField").invalidMessage=m.getLocalization(_20f);return false;}return true;},validateDateTermField:function(_210,_211,_212,_213,_214){if(!(/Date/.test(this.get("declaredClass")))){return false;}this.get("_calendarWidget").invalidMessage=this.get("_calendarWidget").messages.invalidMessage;if(!this.get("_calendarWidget").validator(this.get("_calendarWidget").textbox.value,this.get("_calendarWidget").constraints)){return false;}if(!this.isCorrectlyFilled()){return true;}var _215=true;if(!_213){_213=false;}var _216;if(this.isValidDate()){_216=this.getFormalValueDate();if(!_216){return true;}}else{_216=_22(this.get("id"));if(_216<0){return true;}}if(!_216){return true;}var _217;var _218=dj.byId(_211);if(!_211){_217=new Date();}else{if(!(/Date/.test(_218.get("declaredClass")))){_217=m.localizeDate(_218);if(!_217){return true;}}else{if(_218.isValidDate()){_217=_218.getFormalValueDate();if(!_217){return true;}}else{if(_214){_217=_22(_211,_216);}else{_217=_22(_211);}if(_217<0){return true;}}}}_216.setHours(0);_216.setMinutes(0);_216.setSeconds(0);_216.setMilliseconds(0);if(_217!==undefined){_217.setHours(0);_217.setMinutes(0);_217.setSeconds(0);_217.setMilliseconds(0);}if(_213){_215=d.date.compare(_216,_217)<=0?true:false;}else{_215=d.date.compare(_216,_217)>=0?true:false;}if(!_215){this.get("_calendarWidget").invalidMessage=m.getLocalization(_212,[d.date.locale.format(_216,{selector:"date"}),d.date.locale.format(_217,{selector:"date"})]);}return _215;},validateOrderType:function(){var _219=dj.byId("order_list_by_default");if(_219&&_219.get("checked")){return this.get("displayedValue")!=="";}return true;},validateAxisScale:function(){var _21a=dj.byId("chart_axis_x");if((_21a&&_21a.get("value")&&arrColumn)&&(arrColumn[_21a][0]==="Date")){return this.get("displayedValue");}return true;},validateGroupingColumn:function(){var _21b=dj.byId("grouping_enable");if(this.get("value")==""&&this.get("displayedValue")!=""){return false;}if(_21b&&_21b.get("checked")){return this.get("displayedValue")!=="";}return true;},validateOutstandingAmount:function(){var _21c=d.query(".outstanding");if(_21c.length===1){var _21d=dj.byId(d.attr(_21c[0],"widgetid")).get("value")||0;if(_21d>0&&this.get("value")==="10"){this.invalidMessage=m.getLocalization("outstandingAmountShouldBeZero");return false;}}return true;},validateShipmentDates:function(){var _21e=dj.byId("last_ship_date"),_21f=dj.byId("narrative_shipment_period");if(_21e&&_21f&&!_21e.get("value")&&_21f.get("value")===""){m._config.onSubmitErrorMsg=m.getLocalization("shipmentPeriodOrDateMissingError");return false;}return true;},validateHolidaysAndCutOffTime:function(_220,_221,mode,_222,_223,_224,_225,_226){var _227=misys._config.productCode?misys._config.productCode:"";var _228=dj.byId(_220)?dj.byId(_220).get("value"):"";var _229=dj.byId(_221)?dj.byId(_221).get("value"):"";if(_229==="IAFT"){if(mode==="UNSIGNED"){if(dj.byId(_225).get("value")===dj.byId("applicant_act_cur_code_unsigned").get("value")){_229="IAFTS";}else{_229="IAFTD";}}else{if(dj.byId(_225).get("value")===dj.byId("applicant_act_cur_code").get("value")){_229="IAFTS";}else{_229="IAFTD";}}}var _22a=dj.byId(_225)?dj.byId(_225).get("value"):"";var _22b=dj.byId(_226)?dj.byId(_226).get("value"):"";m._config=m._config||{};dojo.mixin(m._config,{holidayCutOffEnabled:true});var _22c=new Array();var _22d=dj.byId(_224)?dj.byId(_224).get("value"):"";dojo.forEach(_223,function(node,_22e){var date=_36(dj.byId(node));_22c.push(date);});return _7d(_228,_227,_229,mode,_222,_22c,_22d,_22a,_22b,null);},validateHolidaysAndCutOffTimeForMUPS:function(_22f,_230,mode,_231,_232,_233,_234,_235,_236){var _237=misys._config.productCode?misys._config.productCode:"";var _238=dj.byId(_22f)?dj.byId(_22f).get("value"):"";var _239=dj.byId(_230)?dj.byId(_230).get("value"):"";var _23a=dj.byId(_236)?dj.byId(_236).get("value"):"";if(_239==="IAFT"){if(mode==="UNSIGNED"){if(dj.byId(_234).get("value")===dj.byId("applicant_act_cur_code_unsigned").get("value")){_239="IAFTS";}else{_239="IAFTD";}}else{if(dj.byId(_234).get("value")===dj.byId("applicant_act_cur_code").get("value")){_239="IAFTS";}else{_239="IAFTD";}}}var _23b=dj.byId(_234)?dj.byId(_234).get("value"):"";var _23c=dj.byId(_235)?dj.byId(_235).get("value"):"";m._config=m._config||{};dojo.mixin(m._config,{holidayCutOffEnabled:true});var _23d=new Array();var _23e=dj.byId(_233)?dj.byId(_233).get("value"):"";dojo.forEach(_232,function(node,_23f){var date=_36(dj.byId(node));_23d.push(date);});return _7d(_238,_237,_239,mode,_231,_23d,_23e,_23b,_23c,_23a);},checkAccountStatus:function(_240){var _241=true;m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckAccountStatus"),handleAs:"json",sync:true,content:{accNo:_240},load:function(_242,args){_241=_242.isAccountActive;},error:function(_243,args){console.error("Checking Account status  error ",_243);}});return _241;},validateAlphaNumeric:function(){var _244=dijit.byId("userNameRegexValue").get("value");var _245=new RegExp(_244);var _246=_245.test(this.get("value"));if(!_246){this.invalidMessage=m.getLocalization("userIdillegalCharError");}return _246;},validateGroupId:function(){var _247=dijit.byId("groupIdRegexValue").get("value");var _248=new RegExp(_247);var _249=_248.test(this.get("value"));if(!_249){this.invalidMessage=m.getLocalization("userIdillegalCharError");}return _249;},validateGroupName:function(){var _24a=dijit.byId("groupNameRegexValue").get("value");var _24b=new RegExp(_24a);var _24c=_24b.test(this.get("value"));if(!_24c){this.invalidMessage=m.getLocalization("userIdillegalCharError");}return _24c;},validateAlphaNumericRemarks:function(){if(!_d(this," 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")){var _24d=m.getLocalization("illegalRemarksCharError",[this.get("value")]);_24d=_24d.replace(/>/g,"&gt;");_24d=_24d.replace(/</g,"&lt;");this.invalidMessage=_24d;return false;}return true;},validateNumeric:function(){var _24e="0123456789";var _24f;var _250=d.every(this.get("value"),function(_251){_24f=_251;return (_24e.indexOf(_251)<0)?false:true;});if(!_250){this.invalidMessage=m.getLocalization("illegalCharError",[_24f]);}return _250;},validatePhoneOrFax:function(){var _252="0123456789- ()";var _253;var _254=d.every(this.get("value"),function(_255,_256){if(_256===0&&_255==="+"){return true;}else{_253=_255;return (_252.indexOf(_255)<0)?false:true;}});if(!_254){if(_253==="+"){this.invalidMessage=m.getLocalization("invalidCharacterPosition",[_253]);}else{this.invalidMessage=m.getLocalization("illegalCharErrorContact");}}return _254;},validateFax:function(){var _257="0123456789- ()";var _258;var _259=d.every(this.get("value"),function(_25a,_25b){if(_25b===0&&_25a==="+"){return true;}else{_258=_25a;return (_257.indexOf(_25a)<0)?false:true;}});if(!_259){if(_258==="+"){this.invalidMessage=m.getLocalization("invalidCharacterPosition",[_258]);}else{this.invalidMessage=m.getLocalization("illegalCharErrorContactForFax");}}return _259;},validateIPInvoiceDate:function(){if(!this.get("value")){return true;}var _25c=dj.byId("due_date");if(!m.compareDateFields(this,_25c)){this.invalidMessage=m.getLocalization("invoiceDateGreaterThanDueDateError",[_1a(this),_1a(_25c)]);return false;}return true;},validateIPDueDate:function(){if(!this.get("value")){return true;}var _25d=dj.byId("appl_date");if(!m.compareDateFields(_25d,this)){this.invalidMessage=m.getLocalization("dueDateLessThanAppDateError",[_1a(this),_1a(_25d)]);return false;}var _25e=dj.byId("iss_date");if(!m.compareDateFields(_25e,this)){this.invalidMessage=m.getLocalization("dueDateLessThanInvoiceDateError",[_1a(this),_1a(_25e)]);return false;}return true;},validateRemittanceDate:function(){if(!this.get("value")){return true;}var _25f=this.get("value");var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("remittanceDateGreaterThanSystemDateError",[_1a(this)]);return false;}return true;},clearPrincipalAndFeeAccount:function(){if(dj.byId("principal_act_name")){dj.byId("principal_act_name").set("value","");}if(dj.byId("fee_act_name")){dj.byId("fee_act_name").set("value","");}},validateAmount:function(_260){if(_260){var amt=_260.get("value");var _261,_262;if(amt===0){_261=m.getLocalization("amountcannotzero");_260.set("state","Error");dj.hideTooltip(_260.domNode);dj.showTooltip(_261,_260.domNode,0);_260.focus();return false;}else{if((amt<0)||(amt===undefined)){_261=m.getLocalization("invalidMessage");_260.set("state","Error");dj.hideTooltip(_260.domNode);dj.showTooltip(_261,_260.domNode,0);_260.focus();return false;}else{return true;}}}return true;},validateFinalExpiryDate:function(){var _263=true;var _264=dj.byId("exp_date").get("value");var _265=dj.byId("final_expiry_date").get("value");if(_264==null||_264==""){_263=false;this.invalidMessage=m.getLocalization("expiryDateReqd");}else{if(_265&&_265!=""){if(_265<_264){dj.byId("final_expiry_date").set("value",null);_263=false;this.invalidMessage=m.getLocalization("finalExpDateLessThanTransactionExpDtError",[dj.byId("final_expiry_date").get("displayedValue"),dj.byId("exp_date").get("displayedValue")]);}}}return _263;},validateTradeFinalExpiryDate:function(){var _266=true;var _267=true;if(this.get("value")!=null){var _268=this.get("value");var _269=dj.byId("renew_on_code").get("value");var _26a=dj.byId("renewal_calendar_date").get("value");var _26b=dj.byId("renew_for_nb").get("value");var _26c=dj.byId("renew_for_period").get("value");var _26d=dj.byId("rolling_renewal_nb").get("value");var _26e=dj.byId("rolling_renewal_nb").get("value");var _26f=null;var _270=null;var _271=null;if(_269==="01"){_270=dj.byId("exp_date").get("value");_271=dj.byId("org_exp_date");if(!_270&&_271){_270=dojo.date.locale.parse(_271.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_270==null){_267=false;this.invalidMessage=m.getLocalization("expiryDateReqdForFinExpiryDateError");}}else{if(_269==="02"){_270=_26a;if(_270==null){_267=false;this.invalidMessage=m.getLocalization("calendarDateReqdForFinExpiryDateError");}}else{_267=false;this.invalidMessage=m.getLocalization("renewOnNotSelectedError");}}if(_26d==null||isNaN(_26d)){_267=false;this.invalidMessage=m.getLocalization("nbofRenewalsNotSelectedError");}else{if(_269==="01"||_269==="02"){if(_26b==null||_26b===""||_26c==null||_26c===""){_267=false;this.invalidMessage=m.getLocalization("renewForNotSelectedError");}}}if(_267){switch(_26c){case "D":_26f=d.date.add(_270,"day",_26e*_26b);break;case "W":_26f=d.date.add(_270,"week",_26e*_26b);break;case "M":_26f=d.date.add(_270,"month",_26e*_26b);break;case "Y":_26f=d.date.add(_270,"year",_26e*_26b);break;default:break;}var _272;if(_26f!=undefined){_272=new Date(_26f.getTime());}if(_272!=undefined&&_268.getTime()<_272.getTime()){_266=false;var _273=dojo.date.locale.format(_272,{selector:"date",formatLength:"short",locale:dojo.config.locale});this.invalidMessage=m.getLocalization("finExpiryDateLessThanLastActiveDateError",[_1a(this),_273]);}}else{_266=false;}}return _266;},validateValidFromDate:function(){if(!this.get("value")){return true;}if(dj.byId("reg_date")){var _274=dj.byId("reg_date");if(!m.compareDateFields(_274,this)){this.invalidMessage=m.getLocalization("validFromDateLessThanRegDateError",[_1a(this),_1a(_274)]);return false;}}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!==null){var _275=dj.byId("iss_date");if(!m.compareDateFields(_275,this)){this.invalidMessage=m.getLocalization("validFromDateLessThanIssDateError",[_1a(this),_1a(_275)]);return false;}}if(dj.byId("valid_to_date")&&dj.byId("valid_to_date").get("value")!==null){var _276=dj.byId("valid_to_date");if(!m.compareDateFields(this,_276)){this.invalidMessage=m.getLocalization("validFromDateGreaterThanValidToDateError",[_1a(this),_1a(_276)]);return false;}}if(dj.byId("latest_payment_date")&&dj.byId("latest_payment_date").get("value")!==null){var _277=dj.byId("latest_payment_date");if(!m.compareDateFields(this,_277)){this.invalidMessage=m.getLocalization("validFromDateGreaterThanLatestPaymntDateError",[_1a(this),_1a(_277)]);return false;}}return true;},validateValidToDate:function(){if(!this.get("value")){return true;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("validToDateLessThanTodayDateError",[_1a(this)]);return false;}if(dj.byId("appl_date")){var _278=dj.byId("appl_date");if(!m.compareDateFields(_278,this)){this.invalidMessage=m.getLocalization("validToDateLessThanAppDateError",[_1a(this),_1a(_278)]);return false;}}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!=null){var _279=dj.byId("iss_date");if(!m.compareDateFields(_279,this)){this.invalidMessage=m.getLocalization("validToDateLessThanIssDateError",[_1a(this),_1a(_279)]);return false;}}if(dj.byId("valid_from_date")&&dj.byId("valid_from_date").get("value")!==null){var _27a=dj.byId("valid_from_date");if(!m.compareDateFields(_27a,this)){this.invalidMessage=m.getLocalization("validToDateLessThanValidFromDateError",[_1a(this),_1a(_27a)]);return false;}}if(dj.byId("latest_payment_date")&&dj.byId("latest_payment_date").get("value")!==null){var _27b=dj.byId("latest_payment_date");if(!m.compareDateFields(this,_27b)){this.invalidMessage=m.getLocalization("validToDateGreaterThanLatestPaymntDateError",[_1a(this),_1a(_27b)]);return false;}}return true;},validateLatestPaymentDate:function(){if(!this.get("value")){return true;}if(dj.byId("appl_date")){var _27c=dj.byId("appl_date");if(!m.compareDateFields(_27c,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanAppDateError",[_1a(this),_1a(_27c)]);return false;}}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!==null){var _27d=dj.byId("iss_date");if(!m.compareDateFields(_27d,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanIssDateError",[_1a(this),_1a(_27d)]);return false;}}if(dj.byId("valid_from_date")&&dj.byId("valid_from_date").get("value")!==null){var _27e=dj.byId("valid_from_date");if(!m.compareDateFields(_27e,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanValidFromDateError",[_1a(this),_1a(_27e)]);return false;}}if(dj.byId("valid_to_date")&&dj.byId("valid_to_date").get("value")!==null){var _27f=dj.byId("valid_to_date");if(!m.compareDateFields(_27f,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanValidToDateError",[_1a(this),_1a(_27f)]);return false;}}return true;},validateRegDate:function(){if(!this.get("value")){return true;}if(dj.byId("iss_date")){var _280=dj.byId("iss_date");if(!m.compareDateFields(this,_280)){this.invalidMessage=m.getLocalization("regDateGreaterThanIssDateError",[_1a(this),_1a(_280)]);return false;}}var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("RegistrationDateGreaterThanApplicationDateError",[_1a(this)]);return false;}return true;},validateLicenseSettlementAmt:function(){if(dj.byId("ls_amt")){var _281=d.number.parse(dj.byId("ls_amt").get("value"));var _282=d.number.parse(dj.byId("ls_settlement_amt").get("value"));_281=!isNaN(_281)?_281:0;_282=!isNaN(_282)?_282:0;if(_282>_281){m.showTooltip(m.getLocalization("lsSettlementAmtGreaterThanLSAmtError",[_282,_281]),this.domNode,["after"]);this.state="Error";this._setStateClass();dj.setWaiState(this.focusNode,"invalid","true");return false;}}return true;},validateAddLicenseSettlementAmt:function(){if(dj.byId("additional_amt")){var _283=d.number.parse(dj.byId("additional_amt").get("value"));var _284=d.number.parse(dj.byId("add_settlement_amt").get("value"));_283=!isNaN(_283)?_283:0;_284=!isNaN(_284)?_284:0;if(_284>_283){m.showTooltip(m.getLocalization("addSettlementAmtGreaterThanAddAmtError",[_284,_283]),this.domNode,["after"]);this.state="Error";this._setStateClass();dj.setWaiState(this.focusNode,"invalid","true");return false;}}return true;},validateRenewalCalendarDate:function(){var _285=dj.byId("renewal_calendar_date")?dj.byId("renewal_calendar_date").get("value"):"";var _286=dj.byId("renew_on_code")?dj.byId("renew_on_code").get("value"):"";var _287=new Date();var _288=true;if(_286!=null&&_286==="02"){var _289=dj.byId("exp_date").get("value");var _28a=dj.byId("org_exp_date");if(!_289&&_28a){_289=dojo.date.locale.parse(_28a.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_289==null||_289===""){_288=false;this.invalidMessage=m.getLocalization("expiryDateReqd");}if(_285!=null&&_289!=null&&((_285<=_287)||(_285>_289))){_288=false;var _28b=dojo.date.locale.format(_287,{selector:"date",formatLength:"short",locale:dojo.config.locale});var _28c=dojo.date.locale.format(_289,{selector:"date",formatLength:"short",locale:dojo.config.locale});this.invalidMessage=m.getLocalization("calendarDateLessThanSystemDate",[_28b,_28c]);}}return _288;},validateAmendBGRenewalCalendarDate:function(){var _28d=dj.byId("renewal_calendar_date")?dj.byId("renewal_calendar_date").get("value"):"";var _28e=dj.byId("renew_on_code")?dj.byId("renew_on_code").get("value"):"";var _28f=new Date();if(_28e!=null&&_28e==="02"){var _290=dj.byId("exp_date").get("value");var _291=dj.byId("org_exp_date");var that=this;if(!_290&&_291){_290=dojo.date.locale.parse(_291.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_290==null||_290===""){m.dialog.show("ERROR",m.getLocalization("expiryDateReqd"),"",function(){that.focus();});this.reset();}if(_28d!=null&&_290!=null&&((_28d<=_28f)||(_28d>_290))){var _292=dojo.date.locale.format(_28f,{selector:"date",formatLength:"short",locale:dojo.config.locale});var _293=dojo.date.locale.format(_290,{selector:"date",formatLength:"short",locale:dojo.config.locale});m.dialog.show("ERROR",m.getLocalization("calendarDateLessThanSystemDate",[_292,_293]),"",function(){that.focus();});this.reset();}}},validateTransportDocumentDate:function(){if(!this.get("value")){return true;}var _294=dj.byId("appl_date");if(d.date.compare(this.get("value"),m.localizeDate(_294))>=0){this.invalidMessage=m.getLocalization("TransDocDateGreaterThanApplDateError",[_1a(this),_1a(_294)]);return false;}return true;},validateFutureDate:function(){if(!this.get("value")){return true;}var _295=dj.byId("iss_date");if((_295&&_295.get("value"))&&(d.date.compare(this.get("value"),m.localizeDate(_295))<=0)){this.invalidMessage=m.getLocalization("issDateSmallerThanFutureDate",[_1a(this),_1a(_295)]);return false;}var _296=dj.byId("appl_date");if((_296&&_296.get("value"))&&(d.date.compare(this.get("value"),m.localizeDate(_296))<=0)){this.invalidMessage=m.getLocalization("futureDateSmallerThanAppDate",[_1a(this),_1a(_296)]);return false;}return true;},validateTnxAmount:function(){var _297=dj.byId("tnx_amt");var _298=dj.byId("claim_amt");var _299=dojo.number.parse(dj.byId("tnx_amt").get("value"));var _29a;if(dj.byId("lc_amt")){_29a=dojo.number.parse(dj.byId("lc_amt").get("value"));}else{if(dj.byId("bg_amt")){_29a=dojo.number.parse(dj.byId("bg_amt").get("value"));}}if(_298){var _29b=dojo.number.parse(_298.get("value"));}if(_299<0){_297.invalidMessage=m.getLocalization("totalamount");return false;}if(_297&&_29a&&_299>_29a){_297.invalidMessage=misys.getLocalization("settlementAmtGreaterThanOrigTnxAmtError",[_299.toFixed(2),_29a.toFixed(2)]);return false;}else{if(_297&&_298&&_299>_29b){_297.invalidMessage=misys.getLocalization("tnxAmtGreaterThanClaimAmtError",[_299.toFixed(2),_29b.toFixed(2)]);return false;}else{if(_297&&_299===0){_297.invalidMessage=misys.getLocalization("tnxAmtZeroError");return false;}}}return true;},validateFinanceAmt:function(){var _29c,_29d;var _29e=true;if(this.get("value")<=0){_29e=false;this.invalidMessage=misys.getLocalization("financeRequestAmtError");}else{if(dj.byId("intent_to_pay_amt")){_29c=Number(dj.byId("intent_to_pay_amt").get("value").replace(",",""));if(_29c!=""&&this.get("value")>_29c){_29e=false;this.invalidMessage=misys.getLocalization("financeRequestAmtErrorForIntentPayAmt");}}else{if(dj.byId("total_net_amt")){_29d=dj.byId("total_net_amt").get("value");if(_29d!==""&&this.get("value")>_29d){_29e=false;this.invalidMessage=misys.getLocalization("financeRequestAmtErrorForTotalAmt");}}}}return _29e;},validateParity:function(){var _29f=this.get("value");var _2a0=true;if((_29f===0)||(_29f<0)){this.invalidMessage=m.getLocalization("parityError");_2a0=false;}return _2a0;},validateRemarks:function(){if(!_d(this," 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ#$^*_=`~{}|:./[]-")){var _2a1=m.getLocalization("illegalRemarksCharError",[this.get("value")]);_2a1=_2a1.replace(/>/g,"&gt;");_2a1=_2a1.replace(/</g,"&lt;");this.invalidMessage=_2a1;return false;}return true;},validateLoanIncreaseDate:function(){if(this.get("value")==null){return true;}var _2a2=dj.byId(this.id);var _2a3=new Date();_2a3.setHours(0,0,0,0);var _2a4=d.date.compare(m.localizeDate(this),_2a3)<0?false:true;if(!_2a4){this.invalidMessage=m.getLocalization("loanEffectiveIncreaseDateLessThanCurrentDate",[_1a(this)]);return false;}var _2a5=m.localizeDate(_2a2);var _2a6=dj.byId("effective_date");if(_2a6){var _2a7=m.localizeDate(_2a6);if(d.date.compare(_2a7,_2a5)>0){this.invalidMessage=m.getLocalization("loanAmendDateLesserThanLoanEffectiveDateError",[_1a(this),_1a(_2a6)]);return false;}}_2a5=m.localizeDate(_2a2);var flag=dj.byId("sub_product_code");var _2a8="SWG";if(flag.get("value")===_2a8){var _2a9=dj.byId("repricing_date");if(_2a9){var _2aa=m.localizeDate(_2a9);if(d.date.compare(_2aa,_2a5)<=0){this.invalidMessage=m.getLocalization("loanAmendDateLesserThanRepricingDateError",[_1a(this),_1a(_2a9)]);return false;}}}var _2ab=dj.byId("ln_maturity_date");if(_2ab&&_2ab.get("value")!==""){var _2ac=m.localizeDate(_2ab);if(d.date.compare(_2ac,_2a5)<=0){this.invalidMessage=m.getLocalization("loanAmendDateGreaterThanLoanMatDateError",[_1a(this),_1a(_2ab)]);return false;}}var _2ad=dijit.byId("facility_expiry_date");if(_2ad){var _2ae=m.localizeDate(_2ad);if(d.date.compare(_2ae,_2a5)<0){this.invalidMessage=m.getLocalization("loanAmendDateGreaterThanFacExpDateError",[_1a(this),_1a(_2ad)]);return false;}}var _2af=dj.byId("appl_date");if(_2af){var _2b0=m.localizeDate(_2af);if(d.date.compare(_2b0,_2a5)>0){this.invalidMessage=m.getLocalization("loanAmendDateLesserThanLoanApplDateError",[_1a(this),_1a(_2af)]);return false;}}return true;},validateBpoBICFormat:function(id){var bic=id.get("value"),_2b1=new RegExp("^[A-Z0-9]{4,4}[A-Z]{2,2}[A-Z0-9][A-Z2-9]([A-Z0-9]{3,3}){0,1}$","g");if(bic){if(!_2b1.test(bic)){var _2b2=m.getLocalization("invalidBICError",[bic]);id.set("value","");id.set("state","Error");m.dialog.show("ERROR",m.getLocalization("focusOnErrorAlert"),"",function(){id.focus();dj.hideTooltip(id.domNode);dj.showTooltip(_2b2,id.domNode,0);});}}},compareDateIsGreater:function(node,_2b3){var _2b4=dj.byId(node);var _2b5=null;if(!(_2b4&&_2b4.get("value"))){return true;}else{_2b5=_2b4.get("value");}var _2b6=new Date();_2b6.setHours(0,0,0,0);if(d.date.compare(m.localizeDate(_2b4),_2b6)<0){m._config.onSubmitErrorMsg=m.getLocalization("expDateSmallerThanCurrentDate",[_1a(_2b4)]);return false;}for(var i=0;i<_2b3.length;i++){var _2b7=dj.byId(_2b3[i]);if((_2b7&&_2b7.get("value"))&&(d.date.compare(_2b5,m.localizeDate(_2b7))<=0)){m._config.onSubmitErrorMsg=m.getLocalization("issDateSmallerThanFutureDate",[_1a(_2b4),_1a(_2b7)]);return false;}}return true;},validateDescriptionGoods:function(){var _2b8=this.get("value"),_2b9=true,that=this;if(_2b8.length>35){that.invalidMessage=m.getLocalization("invalidLSDescGoodsLength",[that.get("displayedValue")]);_2b9=false;return false;}return true;},setRenewalAmount:function(_2ba){var _2bb=_2ba.get("value");if(_2bb==="01"){dj.byId("renew_amt_code_1").set("checked",true);dj.byId("renew_amt_code_1").set("value","01");}else{if(_2bb==="02"){dj.byId("renew_amt_code_2").set("checked",true);dj.byId("renew_amt_code_2").set("value","02");}}},setRenewalAmountOnFormLoad:function(){if(dj.byId("renew_flag")&&dj.byId("renew_flag").get("checked")===true){var _2bc=dj.byId("renew_amount_code")?dj.byId("renew_amount_code").get("value"):"02";if(_2bc){if(_2bc==="01"){dj.byId("renew_amt_code_1").set("checked",true);}else{if(_2bc==="02"){dj.byId("renew_amt_code_2").set("checked",true);}}}}},validateRollingRenewalFrequency:function(node){var _2bd=dj.byId("renew_for_nb").get("value");var _2be=dj.byId("rolling_renew_for_nb").get("value");if(_2bd!==""&&_2be!==""&&_2be>_2bd){node.set("value","");dj.showTooltip(m.getLocalization("rollingFrequencyCannotBeMoreThanRenewalPeriodError"),node.domNode,0);var _2bf=function(){dj.hideTooltip(node.domNode);};setTimeout(_2bf,1500);}},validateEnteredGreaterThanCurrentDate:function(){var _2c0=dj.byId("maturity_date");var _2c1=dj.byId("current_date");if(_2c1&&!m.compareDateFields(_2c1,_2c0)){m.dialog.show("ERROR",m.getLocalization("lessthanCurrentDate"));_2c0.set("value"," ");return false;}return true;},validateIntegerValue:function(node){if(!isNaN(node.get("value"))){var _2c2=node.get("value")+"";var _2c3=function(){dj.hideTooltip(node.domNode);};if(_2c2.indexOf(".")!==-1){dj.showTooltip(m.getLocalization("valueShouldBeInteger"),node.domNode,0);setTimeout(_2c3,1500);node.set("state","Error");}if(_2c2<=0){dj.showTooltip(m.getLocalization("valueShouldBeGreaterThanZero"),node.domNode,0);setTimeout(_2c3,1500);node.set("state","Error");}}},validateNextRevolveDate:function(){if(!this.get("value")){return true;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("nextRevolveDateSmallerThanSystemDate",[_1a(this)]);return false;}var _2c4=dj.byId("iss_date");if((_2c4)&&(!m.compareDateFields(_2c4,this))){this.invalidMessage=m.getLocalization("nextRevolveDateLessThenIssDateError",[_1a(this),_1a(_2c4)]);return false;}var _2c5=dj.byId("exp_date");var _2c6=dj.byId("org_exp_date");if(_2c5&&!m.compareDateFields(this,_2c5)){this.invalidMessage=m.getLocalization("nextRevolveDateGreaterThanExpiryDateError",[_1a(this),_1a(_2c5)]);return false;}else{if(_2c5.get("value")==null&&_2c6&&!m.compareDateFields(this,_2c6)){this.invalidMessage=m.getLocalization("nextRevolveDateGreaterThanExpiryDateError",[_1a(this),_1a(_2c6)]);return false;}}return true;},validateOpenAccountLastMatchDate:function(){var _2c7=dj.byId("last_match_date");var _2c8=m.getMaxBPOExpiryDate();if(_2c7&&_2c7.get("value")!=null&&_2c8!==""){if(d.date.compare(_2c7.get("value"),_2c8)>0){this.invalidMessage=m.getLocalization("lastMatchDateGreaterThanBpoExpiryDateError",[_1a(this),dojo.date.locale.format(_2c8,{locale:dojo.config.locale,formatLength:"short",selector:"date"})]);return false;}}var _2c9=dj.byId("exp_date");if(_2c7&&_2c7.get("value")!=null&&_2c9&&_2c9.get("value")!=null){if(d.date.compare(_2c7.get("value"),_2c9.get("value"))>0){this.invalidMessage=m.getLocalization("lastMatchDateGreaterThanExpiryDateError",[_1a(this),_1a(_2c9)]);return false;}}var _2ca=dj.byId("iss_date");if(_2c7&&_2c7.get("value")!=null&&_2ca&&_2ca.get("value")!=null){if(d.date.compare(_2c7.get("value"),_2ca.get("value"))<0){this.invalidMessage=m.getLocalization("lastMatchDateLessThanIssueDateError",[_1a(this),_1a(_2ca)]);return false;}}var _2cb=dj.byId("appl_date");if(_2c7&&_2c7.get("value")!=null&&_2cb&&_2cb.get("value")!=null){if(d.date.compare(_2c7.get("value"),_2cb.get("value"))<0){this.invalidMessage=m.getLocalization("lastMatchDateLessThanApplicationDateError",[_1a(this),_1a(_2cb)]);return false;}}return true;},checkContractPercent:function(){if(!this.get("value")){return true;}var _2cc=this.get("value");var _2cd=_2cc.toString().indexOf(".");var _2ce=_2cc.toString().length;if(_2cc<=100&&_2cc>=0){if(_2cd===-1&&_2ce>12){this.invalidMessage=m.getLocalization("contractPercentMoreThan12DigitError");return false;}else{if(_2cc.toString().indexOf(".")>=0){var _2cf=(_2ce-_2cd-1);if(_2cf>2){this.invalidMessage=m.getLocalization("contractPercentMoreThan2DecilamError");return false;}}}return true;}else{this.invalidMessage=m.getLocalization("contractPercentMoreThan100Error");return false;}},validateEarliestShipDate:function(){if((dj.byId("tnxtype")&&(dj.byId("tnxtype").get("value")==="38"))||(dj.byId("close_tnx")&&(dj.byId("close_tnx").get("checked")===true))){return true;}if(!this.get("value")){return true;}var _2d0=dj.byId("iss_date");if((_2d0&&_2d0.get("value"))&&(d.date.compare(this.get("value"),m.localizeDate(_2d0))<0)){this.invalidMessage=m.getLocalization("issDateSmallerThanEarliestShipDate",[_1a(this),_1a(_2d0)]);return false;}var _2d1=dj.byId("appl_date");if((_2d1)&&(d.date.compare(this.get("value"),m.localizeDate(_2d1))<0)){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanAppDate",[_1a(this),_1a(_2d1)]);return false;}var _2d2=dj.byId("exp_date");var _2d3=m.getMaxBPOExpiryDate();if(this.get("value")!==""&&_2d3&&_2d3!==""){if(d.date.compare(this.get("value"),_2d3)>0){this.invalidMessage=m.getLocalization("BPOexpiryDateLessThanEarliestShipmentError",[_1a(this),dojo.date.locale.format(_2d3,{locale:dojo.config.locale,formatLength:"short",selector:"date"})]);return false;}}if(_2d2&&!m.compareDateFields(this,_2d2)){this.invalidMessage=m.getLocalization("expiryDateLessThanEarliestShipmentError",[_1a(this),_1a(_2d2)]);return false;}var _2d4=dj.byId("last_ship_date");if((_2d4&&_2d4.get("value")!=null)&&(d.date.compare(this.get("value"),m.localizeDate(_2d4))>0)){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanLastShipDate",[_1a(this),_1a(_2d4)]);return false;}var _2d5=dj.byId("line_item_last_ship_date");if((_2d5&&_2d5.get("value")!=null)&&(d.date.compare(this.get("value"),m.localizeDate(_2d5))>0)){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanLastShipDate",[_1a(this),_1a(_2d5)]);return false;}var _2d6=dj.byId("schedule_latest_ship_date");var _2d7=dj.byId("line_item_shipment_schedules");if(_2d7&&_2d7.store&&_2d7.store._arrayOfTopLevelItems.length>0&&_2d6&&_2d6.get("value")!=null){if(d.date.compare(this.get("value"),m.localizeDate(_2d6))>0){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanLastShipDate",[_1a(this),_1a(_2d6)]);return false;}}return true;},validateGroupCode:function(){var _2d8=reg_exp_validationCode.value,_2d9=dj.byId("group_code").get("value"),_2da=new RegExp(_2d8);if(_2d9){if(!_2da.test(_2d9)){dj.byId("group_code").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateCode"));return false;}}return true;},validateDescription:function(){var _2db=reg_exp_validationDesc.value,_2dc=dj.byId("description").get("value"),_2dd=new RegExp(_2db);if(_2dc){if(!_2dd.test(_2dc)){dj.byId("description").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateDesc"));return false;}}return true;},validateLCAvailablelAmount:function(_2de){if(_2de){var amt=_2de.get("value");var _2df,_2e0;if((amt<0)||(amt===undefined)){_2df=m.getLocalization("invalidMessage");_2de.set("state","Error");dj.hideTooltip(_2de.domNode);dj.showTooltip(_2df,_2de.domNode,0);_2de.focus();return false;}else{return true;}}return true;},validateSubGroupCode:function(){var _2e1=reg_exp_validationCode.value,_2e2=dj.byId("sub_group_code").get("value"),_2e3=new RegExp(_2e1);if(_2e2){if(!_2e3.test(_2e2)){dj.byId("sub_group_code").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateCode"));return false;}}return true;},validateHighTargetBalances:function(){if(dj.byId("subGrpType").get("value")&&dj.byId("subGrpType").get("value")==="1"){if(dj.byId("high_target")&&dj.byId("low_target")){var _2e4=dj.byId("high_target").get("value");var _2e5=dj.byId("low_target").get("value");if(_2e4<_2e5){var _2e6=misys.getLocalization("hightargetLesserThanhighTargetError");dj.byId("high_target").set("state","Error");dj.hideTooltip(dj.byId("high_target").domNode);dj.showTooltip(_2e6,dj.byId("high_target").domNode,0);return false;}}}return true;},validateLowTargetBalances:function(){if(dj.byId("subGrpType").get("value")&&dj.byId("subGrpType").get("value")==="1"){if(dj.byId("high_target")&&dj.byId("low_target")){var _2e7=dj.byId("high_target").get("value");var _2e8=dj.byId("low_target").get("value");if(_2e8>_2e7){var _2e9=misys.getLocalization("lowtargetGreaterThanhighTargetError");dj.byId("low_target").set("state","Error");dj.hideTooltip(dj.byId("low_target").domNode);dj.showTooltip(_2e9,dj.byId("low_target").domNode,0);return false;}}}return true;},validateSubGrpDescription:function(){var _2ea=reg_exp_validationDesc.value,_2eb=dj.byId("subgrp_description").get("value"),_2ec=new RegExp(_2ea);if(_2eb){if(!_2ec.test(_2eb)){dj.byId("subgrp_description").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateDesc"));return false;}}return true;},checkUploadTemplateNameExists:function(){var name,_2ed,_2ee,_2ef;var _2f0=false;if(dj.byId("name")){name=dj.byId("name").get("value");}if(dj.byId("product_code")){_2ed=dj.byId("product_code").get("value");}if(dj.byId("sub_product_code")){_2ee=dj.byId("sub_product_code").get("value");}if(dj.byId("upload_template_id")){_2ef=dj.byId("upload_template_id").get("value");}if(name!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckFileUploadTemplateAction"),handleAs:"json",sync:true,content:{name:name,productCode:_2ed,subProdCode:_2ee,uploadTemplateId:_2ef},load:function(_2f1,args){_2f0=_2f1.items.valid;}});}return _2f0;},checkNumericOnlyValue:function(){var _2f2=this.get("value");if(_2f2!==""){if(_2f2.match(/^[0-9]+$/)===null){this.invalidMessage=misys.getLocalization("valueShouldBeInteger");this.set("state","Error");dj.hideTooltip(this.domNode);dj.showTooltip(misys.getLocalization("valueShouldBeInteger"),this.domNode,0);return false;}}return true;},validatePeriodPresentationDays:function(){var _2f3=dj.byId("period_presentation_days");var _2f4=dj.byId("period_presentation_days").get("value");if(typeof _2f4==="undefined"){this.invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}else{if(_2f4<=0){this.invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateBeneficiaryStatus:function(){var _2f5=dj.byId("beneficiary_name")?dj.byId("beneficiary_name").get("value"):"";var _2f6=dj.byId("company_id")?dj.byId("company_id").get("value"):"";var _2f7=true;if(_2f5!==""&&_2f6!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateBeneficiaryStatus"),handleAs:"json",sync:true,content:{beneficiary_name:_2f5,company_id:_2f6},load:function(_2f8,args){if(_2f8&&_2f8.items&&_2f8.items.active===false){_2f7=false;}else{}},error:function(_2f9,args){_2f7=false;console.error(" Validating beneficiary status error",_2f9);}});}return _2f7;},validateLength:function(_2fa){var set=true;var _2fb=m._config.trade_total_combined_sizeallowed;d.forEach(_2fa,function(id){if(id){var _2fc=0;var _2fd=[id+"_name",id+"_address_line_1",id+"_address_line_2",id+"_dom",id+"_address_line_4"];d.forEach(_2fd,function(id){var _2fe=dj.byId(id);if(_2fe){_2fc=_2fc+(_2fe.get("value")).length;if(_2fc>_2fb){m._config.onSubmitErrorMsg=m.getLocalization("invalidBankFieldSizeErrorForTrade");set=false;}}});}});return set;},validateDiscountExpDate:function(){if(!this.get("value")){return true;}var _2ff=dj.byId("due_date");if(!m.compareDateFields(this,_2ff)){this.invalidMessage=m.getLocalization("expiryDateGraterThanDueDateError",[_1a(this),_1a(_2ff)]);return false;}return true;},validateEmailid:function(){var _300;if(dj.byId("email")){_300=dj.byId("email").get("value");}if(_300!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateEmailAddress"),handleAs:"json",sync:true,content:{email:_300},load:_1c});}},validateBaseDateWithCurrentSystemDate:function(){if(!this.get("value")){return true;}var _301=this.get("value");var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("baseDateGreaterThanSystemDateError",[_1a(this)]);return false;}return true;},validateMaturityDateWithSystemDate:function(){if(!this.get("value")){return true;}var _302=this.get("value");var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("maturityDateLessThanSystemDateError",[_1a(this)]);return false;}return true;},validateOffset:function(_303){if(_303==Math.floor(_303)){return true;}else{return false;}},bofunction:function(){var _304=dj.byId("bo_comment");if(_304.get("value").charAt(0)=="-"){this.invalidMessage=m.getLocalization("hyphenError");return false;}if(this.rowCount>=this.maxSize){this.invalidMessage=misys.getLocalization("textareaLinesError",[this.maxSize,this.rowCount+1]);return false;}return true;},getUnitMesureLocalization:function(_305,item){var _306="";if(item){var _307=item.qty_unit_measr_label[0];_306=_307;}return _306;},validateMandatoryRemarks:function(){var _308=dj.byId("issuing_bank_abbv_name"),_309=dj.byId("sub_product_code"),_30a=dj.byId("ft_cur_code"),_30b=dj.byId("applicant_act_cur_code");var _30c=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateMandatoryRemarks"),handleAs:"json",sync:true,content:{bank_name:_308.get("value"),payment_type:_309.get("value"),credit_currency:_30a.get("value"),debit_currency:_30b.get("value")},load:function(_30d,args){var a="";switch(_30d.items.StatusCode){case "OK":var _30e=_30d.items.mandatoryIndicator;var _30f=_30d.items.credCur;var _310=_30d.items.debCur;if(_30e&&_30f&&_310){if(_30e==="Y"||_30e==="y"){dj.byId("free_format_text").set("required",true);if(document.getElementById("mandatorySpan")==undefined){var _311=dojo.create("span",{"id":"mandatorySpan","class":"required-field-symbol","innerHTML":"*"});d.parser.parse(_311);dojo.place(_311,dojo.byId("free_format_text"),"before");_30c=true;}else{a=document.getElementById("mandatorySpan");a.setAttribute("style","display:inline-block");}}}else{dj.byId("free_format_text").set("required",false);if(document.getElementById("mandatorySpan")){a=document.getElementById("mandatorySpan");a.setAttribute("style","display:none");}}break;default:break;}},error:function(_312,args){console.error(_5);console.error(_312);}});return _30c;},MT103DetailsBeneficiary:function(){var _313=dj.byId("issuing_bank_abbv_name"),_314=dj.byId("sub_product_code"),_315=dj.byId("ft_cur_code"),_316=dj.byId("applicant_act_cur_code");var _317=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateMandatoryRemarks"),handleAs:"json",sync:true,content:{bank_name:_313.get("value"),payment_type:_314.get("value"),credit_currency:_315.get("value"),debit_currency:_316.get("value")},load:function(_318,args){var a="";switch(_318.items.StatusCode){case "OK":var _319=_318.items.mandatoryIndicator;if(_319){if(_319==="Y"||_319==="y"){dj.byId("payment_details_to_beneficiary").set("required",true);m.toggleRequired("payment_details_to_beneficiary",true);}}else{dj.byId("payment_details_to_beneficiary").set("required",false);m.toggleRequired("payment_details_to_beneficiary",false);}break;default:break;}},error:function(_31a,args){console.error(_5);console.error(_31a);}});return _317;},validateRemittanceReasonCode:function(){var _31b=dj.byId("issuing_bank_abbv_name"),_31c=dj.byId("ft_cur_code");var _31d=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateRemittanceReasonCode"),handleAs:"json",sync:true,content:{bank_name:_31b.get("value"),bene_currency:_31c.get("value")},load:function(_31e,args){switch(_31e.items.StatusCode){case "OK":var _31f=_31e.items.mandatoryIndicator;_31d=true;if(_31f){if(_31f==="Y"||_31f==="y"){m.toggleRequired("remittance_description",true);}}else{m.toggleRequired("remittance_description",false);}break;default:break;}},error:function(_320,args){console.error(_5);console.error(_320);}});return _31d;},MT103ValidCountryCode:function(){var _321=dj.byId("issuing_bank_abbv_name"),_322=dj.byId("ft_cur_code"),_323=dj.byId("cpty_bank_country");if(_323.get("value")===""){return true;}var _324=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateCountryCode"),handleAs:"json",sync:true,content:{bank_name:_321.get("value"),currency_code:_322.get("value"),country_code:_323.get("value")},load:function(_325,args){var a="";switch(_325.items.StatusCode){case "Mandatory":var _326=_325.items.mandatoryIndicator;var _327=_325.items.countryCode;_324=true;if(_326&&_327){if(_326==="Y"||_326==="y"){m.toggleRequired("intermediary_bank_swift_bic_code",true);m.toggleRequired("intermediary_bank_name",true);m.toggleRequired("intermediary_bank_address_line_1",true);m.toggleRequired("intermediary_bank_country",true);}}else{m.toggleRequired("intermediary_bank_swift_bic_code",false);m.toggleRequired("intermediary_bank_name",false);m.toggleRequired("intermediary_bank_address_line_1",false);m.toggleRequired("intermediary_bank_country",false);}break;case "NotMandatory":m.toggleRequired("intermediary_bank_swift_bic_code",false);m.toggleRequired("intermediary_bank_name",false);m.toggleRequired("intermediary_bank_address_line_1",false);m.toggleRequired("intermediary_bank_country",false);break;default:break;}},error:function(_328,args){console.error(_5);console.error(_328);}});return _324;},MT103Intermediarydetailvalidation:function(){if(!misys._config.mt103_intermediary_details){return true;}var _329=dj.byId("issuing_bank_abbv_name"),_32a=dj.byId("ft_cur_code"),_32b=dj.byId("intermediary_bank_country"),_32c="";var _32d=true;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/IntermediaryDetailValidation"),handleAs:"json",sync:true,content:{bank_name:_329.get("value"),currency_code:_32a.get("value"),country_code:_32b.get("value")},load:function(_32e,args){var a="";switch(_32e.items.StatusCode){case "Mandatory":var _32f=_32e.items.mandatoryIndicator;var _330=_32e.items.countryCode;_32d=false;if(_32f&&_330){if(_32f==="Y"||_32f==="y"){_32c=_32b.value+": is not valid Country Code";_32b.set("state","Error");m.dialog.show("ERROR",_32c);}}else{m.toggleRequired("intermediary_bank_country",false);_32d=true;}break;case "NotMandatory":m.toggleRequired("intermediary_bank_country",false);_32d=true;break;default:break;}},error:function(_331,args){console.error(_5);console.error(_331);}});return _32d;},_validateCurrencyCode:function(_332,_333){var _334=_332?_332.get("value"):"";var _335=_333?_333.get("value"):"";var _336="";var _337=true;if(_335!=""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateCurrencyValid"),handleAs:"json",sync:true,content:{subproductcode:_334,transferCurCode:_335},load:function(_338,args){var _339=_338.isValid;if(!_339){_336=m.getLocalization("invalidCurrencyConfigured",[_333.get("value")]);_333.set("state","Error");dj.showTooltip(_336,_333.domNode,0);_337=false;return _337;}}});}return _337;}});})(dojo,dijit,misys);dojo.require("misys.client.validation.common_client");}